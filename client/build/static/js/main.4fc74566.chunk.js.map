{"version":3,"sources":["img/kakaoPay.png","Components/images/logo.png","Routes/Reservation/Modal/Context.js","_actions/user_action.js","_actions/types.js","Components/Config.js","Routes/Booking/Booking.js","Routes/Reservation/Reservation.js","Routes/Booking/BookingAll.js","Routes/Reservation/ReservationAll.js","Components/Section.js","Components/Loader.js","Components/Message.js","Components/Poster.js","Routes/Home/HomePresenter.js","api.js","Routes/Home/index.js","Routes/Home/HomeContainer.js","Routes/Search/SearchPoster.js","Routes/Search/SearchSection.js","Routes/Search/SearchPresenter.js","Routes/Search/index.js","Routes/Search/SearchContainer.js","Components/Header.js","Routes/Detail/Cast/CastItem.js","Routes/Detail/Cast/Cast.js","Routes/Detail/Video/Video.js","Routes/Detail/Sections/Favorite.js","Routes/Detail/Recommendation/RecommendatinMovie.js","Routes/Detail/Recommendation/Recommendation.js","Routes/Detail/DetailPresenter.js","Routes/Detail/index.js","Routes/Detail/DetailContainer.js","Routes/Login/SocialLogin.js","Routes/Login/Login.js","Routes/Login/index.js","Routes/SignUp/SignUp.js","Routes/SignUp/index.js","Routes/Logout/LogoutContainer.js","Routes/Logout/index.js","hoc/auth.js","Components/FavoriteSection.js","Components/FavoritePoster.js","Routes/Favorite/FavoritePresenter.js","Routes/Favorite/index.js","Routes/Favorite/FavoriteContainer.js","Routes/Admin/TotalUser/UserList.js","Routes/Admin/TotalUser/TotalUsers.js","Routes/Admin/TotalReservation/TotalReservation.js","Routes/Admin/TotalProduct/TotalProduct.js","Routes/Admin/TotalSales/TotalSales.js","Routes/Admin/DashBoard/DashBoard.js","Routes/Admin/TotalReservation/ReservationsCalendar.js","Routes/Admin/TotalReservation/ReservationList.js","utils/FileUpload.js","Routes/Admin/UploadProduct/UploadProduct.js","Routes/Admin/ProductList/ProductList.js","Routes/Admin/ProductList/Product.js","Routes/Admin/AdminContainer.js","Routes/Admin/index.js","Routes/MyScore/Result/RecentRating.js","Routes/MyScore/Result/GenrePreference.js","Routes/MyScore/Result/Result.js","Routes/MyScore/MyScoreSection.js","Routes/MyScore/MyScoreRating.js","Routes/MyScore/MyScorePoster.js","Routes/MyScore/MyScore.js","Routes/MyScore/index.js","Routes/UpdateProfile/UpdateProfile.js","Routes/UpdateProfile/index.js","Routes/MyMovie/Sections/Paper.js","Routes/MyMovie/Sections/Portlet.js","Routes/MyMovie/Sections/PortletContent.js","Routes/MyMovie/Sections/styles.js","Routes/MyMovie/Sections/UserMovie.js","Routes/Product/CartPage/CartPage.js","Routes/MyMovie/MyMovie.js","Routes/MyMovie/index.js","utils/ImageSlider.js","Routes/Product/Section/SearchFeature.js","Routes/Product/Product.js","Routes/Product/index.js","Routes/DetailProductPage/Section/ProductImage.js","Routes/DetailProductPage/Section/ProductInfo.js","Routes/DetailProductPage/DetailProductPage.js","Components/Router.js","Components/GlobalStyles.js","Components/App.js","_reducers/index.js","_reducers/user_reducer.js","utils/theme.js","index.js"],"names":["module","exports","Continents","key","value","label","ContinentsAll","SeatA","SeatB","SeatC","SeatD","SeatE","SeatF","SeatG","SeatA2","SeatB2","SeatC2","SeatD2","SeatE2","SeatF2","SeatG2","auth","type","payload","axios","get","then","response","data","addToMovie","objectId","body","objId","post","removeCartItem","productId","cart","forEach","item","productInfo","product","index","id","_id","quantity","API_URL","API_KEY","IMAGE_BASE_URL","LOCAL_SERVER","CLIENT","PriceTag","styled","div","Small","Wrapper","SeatWrapper","SelectWrapper","InnerWrapper","Cover","props","bgImage","Booking","title","userFrom","selectDay","time","theater","dispatch","useDispatch","useState","Continent","setContinent","Seat","setSeat","Price","setPrice","Distinct","setDistinct","movieTitle","useEffect","success","seatlist","seats","obj","day","month","year","push","seat","flatlist","flat","catch","err","console","log","onSeatChange","e","length","target","classList","contains","remove","SeatFiltered","filter","textContent","add","includes","alert","stopPropagation","colourStyles","control","styles","backgroundColor","borderRadius","fontSize","width","height","border","boxShadow","color","fontWeight","option","isDisabled","isFocused","cursor","groupedOptions","options","placeholder","onChange","event","style","marginTop","display","flexDirection","padding","map","borderColor","src","require","alt","float","onClick","IMP","window","init","request_pay","pg","pay_method","merchant_uid","Date","getTime","name","amount","buyer_email","buyer_name","buyer_tel","buyer_addr","buyer_postcode","m_redirect_url","rsp","msg","imp_uid","paid_amount","continent","price","location","href","doc","transactionSuccess","error_msg","className","marginLeft","textAlign","Button1","button","Button2","TitleWrapper","Title","span","Continents1","check","Continents2","Reservation","movieOptions","nowPlaying","movie","poster","poster_path","setSelectedDay","setTime","setMovie","setPoster","setID","visible","setVisible","setTheater","setKey","onTime","Axios","countLeftSeats","countAllSeats","count","myColor","trigger","variant","modal","closeOnDocumentClick","triggerOn","contentStyle","minimumDate","utils","getToday","renderInput","ref","readOnly","outline","shouldHighlightWeekends","marginBottom","BookingAll","subCount","setSubCount","selectedArr","setSelectedArr","unselected","document","querySelector","querySelectorAll","arr","temp","sub","innerHTML","ReservationAll","Container","Grid","Section","children","localStorage","getItem","role","aria-label","Text","Message","text","Image","bgUrl","Rating","ImageContainer","Year","RatingsWrapper","Poster","imageUrl","rating","to","substring","Effect","TopSection","Hero","HeroContent","HeroContentText","HeroContentP","withRouter","upcoming","loading","error","Helmet","Loader","autoplay","position","vote_average","release_date","isMovie","api","create","baseURL","params","api_key","language","page","region","moviesApi","append_to_response","term","query","HomeContainer","state","settings","dots","infinite","speed","slidesToShow","slidesToScroll","results","this","setState","React","Component","SearchPoster","SearchSection","Form","form","Input","input","SearchPresenter","movieResults","searchTerm","handleSubmit","updateTerm","onSubmit","original_title","SearchContainer","preventDefault","searchByTerm","a","Header","header","List1","ul","List2","Item","li","SLink","Link","handleScroll","windowHeight","innerHeight","documentElement","offsetHeight","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","x","getElementById","y","user","useSelector","addEventListener","pathname","current","margin","userData","isAuth","overflow","objectFit","justifyContent","image","itemAlign","offset","ShoppingCartOutlined","history","MovieImg","img","Name","Box","CastItem","person","profile_path","Test","Credits","items","cast","Heading","h3","theme","mediaQueries","medium","Video","video","frameBorder","allow","allowFullScreen","useStyles","makeStyles","root","Favorite","movieId","movieInfo","original_name","moviePost","movieYear","first_air_date","movieRating","FavoriteNumber","setFavoriteNumber","Favorited","setFavorited","variables","favoriteNumber","favorited","classes","RecommendatinMovie","Recommendation","movies","recommendation","Backdrop","Content","Data","ItemContainer","Divider","Overview","p","ButtonsWrapper","small","result","castResult","recommendations","backdrop_path","runtime","episode_run_time","genres","genre","parseInt","overview","Cast","DetailContainer","modalOpened","match","parsedId","isNaN","GoGo","KaKaoBtn","KaKaoLogin","responseGoogle","tokenId","loginSuccess","setItem","userId","clientId","render","renderProps","disabled","buttonText","onSuccess","onFailure","cookiePolicy","scope","jsKey","getProfile","Login","Email","setEmail","Password","setPassword","dataToSubmit","email","password","currentTarget","SignUp","setName","ConfirmPassword","setConfirmPassword","FilePath","setFilePath","setFileName","Gender","setGender","onGenderHandler","gender","onDrop","files","formData","FormData","append","filePath","fileName","multiple","maxSize","getRootProps","getInputProps","alignItems","marginRight","LogoutContainer","SpecificComponent","adminRoute","AuthenticationCheck","isAdmin","FavoriteSection","spacing","background","textDecoration","DelBtnContainer","FavoritePoster","onClickDelete","Button","startIcon","favoriteMovies","FavoriteContainer","setFavoriteMovies","setError","setLoading","fetchFavoredMovie","favorites","Column","Table","UserList","User","setUser","getUser","users","subTitle","tags","avatar","dataSource","dataIndex","size","onRoleAdminHandler","onRoleUserHandler","ghost","danger","onUserDeleteHandler","content","green","icon","difference","differenceIcon","differenceValue","TotalUsers","UserCount","setUserCount","Card","classnames","CardContent","container","justify","Typography","gutterBottom","Avatar","TotalReservation","ReservationCount","setReservationCount","TotalProduct","ProductCount","setProductCount","products","reservationlist","reduce","accumulator","currentValue","myData","Number","toLocaleString","DashBoard","action","setAction","adventure","setAdventure","ani","setAni","comedy","setComedy","crime","setCrime","docu","setDocu","drama","setDrama","family","setFamily","fantasy","setFantasy","setHistory","horror","setHorror","music","setMusic","mystery","setMystery","romance","setRomance","sf","setSF","tv","setTV","thriller","setThriller","war","setWar","western","setWestern","g","element","userGender","male","female","expDataUserGender","labels","datasets","borderWidth","hoverBorderWidth","fill","lineTension","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","lg","sm","xl","xs","TotalSales","legend","fontFamily","scales","xAxes","gridLines","yAxes","ticks","beginAtZero","userCallback","toString","split","join","tooltips","enabled","StyleWrapper","ReservationsCalendar","setReservation","events","selectday","reservationdate","date","defaultView","left","center","right","plugins","dayGridPlugin","timeGridPlugin","interactionPlugin","ReservationList","FileUpload","Images","setImages","refreshFunction","PlusOutlined","overflowX","currentIndex","indexOf","newImages","splice","deleteHandler","minWidth","TextArea","UploadProductPage","TitleValue","setTitleValue","DescriptionValue","setDescriptionValue","PriceValue","setPriceValue","ContinentValue","setContinentValue","writer","description","images","continents","maxWidth","level","ProductList","History","newDoc","i","uid","Product","setProduct","getProduct","onProductDeleteHandler","AdminContainer","Layout","Footer","Sider","SubMenu","Menu","Collapsed","setCollapsed","minHeight","collapsed","onCollapse","defaultSelectedKeys","mode","ContainerOutlined","paddingLeft","exact","path","component","UploadProduct","Chart","SectionTitle","SectionGrid","PosterContainer","PosterImage","PosterTitle","RatingWapper","PosterWrapper","Nothing","RecentRating","recent","verticalAlign","score","ChartWrapper","GenrePreference","topGenre","expData","fontColor","Result","setRecent","setResult","setGenre","reverse","slice","genreApi","arrOfGenres","r","sort","b","PopUpButton","MyScoreSection","close","StarsWrapper","setCount","exist","MyScorePoster","MyScoreRating","Progress","Select","MyScore","buttonRef","useRef","Movies","setMovies","Loading","random","CurrentPage","setCurrentPage","endpoint","fetchMovies","fetch","json","newResult","adult","click","completed","bgcolor","labelColor","genre_ids","formItemLayout","labelCol","wrapperCol","UpdateProfile","updatePasswordConfirm","setUpdatePasswordConfirm","updatePassword","setUpdatePassword","currentPassword","setCurrentPassword","currentEmail","setCurrentEmail","currentName","setCurrentName","currentImage","setCurrentImage","UpdateName","setUpdateName","top","hasFeedback","validateStatus","variable","newName","newPassword","newImage","CustomPaper","outlined","squared","rest","rootClassName","classNames","Paper","defaultProps","elevation","withStyles","paddingRight","paddingTop","paddingBottom","flexGrow","noPadding","tableRow","tableCell","whiteSpace","tableCellInner","palette","primary","main","nameText","UserMovie","rowsPerPage","handleChangePage","handleChangeRowsPerPage","removeItem","TableHead","TableRow","TableCell","align","TableBody","hover","TablePagination","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","rowsPerPageOptions","CartPage","renderCartImage","MyMovie","ShowTotalMovie","setShowTotalMovie","ShowTotalProduct","setShowTotalProduct","Total","setTotal","ShowSuccess","setShowSuccess","movieObjIds","cartItems","userMovie","getMovieItems","userCart","cartItem","productDetail","getCartItems","calculateTotal","cartDetail","total","onSuccessBuy","paymentData","status","movieDetail","movieObjId","removeMovieItem","ImageSlider","maxHeight","Search","SearchFeature","SearchTerm","setSearchTerm","Products","setProducts","Skip","setSkip","PostSize","setPostSize","Limit","getProducts","skip","limit","loadMore","postSize","renderCards","md","hoverable","cover","newSearchTerm","gutter","ProductImage","detail","original","thumbnail","ProductInfo","borderCollapse","borderTop","borderBottom","sold","views","addToCart","DetailProductPage","Auth","Home","Detail","Logout","Admin","from","globalStyles","createGlobalStyle","reset","App","Router","GlobalStyles","rootReducer","combineReducers","register","colors","dark","light","lighter","link","smallest","smaller","large","larger","largest","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","store","Reducer","__REDUX_DEVTOOLS_EXTENSION__"],"mappings":"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","file":"static/js/main.4fc74566.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABTCAYAAADa+UgeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNWMyYjE1Ni01MTE5LTQ3NjEtYmNkMC1kNjQ3MGE4NDg4NmMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEY2MjFERTVBRkMwMTFFNjgxN0RCMjc4NzgyMkY0RkUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEY2MjFERTRBRkMwMTFFNjgxN0RCMjc4NzgyMkY0RkUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZmMGYxNjQ4LTY2MDUtNDY0YS1hNDI3LTgxOWMxOWFhYmYzMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNWMyYjE1Ni01MTE5LTQ3NjEtYmNkMC1kNjQ3MGE4NDg4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\"","module.exports = __webpack_public_path__ + \"static/media/logo.081312a4.png\";","export const Continents = [\r\n  { key: 1, value: \"1명\", label: \"1명\" },\r\n  { key: 2, value: \"2명\", label: \"2명\" },\r\n  { key: 3, value: \"3명\", label: \"3명\" },\r\n  { key: 4, value: \"4명\", label: \"4명\" },\r\n  { key: 5, value: \"5명\", label: \"5명\" },\r\n  { key: 6, value: \"6명\", label: \"6명\" },\r\n  { key: 7, value: \"7명\", label: \"7명\" },\r\n  { key: 8, value: \"8명\", label: \"8명\" },\r\n  { key: 9, value: \"9명\", label: \"9명\" },\r\n];\r\n\r\nexport const ContinentsAll = [\r\n  { key: 9, value: \"9명\", label: \"9명\" },\r\n  { key: 10, value: \"10명\", label: \"10명\" },\r\n  { key: 11, value: \"11명\", label: \"11명\" },\r\n  { key: 12, value: \"12명\", label: \"12명\" },\r\n  { key: 13, value: \"13명\", label: \"13명\" },\r\n  { key: 14, value: \"14명\", label: \"14명\" },\r\n  { key: 15, value: \"15명\", label: \"15명\" },\r\n  { key: 16, value: \"16명\", label: \"16명\" },\r\n  { key: 17, value: \"17명\", label: \"17명\" },\r\n];\r\n\r\nexport const SeatA = [\r\n  { key: 1, value: \"A1\" },\r\n  { key: 2, value: \"A2\" },\r\n  { key: 3, value: \"A3\" },\r\n  { key: 4, value: \"A4\" },\r\n  { key: 5, value: \"A5\" },\r\n  { key: 6, value: \"A6\" },\r\n  { key: 7, value: \"A7\" },\r\n];\r\n\r\nexport const SeatB = [\r\n  { key: 1, value: \"B1\" },\r\n  { key: 2, value: \"B2\" },\r\n  { key: 3, value: \"B3\" },\r\n  { key: 4, value: \"B4\" },\r\n  { key: 5, value: \"B5\" },\r\n  { key: 6, value: \"B6\" },\r\n  { key: 7, value: \"B7\" },\r\n  { key: 8, value: \"B8\" },\r\n];\r\n\r\nexport const SeatC = [\r\n  { key: 1, value: \"C1\" },\r\n  { key: 2, value: \"C2\" },\r\n  { key: 3, value: \"C3\" },\r\n  { key: 4, value: \"C4\" },\r\n  { key: 5, value: \"C5\" },\r\n  { key: 6, value: \"C6\" },\r\n  { key: 7, value: \"C7\" },\r\n  { key: 8, value: \"C8\" },\r\n];\r\n\r\nexport const SeatD = [\r\n  { key: 1, value: \"D1\" },\r\n  { key: 2, value: \"D2\" },\r\n  { key: 3, value: \"D3\" },\r\n  { key: 4, value: \"D4\" },\r\n  { key: 5, value: \"D5\" },\r\n  { key: 6, value: \"D6\" },\r\n  { key: 7, value: \"D7\" },\r\n  { key: 8, value: \"D8\" },\r\n];\r\n\r\nexport const SeatE = [\r\n  { key: 1, value: \"E1\" },\r\n  { key: 2, value: \"E2\" },\r\n  { key: 3, value: \"E3\" },\r\n  { key: 4, value: \"E4\" },\r\n  { key: 5, value: \"E5\" },\r\n  { key: 6, value: \"E6\" },\r\n  { key: 7, value: \"E7\" },\r\n  { key: 8, value: \"E8\" },\r\n];\r\n\r\nexport const SeatF = [\r\n  { key: 1, value: \"F1\" },\r\n  { key: 2, value: \"F2\" },\r\n  { key: 3, value: \"F3\" },\r\n  { key: 4, value: \"F4\" },\r\n  { key: 5, value: \"F5\" },\r\n  { key: 6, value: \"F6\" },\r\n  { key: 7, value: \"F7\" },\r\n  { key: 8, value: \"F8\" },\r\n];\r\n\r\nexport const SeatG = [\r\n  { key: 1, value: \"G1\" },\r\n  { key: 2, value: \"G2\" },\r\n  { key: 3, value: \"G3\" },\r\n  { key: 4, value: \"G4\" },\r\n  { key: 5, value: \"G5\" },\r\n  { key: 6, value: \"G6\" },\r\n  { key: 7, value: \"G7\" },\r\n  { key: 8, value: \"G8\" },\r\n];\r\n\r\n/* ==================================2관 좌석표==================================== */\r\n\r\nexport const SeatA2 = [\r\n  { key: 1, value: \"A1\" },\r\n  { key: 2, value: \"A2\" },\r\n  { key: 3, value: \"A3\" },\r\n  { key: 4, value: \"A4\" },\r\n];\r\n\r\nexport const SeatB2 = [\r\n  { key: 1, value: \"B1\" },\r\n  { key: 2, value: \"B2\" },\r\n  { key: 3, value: \"B3\" },\r\n  { key: 4, value: \"B4\" },\r\n  { key: 5, value: \"B5\" },\r\n];\r\n\r\nexport const SeatC2 = [\r\n  { key: 1, value: \"C1\" },\r\n  { key: 2, value: \"C2\" },\r\n  { key: 3, value: \"C3\" },\r\n  { key: 4, value: \"C4\" },\r\n  { key: 5, value: \"C5\" },\r\n  { key: 6, value: \"C6\" },\r\n  { key: 7, value: \"C7\" },\r\n  { key: 8, value: \"C8\" },\r\n];\r\n\r\nexport const SeatD2 = [\r\n  { key: 1, value: \"D1\" },\r\n  { key: 2, value: \"D2\" },\r\n  { key: 3, value: \"D3\" },\r\n  { key: 4, value: \"D4\" },\r\n  { key: 5, value: \"D5\" },\r\n  { key: 6, value: \"D6\" },\r\n  { key: 7, value: \"D7\" },\r\n  { key: 8, value: \"D8\" },\r\n];\r\n\r\nexport const SeatE2 = [\r\n  { key: 1, value: \"E1\" },\r\n  { key: 2, value: \"E2\" },\r\n  { key: 3, value: \"E3\" },\r\n  { key: 4, value: \"E4\" },\r\n  { key: 5, value: \"E5\" },\r\n  { key: 6, value: \"E6\" },\r\n  { key: 7, value: \"E7\" },\r\n  { key: 8, value: \"E8\" },\r\n];\r\n\r\nexport const SeatF2 = [\r\n  { key: 1, value: \"F1\" },\r\n  { key: 2, value: \"F2\" },\r\n  { key: 3, value: \"F3\" },\r\n  { key: 4, value: \"F4\" },\r\n  { key: 5, value: \"F5\" },\r\n  { key: 6, value: \"F6\" },\r\n];\r\n\r\nexport const SeatG2 = [\r\n  { key: 1, value: \"G1\" },\r\n  { key: 2, value: \"G2\" },\r\n  { key: 3, value: \"G3\" },\r\n  { key: 4, value: \"G4\" },\r\n  { key: 5, value: \"G5\" },\r\n  { key: 6, value: \"G6\" },\r\n];","import axios from \"axios\";\r\nimport {\r\n  REGISTER_USER,\r\n  LOGIN_USER,\r\n  AUTH_USER,\r\n  ADD_TO_MOVIE,\r\n  GET_MOVIE_ITEMS,\r\n  REMOVE_MOVIE_ITEM,\r\n  ADD_TO_CART,\r\n  GET_CART_ITEMS,\r\n  REMOVE_CART_ITEM,\r\n  ON_SUCCESS_BUY,\r\n  REMOVE_PRODUCT,\r\n} from \"./types\";\r\n\r\nexport function loginUser(dataToSubmit) {\r\n  //node로 정보 보내기\r\n  const request = axios\r\n    .post(\"/api/users/login\", dataToSubmit)\r\n    .then((response) => response.data);\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: LOGIN_USER,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function registerUser(dataToSubmit) {\r\n  //node로 정보 보내기\r\n  const request = axios\r\n    .post(\"/api/users/register\", dataToSubmit)\r\n    .then((response) => response.data);\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: REGISTER_USER,\r\n    payload: request,\r\n  };\r\n}\r\n\r\n//get메소드는 body부분이 필요없다.\r\nexport function auth() {\r\n  //node로 정보 보내기\r\n  const request = axios\r\n    .get(\"/api/users/auth\")\r\n    .then((response) => response.data);\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: AUTH_USER,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function addToMovie(objectId) {\r\n  let body = {\r\n    objId: objectId,\r\n  };\r\n\r\n  //node로 정보 보내기\r\n  const request = axios\r\n    .post(\"/api/users/addToMovie\", body)\r\n    .then((response) => response.data);\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: ADD_TO_MOVIE,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function addToCart(id) {\r\n  let body = {\r\n    productId: id,\r\n  };\r\n\r\n  const request = axios\r\n    .post(\"/api/users/addToCart\", body)\r\n    .then((response) => response.data);\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: ADD_TO_CART,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function getMovieItems(movieObjIds, userMovie) {\r\n  //node로 정보 보내기\r\n  const request = axios\r\n    .get(`/api/reservation/reservation_by_id?id=${movieObjIds}&type=array`)\r\n    .then((response) => {\r\n      return response.data;\r\n    });\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: GET_MOVIE_ITEMS,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function getCartItems(cartItems, userCart) {\r\n  const request = axios\r\n    .get(`/api/product/products_by_id?id=${cartItems}&type=array`)\r\n    .then((response) => {\r\n      //CartItem들에 해당하는 정보들을\r\n      //product collection에서 가져온후에\r\n      //Quantity 정보를 넣어 준다.\r\n      userCart.forEach((cartItem) => {\r\n        response.data.forEach((productDetail, index) => {\r\n          if (cartItem.id === productDetail._id) {\r\n            response.data[index].quantity = cartItem.quantity;\r\n          }\r\n        });\r\n      });\r\n      return response.data;\r\n    });\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: GET_CART_ITEMS,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function removeMovieItem(movieObjId) {\r\n  //node로 정보 보내기\r\n  const request = axios\r\n    .get(`/api/users/removeFromMovie?id=${movieObjId}`)\r\n    .then((response) => {\r\n      return response.data;\r\n    });\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: REMOVE_MOVIE_ITEM,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function removeCartItem(productId) {\r\n  //node로 정보 보내기\r\n  const request = axios\r\n    .get(`/api/users/removeFromCart?id=${productId}`)\r\n    .then((response) => {\r\n      //productInfo, cart 정보를 조합해서 CartDetail을 만든다.\r\n      response.data.cart.forEach((item) => {\r\n        response.data.productInfo.forEach((product, index) => {\r\n          if (item.id === product._id) {\r\n            response.data.productInfo[index].quantity = item.quantity;\r\n          }\r\n        });\r\n      });\r\n\r\n      return response.data;\r\n    });\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: REMOVE_CART_ITEM,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function onSuccessBuy(data) {\r\n  //node로 정보 보내기\r\n  const request = axios\r\n    .post(`/api/users/successBuy`, data)\r\n    .then((response) => response.data);\r\n\r\n  return {\r\n    //request를 reducer로 넘기는 작업\r\n    type: ON_SUCCESS_BUY,\r\n    payload: request,\r\n  };\r\n}\r\n\r\nexport function removeProduct(id){\r\n  console.log(\"remove\");\r\n\r\n  return {\r\n    type: REMOVE_PRODUCT,\r\n  }\r\n}","export const LOGIN_USER = \"login_user\";\r\nexport const REGISTER_USER = \"register_user\";\r\nexport const AUTH_USER = \"auth_user\";\r\nexport const ADD_TO_MOVIE = \"add_to_movie\";\r\nexport const GET_MOVIE_ITEMS = \"get_movie_items\";\r\nexport const REMOVE_MOVIE_ITEM = \"remove_movie_item\";\r\nexport const ADD_TO_CART = \"add_to_cart\";\r\nexport const GET_CART_ITEMS = \"get_cart_items\";\r\nexport const REMOVE_CART_ITEM = \"remove_cart_item\";\r\nexport const ON_SUCCESS_BUY = \"on_success_buy\";\r\nexport const REMOVE_PRODUCT = \"remove_product\";\r\n","//SERVER ROUTES\r\nexport const USER_SERVER = \"/api/users\";\r\nexport const API_URL = \"https://api.themoviedb.org/3/\";\r\nexport const API_KEY = \"45833f15a88d96fe1299fe1e441fe383\";\r\nexport const IMAGE_BASE_URL = \"http://image.tmdb.org/t/p/\";\r\nexport const BACKDROP_SIZE = \"w1280\";\r\nexport const IMAGE_SIZE = \"w1280\";\r\n// w92, w154, w185, w342, w500, w780, original\r\nexport const POSTER_SIZE = \"w500\";\r\nexport const LOCAL_SERVER = \"http://localhost:5000/\";\r\nexport const CLIENT = \"http://localhost:3000/\";\r\nexport const GOOGLE_KEY =\r\n  \"929257267887-jabje0s2v9gdvfrm1avh5qr1q63j9p91.apps.googleusercontent.com\";\r\nexport const GOOGLE_LOGO = \"https://img0.yna.co.kr/etc/inner/KR/2015/09/02/AKR20150902004600091_07_i_P4.jpg\";\r\nexport const KAKAO_KEY = \"4835800b3d8f6f4b36c85d157690121c\";\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styled from \"styled-components\";\r\nimport \"../Reservation/style.css\";\r\nimport {\r\n  Continents,\r\n  SeatA2,\r\n  SeatB2,\r\n  SeatC2,\r\n  SeatD2,\r\n  SeatE2,\r\n  SeatF2,\r\n  SeatG2,\r\n  SeatF,\r\n  SeatG,\r\n  SeatE,\r\n  SeatD,\r\n  SeatA,\r\n  SeatB,\r\n  SeatC,\r\n} from \"../Reservation/Modal/Context\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToMovie } from \"../../_actions/user_action\";\r\nimport Select from \"react-select\";\r\nimport { IMAGE_BASE_URL, CLIENT } from \"../../Components/Config\";\r\n\r\nconst PriceTag = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 30px;\r\n`;\r\nconst Small = styled.div`\r\n  font-size: 20px;\r\n  color: white;\r\n`;\r\nconst Wrapper = styled.div`\r\n  float: left;\r\n  height: 100%;\r\n`;\r\nconst SeatWrapper = styled.div`\r\n  float: right;\r\n  height: 100%;\r\n`;\r\nconst SelectWrapper = styled.div`\r\n  background-color: #242333;\r\n  color: #fff;\r\n  font-family: \"Lato\", sans-serif;\r\n`;\r\nconst InnerWrapper = styled.div`\r\n  background-color: #242333;\r\n  color: #fff;\r\n  font-family: \"Lato\", sans-serif;\r\n`;\r\nconst Cover = styled.div`\r\n  width: 90%;\r\n  height: 100%;\r\n  background-image: url(${props => props.bgImage});\r\n  background-position: center center;\r\n  background-size: cover;\r\n  border-radius: 5px;\r\n  box-shadow: 2px 6px 20px 0 rgba(0, 0, 0, 0.65);\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nfunction Booking({ id, title, bgImage, userFrom, selectDay, time, theater }) {\r\n  const dispatch = useDispatch();\r\n  const [Continent, setContinent] = useState(0);\r\n  const [Seat, setSeat] = useState([]);\r\n  const [Price, setPrice] = useState(0);\r\n  const [Distinct, setDistinct] = useState([]);\r\n\r\n  const movieTitle = {\r\n    title: title,\r\n  };\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"/api/reservation/findSeat\", movieTitle)\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          let seatlist = [];\r\n          response.data.seats.forEach(obj => {\r\n            if (\r\n              obj.time[0].time === time.time &&\r\n              obj.selectDay[0].day === selectDay.day &&\r\n              obj.selectDay[0].month === selectDay.month &&\r\n              obj.selectDay[0].year === selectDay.year &&\r\n              obj.theater === theater\r\n            ) {\r\n              seatlist.push(obj.seat);\r\n            }\r\n          });\r\n          const flatlist = seatlist.flat(); //평탄화 함수!!! from 갓동제\r\n          setDistinct(flatlist);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n      //[]안에 없어서 warning뜸\r\n  }, [movieTitle, selectDay, theater, time]);\r\n  //seat 색 변경\r\n  const onSeatChange = e => {\r\n    if (Continent >= Seat.length + 1) {\r\n      //인원이 좌석수보다 크거나 같을때\r\n      if (\r\n        //빈좌석\r\n        !e.target.classList.contains(\"occupied\") &&\r\n        !e.target.classList.contains(\"selected\")\r\n      ) {\r\n        e.target.classList.add(\"selected\"); //누른게 선택좌석으로\r\n        setSeat([...Seat, e.target.textContent]); //저장\r\n      } else if (e.target.classList.contains(\"selected\")) {\r\n        //인원수와 좌석수가 같을때\r\n        //선택된좌석은 삭제\r\n        e.target.classList.remove(\"selected\");\r\n        const SeatFiltered = Seat.filter(seat => seat !== e.target.textContent); //text삭제\r\n        setSeat(SeatFiltered);\r\n      }\r\n    } else {\r\n      if (Continent === Seat.length) {\r\n        e.target.classList.remove(\"selected\");\r\n        const SeatFiltered = Seat.filter(seat => seat !== e.target.textContent); //text삭제\r\n        setSeat(SeatFiltered);\r\n        if (!Seat.includes(e.target.textContent)) {\r\n          alert(\"선택한 인원수보다 좌석을 많이 선택하셨습니다.\");\r\n        }\r\n      }\r\n      //인원보다 좌석지정이 많을경우\r\n      //클릭 못하게\r\n      e.stopPropagation();\r\n    }\r\n  };\r\n  const onCount = event => {\r\n    setContinent(event.key);\r\n    setPrice(event.key * 6000);\r\n  };\r\n  //결제후 DB저장\r\n  const transactionSuccess = () => {\r\n    const body = {\r\n      userFrom: userFrom,\r\n      id: id,\r\n      title: title,\r\n      selectDay: selectDay,\r\n      time: time,\r\n      continent: Continent,\r\n      seat: Seat,\r\n      price: Price,\r\n      theater: theater,\r\n    };\r\n    axios.post(\"/api/reservation\", body).then(response => {\r\n      if (response.data.success) {\r\n        alert(\"예매 성공\");\r\n        window.location.href = `${CLIENT}mymovie`;\r\n        //개인 영화 구매정보\r\n        dispatch(addToMovie(response.data.doc._id));\r\n      } else {\r\n        alert(\"예매 실패\");\r\n        return false;\r\n      }\r\n    });\r\n  };\r\n  const colourStyles = {\r\n    control: styles => ({\r\n      ...styles,\r\n      backgroundColor: \"white\",\r\n      borderRadius: \"1rem\",\r\n      fontSize: \"1.1rem\",\r\n      width: \"250px\",\r\n      height: \"35px\",\r\n      border: \"1px solid #9c88ff\",\r\n      boxShadow: \"0 1.5rem 2rem rgba(156, 136, 255, 0.2)\",\r\n      color: \"#2e2e2e\",\r\n      fontWeight: \"400\",\r\n    }),\r\n    option: (styles, { data, isDisabled, isFocused }) => {\r\n      return {\r\n        ...styles,\r\n        backgroundColor: isDisabled ? \"red\" : \"#f7f7f7\",\r\n        color: \"#151515\",\r\n        fontSize: \"1.1rem\",\r\n        cursor: isDisabled ? \"not-allowed\" : \"default\",\r\n      };\r\n    },\r\n  };\r\n  const groupedOptions = [\r\n    {\r\n      options: Continents,\r\n    },\r\n  ];\r\n  const onKaKaoPay = () => {\r\n    var IMP = window.IMP; // 생략가능\r\n    IMP.init(\"imp10561880\");\r\n    // 'iamport' 대신 부여받은 \"가맹점 식별코드\"를 사용\r\n    IMP.request_pay(\r\n      {\r\n        pg: \"inicis\", // version 1.1.0부터 지원.\r\n        pay_method: \"card\",\r\n        merchant_uid: \"merchant_\" + new Date().getTime(),\r\n        name: title,\r\n        amount: Price,\r\n        buyer_email: \"iamport@siot.do\",\r\n        buyer_name: \"구매자이름\",\r\n        buyer_tel: \"010-1234-5678\",\r\n        buyer_addr: \"서울특별시 강남구 삼성동\",\r\n        buyer_postcode: \"123-456\",\r\n        m_redirect_url: \"https://www.yourdomain.com/payments/complete\",\r\n      },\r\n      function (rsp) {\r\n        if (rsp.success) {\r\n          var msg = \"결제가 완료되었습니다.\";\r\n          msg += \"고유ID : \" + rsp.imp_uid;\r\n          msg += \"상점 거래ID : \" + rsp.merchant_uid;\r\n          msg += \"결제 금액 : \" + rsp.paid_amount;\r\n          transactionSuccess(); //결제 후 예매 내역 db 저장\r\n        } else {\r\n          msg = \"결제에 실패하였습니다.\";\r\n          msg += \"에러내용 : \" + rsp.error_msg;\r\n        }\r\n        alert(msg);\r\n      }\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        <SelectWrapper>\r\n          <Select\r\n            options={groupedOptions}\r\n            placeholder=\"  인원을 선택해주세요\"\r\n            styles={colourStyles}\r\n            onChange={onCount}\r\n          />\r\n        </SelectWrapper>\r\n        <InnerWrapper style={{ height: \"300px\", marginTop: \"20px\" }}>\r\n          <Cover bgImage={`${IMAGE_BASE_URL}original${bgImage}`} />\r\n        </InnerWrapper>\r\n        <InnerWrapper\r\n          style={{\r\n            height: \"200px\",\r\n            width:\"250px\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            fontSize: \"17px\",\r\n            padding: \"10px\",\r\n            color: \"#D8D8D8\",\r\n          }}\r\n        >\r\n          <table style={{ height: \"50%\" }}>\r\n            <tbody>\r\n              <tr>\r\n                <th style={{ color: \"white\" }}>날짜</th>\r\n                <td>\r\n                  {selectDay &&\r\n                    `${selectDay.year}-${selectDay.month}-${selectDay.day}`}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th style={{ color: \"white\" }}>시간</th>\r\n                <td>{time.time}</td>\r\n              </tr>\r\n              <tr>\r\n                <th style={{ color: \"white\" }}>인원</th>\r\n                <td>{Continent}</td>\r\n              </tr>\r\n              <tr>\r\n                <th style={{ color: \"white\" }}>좌석</th>\r\n                <td style={{ width: \"75%\" }}>\r\n                  {theater}관\r\n                  {Seat.map((seat, index) => {\r\n                    if (index < Seat.length - 1) {\r\n                      return seat + \", \";\r\n                    } else {\r\n                      return seat;\r\n                    }\r\n                  })}\r\n                </td>\r\n                <td></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <hr style={{ color: \"white\", borderColor: \"white\", width: \"100%\" }} />\r\n          <PriceTag>{Price}원</PriceTag>\r\n          <img\r\n            src={require(\"../../img/kakaoPay.png\")}\r\n            alt=\"kakaoPay\"\r\n            style={{ width: \"20%\", height: \"25px\", float: \"right\" }}\r\n            onClick={onKaKaoPay}\r\n          />\r\n        </InnerWrapper>\r\n      </Wrapper>\r\n      {theater % 2 === 1 ? (\r\n        <SeatWrapper>\r\n          <ul className=\"showcase\">\r\n            <li>\r\n              <div className=\"seat\"></div> <Small>빈좌석</Small>\r\n            </li>\r\n            <li>\r\n              <div className=\"seat selected\"></div> <Small>선택좌석</Small>\r\n            </li>\r\n            <li>\r\n              <div className=\"seat occupied\"></div> <Small>선택완료</Small>\r\n            </li>\r\n          </ul>\r\n          <hr\r\n            style={{ color: \"white\", borderColor: \"white\", marginLeft: \"20px\" }}\r\n          />\r\n          <div className=\"container\">\r\n            <div className=\"screen\"></div>\r\n            {\r\n              <div className=\"row\">\r\n                {SeatA.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatB.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatC.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatD.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatE.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatF.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatG.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n          </div>\r\n        </SeatWrapper>\r\n      ) : (\r\n        <SeatWrapper>\r\n          <ul className=\"showcase\">\r\n            <li>\r\n              <div className=\"seat\"></div> <Small>빈좌석</Small>\r\n            </li>\r\n            <li>\r\n              <div className=\"seat selected\"></div> <Small>선택좌석</Small>\r\n            </li>\r\n            <li>\r\n              <div className=\"seat occupied\"></div> <Small>선택완료</Small>\r\n            </li>\r\n          </ul>\r\n          <hr\r\n            style={{ color: \"white\", borderColor: \"white\", marginLeft: \"20px\" }}\r\n          />\r\n          <div className=\"container\">\r\n            <div className=\"screen\"></div>\r\n            {\r\n              <div className=\"row\">\r\n                {SeatA2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatB2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatC2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatD2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatE2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatF2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatG2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n          </div>\r\n        </SeatWrapper>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default Booking;\r\n","import \"date-fns\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"./style.css\";\r\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\";\r\nimport Booking from \"../Booking/Booking\";\r\nimport DatePicker, { utils } from \"react-modern-calendar-datepicker\";\r\nimport Select from \"react-select\";\r\nimport styled from \"styled-components\";\r\nimport Axios from \"axios\";\r\n\r\nconst colourStyles = {\r\n  control: styles => ({\r\n    ...styles,\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"1rem\",\r\n    fontSize: \"1.1rem\",\r\n    width: \"250px\",\r\n    textAlign: \"center\",\r\n    border: \"1px solid #9c88ff\",\r\n    boxShadow: \"0 1.5rem 2rem rgba(156, 136, 255, 0.2)\",\r\n    color: \"#2e2e2e\",\r\n    fontWeight: \"400\",\r\n  }),\r\n  option: (styles, { isDisabled, isFocused }) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: isDisabled ? \"#d4d4d4\" : \"#f7f7f7\",\r\n      color: \"#151515\",\r\n      fontSize: \"1.1rem\",\r\n      cursor: isDisabled ? \"not-allowed\" : \"default\",\r\n    };\r\n  },\r\n};\r\n// 예약 버튼\r\nconst Button1 = styled.button` \r\n  position: relative;\r\n  color: #9c88ff;\r\n  border: 3px solid #9c88ff;\r\n  border-radius: 5px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  background-color: #151515;\r\n  margin-left: 20px;\r\n  padding: 5px;\r\n  box-shadow: 0 1.5rem 2rem rgba(156, 136, 255, 0.2);\r\n`;\r\n//시간 버튼\r\nconst Button2 = styled.button`\r\n\r\ncolor: black;\r\nfont-weight: 800;\r\n  font-size: 15px;\r\n  margin: 8px;\r\n  padding: 5px 12px 5px 12px;\r\n  border: 1px solid gray;\r\n  outline: none;\r\n  &:hover {\r\n    background: mediumslateblue;\r\n    cursor: pointer;\r\n  }\r\n  &:focus {\r\n    background: mediumslateblue;\r\n  }\r\n`;\r\nconst Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  width: max-content;\r\n  padding: 5px;\r\n`;\r\nconst TitleWrapper = styled.div`\r\nmargin-top: 10px;\r\nmargin-bottom: 8px;\r\n`;\r\nconst Title = styled.span`\r\n  font-size: 18px;\r\n  margin: 5px;\r\n`;\r\n\r\nconst InnerWrapper = styled.div`\r\n  min-height:200px;\r\n  max-width:450px;\r\n`;\r\nconst Continents1 = [\r\n  { key: 1, label: \"11:00\", value: \"11:00\", check: false },\r\n  { key: 2, label: \"13:00\", value: \"13:00\", check: false },\r\n  { key: 3, label: \"15:00\", value: \"15:00\", check: false },\r\n  { key: 4, label: \"17:00\", value: \"17:00\", check: false },\r\n  { key: 5, label: \"19:00\", value: \"19:00\", check: false },\r\n  { key: 6, label: \"21:00\", value: \"21:00\", check: false },\r\n];\r\nconst Continents2 = [\r\n  { key: 1, label: \"10:00\", value: \"10:00\", check: false },\r\n  { key: 2, label: \"12:00\", value: \"12:00\", check: false },\r\n  { key: 3, label: \"14:00\", value: \"14:00\", check: false },\r\n  { key: 4, label: \"16:00\", value: \"16:00\", check: false },\r\n  { key: 5, label: \"18:00\", value: \"18:00\", check: false },\r\n  { key: 6, label: \"20:00\", value: \"20:00\", check: false },\r\n];\r\nconst Reservation = ({ userFrom, nowPlaying }) => {\r\n  const movieList = nowPlaying.map((movie, index) => ({\r\n    key: (index + 1) * 2,\r\n    label: movie.title,\r\n    value: movie.title,\r\n    poster: movie.poster_path,\r\n    isDisabled: index > 2 ? true : false,\r\n    id: movie.id,\r\n  }));\r\n  const movieOptions = [\r\n    {\r\n      options: movieList,\r\n    },\r\n  ];\r\n  const [selectDay, setSelectedDay] = useState(null);\r\n  const [time, setTime] = useState(\"\");\r\n  const [movie, setMovie] = useState(\"\");\r\n  const [poster, setPoster] = useState(\"\");\r\n  const [id, setID] = useState(0);\r\n  const [visible, setVisible] = useState(false);\r\n  const [theater, setTheater] = useState(0);\r\n  const [key, setKey] = useState(0);\r\n  const [Distinct, setDistinct] = useState([]);\r\n\r\n  const renderCustomInput = ({ ref }) => (\r\n    <input\r\n      readOnly\r\n      ref={ref}\r\n      placeholder=\"  날짜를 선택해주세요\"\r\n      value={\r\n        selectDay\r\n          ? `  ${selectDay.year}-${selectDay.month}-${selectDay.day}`\r\n          : \"\"\r\n      }\r\n      style={{\r\n        borderRadius: \"1rem\",\r\n        fontSize: \"1.1rem\",\r\n        border: \"1px solid #9c88ff\",\r\n        boxShadow: \"0 1.5rem 2rem rgba(156, 136, 255, 0.2)\",\r\n        color: \"#2e2e2e\",\r\n        outline: \"none\",\r\n        width: \"250px\",\r\n        height: \"38px\",\r\n      }}\r\n      className=\"my-custom-input-class\"\r\n    />\r\n  );\r\n  const onTime = (value) => {\r\n    setTime({ time: value });\r\n  };\r\n  const onMovie = event => {\r\n    setMovie(event.value);\r\n    setPoster(event.poster);\r\n    setID(event.id);\r\n    setVisible(true);\r\n    setKey(event.key);\r\n    //영화관 1관 2관 3관 .... 정하기 위해 씀\r\n  };\r\n\r\n  useEffect(() => {\r\n    const movieTitle = {\r\n      title: movie,\r\n    };\r\n    Axios.post(\"/api/reservation/findSeat\", movieTitle)\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          let seatlist = [];\r\n          response.data.seats.forEach(obj => {\r\n            if (\r\n              obj.selectDay[0].day === selectDay.day &&\r\n              obj.selectDay[0].month === selectDay.month &&\r\n              obj.selectDay[0].year === selectDay.year\r\n            ) {\r\n              seatlist.push(obj);\r\n            }\r\n          });\r\n          setDistinct(seatlist);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }, [movie, selectDay, time, theater]);\r\n\r\n  const countLeftSeats = (time, theater) => {\r\n    let countAllSeats = theater % 2 === 1 ? 55 : 45;\r\n    let count = 0;\r\n    Distinct &&\r\n      Distinct.forEach(obj => {\r\n        if (obj.time[0].time === time && obj.theater === theater) {\r\n          count = count + obj.continent;\r\n        }\r\n      });\r\n    let myColor = (countAllSeats - count) > 10 ? \"#2e2e2e\" : \"red\";\r\n    return <span style={{ color: myColor, fontWeight: \"500\" }}>{countAllSeats===count ? `매진` : `${countAllSeats - count}석`}</span>;\r\n  };\r\n\r\n  return (\r\n    <Popup\r\n      trigger={\r\n        <Button1 variant=\"contained\" color=\"primary\">\r\n          간편예매\r\n        </Button1>\r\n      }\r\n      modal\r\n      closeOnDocumentClick={true}\r\n      triggerOn=\"click\"\r\n      contentStyle={{\r\n        backgroundColor: \"#242333\",\r\n        width: \"500px\",\r\n        borderRadius: \"10px\",\r\n        padding: \"1%\",\r\n        border: \"2px solid #848484\",\r\n      }}\r\n    >\r\n      <Wrapper>\r\n        <DatePicker\r\n          value={selectDay}\r\n          onChange={setSelectedDay}\r\n          minimumDate={utils().getToday()}\r\n          renderInput={renderCustomInput}\r\n          shouldHighlightWeekends\r\n        />\r\n      </Wrapper>\r\n      <Wrapper>\r\n        <Select\r\n          options={movieOptions}\r\n          placeholder=\"  영화를 선택해주세요\"\r\n          styles={colourStyles}\r\n          onChange={onMovie}\r\n        />\r\n      </Wrapper>\r\n      <Wrapper>\r\n        {visible ? (\r\n          <InnerWrapper>\r\n            <TitleWrapper style={{ marginTop: \"5px\" }}>\r\n              <Title>\r\n                {movie}&nbsp;&nbsp;|&nbsp;&nbsp;<span style={{ color: \"#d8d8d8\" }}>{key - 1}관</span>\r\n              </Title>\r\n            </TitleWrapper>\r\n            {Continents1.map((item, index) => (\r\n              <Button2\r\n                key={index}\r\n                onClick={() => {\r\n                  setTheater(key - 1);\r\n                  onTime(item.value);\r\n                }}\r\n              >\r\n                {item.label}&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;{countLeftSeats(item.value, key - 1)}\r\n              </Button2>\r\n            ))}\r\n            <TitleWrapper>\r\n              <Title>\r\n                {movie}&nbsp;&nbsp;|&nbsp;&nbsp;<span style={{ color: \"#d8d8d8\" }}>{key}관</span>\r\n              </Title>\r\n            </TitleWrapper>\r\n            {Continents2.map((item, index) => (\r\n              <Button2\r\n                key={index}\r\n                onClick={() => {\r\n                  setTheater(key);\r\n                  onTime(item.value);\r\n                }}\r\n              >\r\n                {item.label}&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;{countLeftSeats(item.value, key)}\r\n              </Button2>\r\n            ))}\r\n          </InnerWrapper>\r\n        ) : (\r\n            <div style={{ textAlign: \"center\", marginTop: \"10px\", marginBottom: \"10px\" }}>\r\n              <span style={{ fontSize: \"20px\" }}>\r\n                클릭하면 영화 시간이 보입니다.\r\n            </span>\r\n            </div>\r\n          )}\r\n      </Wrapper>\r\n      <Wrapper>\r\n        <>\r\n          <Popup\r\n            trigger={\r\n              <Button1\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{\r\n                  height: \"40px\",\r\n                  width: \"80px\",\r\n                  backgroundColor: \"transparent\",\r\n                  fontWeight: \"1000\",\r\n                  fontSize: \"15px\",\r\n                  padding: \"0px\",\r\n                  marginLeft: \"0px\",\r\n                }}\r\n              >\r\n                다음\r\n              </Button1>\r\n            }\r\n            modal\r\n            contentStyle={{\r\n              width: \"770px\",\r\n              backgroundColor: \"#242333\",\r\n              borderRadius: \"10px\",\r\n              padding: \"1%\",\r\n              border: \"2px solid #848484\",\r\n            }}\r\n            closeOnDocumentClick={true}\r\n            triggerOn=\"click\"\r\n          >\r\n            <Booking\r\n              id={id}\r\n              title={movie}\r\n              bgImage={poster}\r\n              userFrom={userFrom}\r\n              selectDay={selectDay}\r\n              time={time}\r\n              theater={theater}\r\n            />\r\n          </Popup>\r\n        </>\r\n      </Wrapper>\r\n    </Popup>\r\n  );\r\n};\r\nexport default Reservation;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport styled from \"styled-components\";\r\nimport \"../Reservation/style.css\";\r\nimport {\r\n  ContinentsAll,\r\n  SeatA2,\r\n  SeatB2,\r\n  SeatC2,\r\n  SeatD2,\r\n  SeatE2,\r\n  SeatF2,\r\n  SeatG2,\r\n  SeatF,\r\n  SeatG,\r\n  SeatE,\r\n  SeatD,\r\n  SeatA,\r\n  SeatB,\r\n  SeatC,\r\n} from \"../Reservation/Modal/Context\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToMovie } from \"../../_actions/user_action\";\r\nimport Select from \"react-select\";\r\nimport { IMAGE_BASE_URL, CLIENT } from \"../../Components/Config\";\r\n\r\nconst PriceTag = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 30px;\r\n`;\r\n\r\nconst Small = styled.div`\r\n  font-size: 20px;\r\n  color: white;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  float: left;\r\n  height: 100%;\r\n`;\r\n\r\nconst SeatWrapper = styled.div`\r\n  float: right;\r\n  height: 100%;\r\n`;\r\nconst SelectWrapper = styled.div`\r\n  background-color: #242333;\r\n  color: #fff;\r\n  font-family: \"Lato\", sans-serif;\r\n`;\r\nconst InnerWrapper = styled.div`\r\n  background-color: #242333;\r\n  color: #fff;\r\n  font-family: \"Lato\", sans-serif;\r\n`;\r\n\r\nconst Cover = styled.div`\r\n  width: 90%;\r\n  height: 100%;\r\n  background-image: url(${props => props.bgImage});\r\n  background-position: center center;\r\n  background-size: cover;\r\n  border-radius: 5px;\r\n  box-shadow: 2px 6px 20px 0 rgba(0, 0, 0, 0.65);\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nfunction BookingAll({\r\n  id,\r\n  title,\r\n  bgImage,\r\n  userFrom,\r\n  selectDay,\r\n  time,\r\n  theater,\r\n}) {\r\n  const dispatch = useDispatch();\r\n  const [Continent, setContinent] = useState(0);\r\n  const [Seat, setSeat] = useState([]);\r\n  const [Price, setPrice] = useState(0);\r\n  const [Distinct, setDistinct] = useState([]);\r\n  const [subCount, setSubCount] = useState(0);\r\n  const [selectedArr, setSelectedArr] = useState([]);\r\n\r\n  const movieTitle = {\r\n    title: title,\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"/api/reservation/findSeat\", movieTitle)\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          let seatlist = [];\r\n          response.data.seats.forEach(obj => {\r\n            if (\r\n              obj.time[0].time === time.time &&\r\n              obj.selectDay[0].day === selectDay.day &&\r\n              obj.selectDay[0].month === selectDay.month &&\r\n              obj.selectDay[0].year === selectDay.year &&\r\n              obj.theater === theater\r\n            ) {\r\n              seatlist.push(obj.seat);\r\n            }\r\n          });\r\n          const flatlist = seatlist.flat(); //평탄화 함수!!!\r\n          setDistinct(flatlist);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }, [movieTitle, selectDay, time, theater]);\r\n\r\n  //seat 색 변경\r\n  const onSeatChange = e => {\r\n    var container = document.querySelector(\"div .container\");\r\n    var unselected = container.querySelectorAll(\"div .seat\"); //NodeList 반환\r\n\r\n    if (\r\n      Continent >= Seat.length + 1 &&\r\n      !e.target.classList.contains(\"occupied\") &&\r\n      !e.target.classList.contains(\"selected\")\r\n    ) {\r\n      let arr;\r\n      if (Seat.length === 0) {\r\n        arr = [];\r\n      }\r\n      arr = [...Seat];\r\n      \r\n      let temp;\r\n      let sub = subCount;\r\n      //arr 빈배열에 선택된 수(count) 만큼 push하는 과정\r\n      unselected.forEach((seat, index) => {\r\n        if (seat.innerHTML === e.target.textContent) {\r\n          arr.push(seat.innerHTML);\r\n          sub = sub + 1;\r\n          setSubCount(subCount => sub);\r\n          temp = index;\r\n        } else if (seat.className === \"seat occupied\") {\r\n        } else if (\r\n          index > temp &&\r\n          Continent - sub > 0 &&\r\n          index === unselected.length - 1\r\n        ) {\r\n          arr.push(seat.innerHTML);\r\n          sub = sub + 1;\r\n          setSubCount(subCount => sub);\r\n        } else if (index > temp && Continent - sub > 0) {\r\n          arr.push(seat.innerHTML);\r\n          sub = sub + 1;\r\n          setSubCount(subCount => sub);\r\n        }\r\n      });\r\n\r\n      unselected.forEach(item => {\r\n        if (arr.includes(item.innerHTML)) {\r\n          item.className = \"seat selected\";\r\n        }\r\n      });\r\n      setSeat([...arr]); //옆테이블 예매 정보창 좌석 정보 설정(전개연산자 사용)\r\n      setSelectedArr(arr); //선택 좌석 설정\r\n    } else if (\r\n      Continent >= Seat.length + 1 &&\r\n      e.target.classList.contains(\"selected\")\r\n    ) {\r\n      unselected.forEach(item => {\r\n        if (selectedArr.includes(item.innerHTML)) {\r\n          item.className = \"seat\";\r\n        }\r\n      });\r\n      setSelectedArr([]);\r\n      setSeat([]);\r\n      setSubCount(0);\r\n    } else if (e.target.classList.contains(\"selected\")) {\r\n      unselected.forEach(item => {\r\n        if (selectedArr.includes(item.innerHTML)) {\r\n          item.className = \"seat\";\r\n        }\r\n      });\r\n      setSelectedArr([]);\r\n      setSeat([]);\r\n      setSubCount(0);\r\n    }\r\n  };\r\n\r\n  const onCount = event => {\r\n    setContinent(event.key);\r\n    setPrice(event.key * 6000);\r\n  };\r\n\r\n  //결제후 DB저장\r\n  const transactionSuccess = () => {\r\n    const body = {\r\n      userFrom: userFrom,\r\n      id: id,\r\n      title: title,\r\n      selectDay: selectDay,\r\n      time: time,\r\n      continent: Continent,\r\n      seat: Seat,\r\n      price: Price,\r\n      theater: theater,\r\n    };\r\n\r\n    axios.post(\"/api/reservation\", body).then(response => {\r\n      if (response.data.success) {\r\n        alert(\"예매 성공\");\r\n\r\n        window.location.href = `${CLIENT}mymovie`;\r\n\r\n        //개인 영화 구매정보\r\n        dispatch(addToMovie(response.data.doc._id));\r\n      } else {\r\n        alert(\"예매 실패\");\r\n        return false;\r\n      }\r\n    });\r\n  };\r\n\r\n  const colourStyles = {\r\n    control: styles => ({\r\n      ...styles,\r\n      backgroundColor: \"white\",\r\n      borderRadius: \"1rem\",\r\n      fontSize: \"1.1rem\",\r\n      width: \"250px\",\r\n      height: \"35px\",\r\n      border: \"1px solid #9c88ff\",\r\n      boxShadow: \"0 1.5rem 2rem rgba(156, 136, 255, 0.2)\",\r\n      color: \"#2e2e2e\",\r\n      fontWeight: \"400\",\r\n    }),\r\n    option: (styles, { data, isDisabled, isFocused }) => {\r\n      return {\r\n        ...styles,\r\n        backgroundColor: isDisabled ? \"red\" : \"#f7f7f7\",\r\n        color: \"#151515\",\r\n        fontSize: \"1.1rem\",\r\n        cursor: isDisabled ? \"not-allowed\" : \"default\",\r\n      };\r\n    },\r\n  };\r\n  const groupedOptions = [\r\n    {\r\n      options: ContinentsAll,\r\n    },\r\n  ];\r\n\r\n  const onKaKaoPay = () => {\r\n    var IMP = window.IMP; // 생략가능\r\n    IMP.init(\"imp10561880\");\r\n    // 'iamport' 대신 부여받은 \"가맹점 식별코드\"를 사용\r\n\r\n    IMP.request_pay(\r\n      {\r\n        pg: \"inicis\", // version 1.1.0부터 지원.\r\n        pay_method: \"card\",\r\n        merchant_uid: \"merchant_\" + new Date().getTime(),\r\n        name: title,\r\n        amount: Price,\r\n        buyer_email: \"iamport@siot.do\",\r\n        buyer_name: \"구매자이름\",\r\n        buyer_tel: \"010-1234-5678\",\r\n        buyer_addr: \"서울특별시 강남구 삼성동\",\r\n        buyer_postcode: \"123-456\",\r\n        m_redirect_url: \"https://www.yourdomain.com/payments/complete\",\r\n      },\r\n      function (rsp) {\r\n        if (rsp.success) {\r\n          var msg = \"결제가 완료되었습니다.\";\r\n          msg += \"고유ID : \" + rsp.imp_uid;\r\n          msg += \"상점 거래ID : \" + rsp.merchant_uid;\r\n          msg += \"결제 금액 : \" + rsp.paid_amount;\r\n          transactionSuccess(); //결제 후 예매 내역 db 저장\r\n        } else {\r\n          msg = \"결제에 실패하였습니다.\";\r\n          msg += \"에러내용 : \" + rsp.error_msg;\r\n        }\r\n        alert(msg);\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        <SelectWrapper>\r\n          <Select\r\n            options={groupedOptions}\r\n            placeholder=\"  인원을 선택해주세요\"\r\n            styles={colourStyles}\r\n            onChange={onCount}\r\n          />\r\n        </SelectWrapper>\r\n\r\n        <InnerWrapper style={{ height: \"300px\", marginTop: \"20px\" }}>\r\n          <Cover bgImage={`${IMAGE_BASE_URL}original${bgImage}`} />\r\n        </InnerWrapper>\r\n\r\n        <InnerWrapper\r\n          style={{\r\n            height: \"200px\",\r\n            width:\"250px\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            fontSize: \"17px\",\r\n            padding: \"10px\",\r\n            color: \"#D8D8D8\",\r\n          }}\r\n        >\r\n          <table style={{ height: \"50%\" }}>\r\n            <tbody>\r\n              <tr>\r\n                <th style={{ color: \"white\" }}>날짜</th>\r\n                <td>\r\n                  {selectDay &&\r\n                    `${selectDay.year}-${selectDay.month}-${selectDay.day}`}\r\n                </td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <th style={{ color: \"white\" }}>시간</th>\r\n                <td>{time.time}</td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <th style={{ color: \"white\" }}>인원</th>\r\n                <td>{Continent}</td>\r\n              </tr>\r\n\r\n              <tr>\r\n                <th style={{ color: \"white\" }}>좌석</th>\r\n                <td style={{ width: \"75%\" }}>\r\n                  {Seat.map((seat, index) => {\r\n                    if (index < Seat.length - 1) {\r\n                      return seat + \", \";\r\n                    } else {\r\n                      return seat;\r\n                    }\r\n                  })}\r\n                </td>\r\n\r\n                <td></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <hr style={{ color: \"white\", borderColor: \"white\", width: \"100%\" }} />\r\n          <PriceTag>{Price}원</PriceTag>\r\n          <img\r\n            src={require(\"../../img/kakaoPay.png\")}\r\n            alt=\"kakaoPay\"\r\n            style={{ width: \"20%\", height: \"25px\", float: \"right\" }}\r\n            onClick={onKaKaoPay}\r\n          />\r\n        </InnerWrapper>\r\n      </Wrapper>\r\n      {theater % 2 === 1 ? (\r\n        <SeatWrapper>\r\n          <ul className=\"showcase\">\r\n            <li>\r\n              <div className=\"seat\"></div> <Small>빈좌석</Small>\r\n            </li>\r\n            <li>\r\n              <div className=\"seat selected\"></div> <Small>선택좌석</Small>\r\n            </li>\r\n            <li>\r\n              <div className=\"seat occupied\"></div> <Small>선택완료</Small>\r\n            </li>\r\n          </ul>\r\n          <hr\r\n            style={{ color: \"white\", borderColor: \"white\", marginLeft: \"20px\" }}\r\n          />\r\n          <div className=\"container\">\r\n            <div className=\"screen\"></div>\r\n            {\r\n              <div className=\"row\">\r\n                {SeatA.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatB.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatC.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatD.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatE.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatF.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatG.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n          </div>\r\n        </SeatWrapper>\r\n      ) : (\r\n        <SeatWrapper>\r\n          <ul className=\"showcase\">\r\n            <li>\r\n              <div className=\"seat\"></div> <Small>빈좌석</Small>\r\n            </li>\r\n            <li>\r\n              <div className=\"seat selected\"></div> <Small>선택좌석</Small>\r\n            </li>\r\n            <li>\r\n              <div className=\"seat occupied\"></div> <Small>선택완료</Small>\r\n            </li>\r\n          </ul>\r\n          <hr\r\n            style={{ color: \"white\", borderColor: \"white\", marginLeft: \"20px\" }}\r\n          />\r\n          <div className=\"container\">\r\n            <div className=\"screen\"></div>\r\n            {/* 좌석 */}\r\n            {\r\n              <div className=\"row\">\r\n                {SeatA2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatB2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatC2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatD2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatE2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatF2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n            {\r\n              <div className=\"row\">\r\n                {SeatG2.map(item => {\r\n                  if (Distinct.includes(item.value)) {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat occupied\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  } else {\r\n                    return (\r\n                      <div\r\n                        key={item.key}\r\n                        className=\"seat\"\r\n                        onClick={onSeatChange}\r\n                      >\r\n                        {item.value}\r\n                      </div>\r\n                    );\r\n                  }\r\n                })}\r\n              </div>\r\n            }\r\n          </div>\r\n        </SeatWrapper>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookingAll;\r\n","import \"date-fns\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"./style.css\";\r\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\";\r\nimport BookingAll from \"../Booking/BookingAll\";\r\nimport DatePicker, { utils } from \"react-modern-calendar-datepicker\";\r\nimport Select from \"react-select\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\n\r\nconst colourStyles = {\r\n  control: styles => ({\r\n    ...styles,\r\n    backgroundColor: \"white\",\r\n    borderRadius: \"1rem\",\r\n    fontSize: \"1.1rem\",\r\n    width: \"250px\",\r\n    textAlign: \"center\",\r\n    border: \"1px solid #9c88ff\",\r\n    boxShadow: \"0 1.5rem 2rem rgba(156, 136, 255, 0.2)\",\r\n    color: \"#2e2e2e\",\r\n    fontWeight: \"400\",\r\n  }),\r\n  option: (styles, { isDisabled }) => {\r\n    return {\r\n      ...styles,\r\n      backgroundColor: isDisabled ? \"#d4d4d4\" : \"#f7f7f7\",\r\n      color: \"#151515\",\r\n      fontSize: \"1.1rem\",\r\n      cursor: isDisabled ? \"not-allowed\" : \"default\",\r\n    };\r\n  },\r\n};\r\nconst Button1 = styled.button`\r\n  position: relative;\r\n  color: #61dbfb;\r\n  border: 3px solid #61dbfb;\r\n  border-radius: 5px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  background-color: #151515;\r\n  margin-left: 20px;\r\n  padding: 5px;\r\n  box-shadow: 0 1.5rem 2rem rgba(156, 136, 255, 0.2);\r\n`;\r\n//시간 버튼\r\nconst Button2 = styled.button`\r\n  color: black;\r\nfont-weight: 800;\r\n  font-size: 15px;\r\n  margin: 8px;\r\n  padding: 5px 12px 5px 12px;\r\n  border: 1px solid gray;\r\n  &:hover {\r\n    background: mediumslateblue;\r\n    cursor: pointer;\r\n  }\r\n  &:focus {\r\n    background: mediumslateblue;\r\n  }\r\n`;\r\nconst Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  width: max-content;\r\n  padding: 5px;\r\n`;\r\nconst TitleWrapper = styled.div`\r\nmargin-top: 10px;\r\nmargin-bottom: 8px;\r\n`;\r\nconst Title = styled.span`\r\n  font-size: 18px;\r\n  margin: 5px;\r\n`;\r\nconst InnerWrapper = styled.div`\r\n  min-height:200px;\r\n  max-width:450px;\r\n`;\r\nconst Continents1 = [\r\n  { key: 1, label: \"11:00\", value: \"11:00\" },\r\n  { key: 2, label: \"13:00\", value: \"13:00\" },\r\n  { key: 3, label: \"15:00\", value: \"15:00\" },\r\n  { key: 4, label: \"17:00\", value: \"17:00\" },\r\n  { key: 5, label: \"19:00\", value: \"19:00\" },\r\n  { key: 6, label: \"21:00\", value: \"21:00\" },\r\n  { key: 7, label: \"23:00\", value: \"23:00\" },\r\n  { key: 8, label: \"01:00\", value: \"01:00\" },\r\n];\r\nconst Continents2 = [\r\n  { key: 1, label: \"10:00\", value: \"10:00\" },\r\n  { key: 2, label: \"12:00\", value: \"12:00\" },\r\n  { key: 3, label: \"14:00\", value: \"14:00\" },\r\n  { key: 4, label: \"16:00\", value: \"16:00\" },\r\n  { key: 5, label: \"18:00\", value: \"18:00\" },\r\n  { key: 6, label: \"20:00\", value: \"20:00\" },\r\n  { key: 7, label: \"22:00\", value: \"22:00\" },\r\n  { key: 8, label: \"00:00\", value: \"00:00\" },\r\n];\r\n\r\nconst ReservationAll = ({ userFrom, nowPlaying }) => {\r\n  const movieList = nowPlaying.map((movie, index) => ({\r\n    key: (index + 1) * 2,\r\n    label: movie.title,\r\n    value: movie.title,\r\n    poster: movie.poster_path,\r\n    isDisabled: index > 2 ? true : false,\r\n    id: movie.id,\r\n  }));\r\n  const movieOptions = [\r\n    {\r\n      options: movieList,\r\n    },\r\n  ];\r\n  const [selectDay, setSelectedDay] = useState(null);\r\n  const [time, setTime] = useState(\"\");\r\n  const [movie, setMovie] = useState(\"\");\r\n  const [poster, setPoster] = useState(\"\");\r\n  const [id, setID] = useState(0);\r\n  const [visible, setVisible] = useState(false);\r\n  const [theater, setTheater] = useState(0);\r\n  const [key, setKey] = useState(0);\r\n  const [Distinct, setDistinct] = useState([]);\r\n  const renderCustomInput = ({ ref }) => (\r\n    <input\r\n      readOnly\r\n      ref={ref}\r\n      placeholder=\"  날짜를 선택해주세요\"\r\n      value={\r\n        selectDay\r\n          ? `  ${selectDay.year}-${selectDay.month}-${selectDay.day}`\r\n          : \"\"\r\n      }\r\n      style={{\r\n        borderRadius: \"1rem\",\r\n        fontSize: \"1.1rem\",\r\n        border: \"1px solid #9c88ff\",\r\n        boxShadow: \"0 1.5rem 2rem rgba(156, 136, 255, 0.2)\",\r\n        color: \"#2e2e2e\",\r\n        outline: \"none\",\r\n        width: \"250px\",\r\n        height: \"38px\",\r\n      }}\r\n      className=\"my-custom-input-class\"\r\n    />\r\n  );\r\n  const onTime = value => {\r\n    setTime({ time: value });\r\n  };\r\n  const onMovie = event => {\r\n    setMovie(event.value);\r\n    setPoster(event.poster);\r\n    setID(event.id);\r\n    setVisible(true);\r\n    setKey(event.key); //영화관 1관 2관 3관 .... 정하기 위해 씀\r\n  };\r\n  useEffect(() => {\r\n    const movieTitle = {\r\n      title: movie,\r\n    };\r\n    axios\r\n      .post(\"/api/reservation/findSeat\", movieTitle)\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          let seatlist = [];\r\n          response.data.seats.forEach(obj => {\r\n            if (\r\n              obj.selectDay[0].day === selectDay.day &&\r\n              obj.selectDay[0].month === selectDay.month &&\r\n              obj.selectDay[0].year === selectDay.year\r\n            ) {\r\n              seatlist.push(obj);\r\n            }\r\n          });\r\n          setDistinct(seatlist);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }, [movie, selectDay, time, theater]);\r\n\r\n  const countLeftSeats = (time, theater) => {\r\n    let countAllSeats = theater % 2 === 1 ? 55 : 45;\r\n    let count = 0;\r\n    Distinct &&\r\n      Distinct.forEach(obj => {\r\n        if (obj.time[0].time === time && obj.theater === theater) {\r\n          count = count + obj.continent;\r\n        }\r\n      });\r\n      let myColor=(countAllSeats-count)>10? \"black\" : \"red\"; \r\n      return <span style={{ color: myColor, fontWeight: \"500\" }}>{countAllSeats===count ? `매진` : `${countAllSeats - count}석`}</span>;\r\n  };\r\n\r\n  return (\r\n    <Popup\r\n      trigger={\r\n        <Button1 variant=\"contained\" color=\"primary\">\r\n          단체예매\r\n        </Button1>\r\n      }\r\n      modal\r\n      closeOnDocumentClick={true}\r\n      triggerOn=\"click\"\r\n      contentStyle={{\r\n        backgroundColor: \"#242333\",\r\n        width: \"500px\",\r\n        borderRadius: \"10px\",\r\n        padding: \"1%\",\r\n        border: \"2px solid #848484\",\r\n      }}\r\n    >\r\n      <Wrapper>\r\n        <DatePicker\r\n          value={selectDay}\r\n          onChange={setSelectedDay}\r\n          minimumDate={utils().getToday()}\r\n          renderInput={renderCustomInput}\r\n          shouldHighlightWeekends\r\n        />\r\n      </Wrapper>\r\n      <Wrapper>\r\n        <Select\r\n          options={movieOptions}\r\n          placeholder=\"  영화를 선택해주세요\"\r\n          styles={colourStyles}\r\n          onChange={onMovie}\r\n        />\r\n      </Wrapper>\r\n      <Wrapper>\r\n        {visible ? (\r\n          <InnerWrapper>\r\n            <TitleWrapper style={{marginTop:\"5px\"}}>\r\n            <Title>\r\n              {movie}&nbsp;&nbsp;|&nbsp;&nbsp;<span style={{color:\"#d8d8d8\"}}>{key - 1}관</span>\r\n            </Title>\r\n            </TitleWrapper>\r\n            {Continents1.map((item, index) => (\r\n                <Button2\r\n                  key={index}\r\n                  style={{ color: \"black\" }}\r\n                  onClick={() => {\r\n                    setTheater(key - 1);\r\n                    onTime(item.value);\r\n                  }}\r\n                >\r\n                    {item.label}&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;{countLeftSeats(item.value, key - 1)}\r\n                </Button2>\r\n            ))}\r\n            <TitleWrapper>\r\n            <Title>\r\n            {movie}&nbsp;&nbsp;|&nbsp;&nbsp;<span style={{color:\"#d8d8d8\"}}>{key}관</span> \r\n            </Title>\r\n            </TitleWrapper>\r\n            {Continents2.map((item, index) => (\r\n              <Button2\r\n                key={index}\r\n                style={{ color: \"black\" }}\r\n                onClick={() => {\r\n                  setTheater(key);\r\n                  onTime(item.value);\r\n                }}\r\n              >\r\n                  {item.label}&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;{countLeftSeats(item.value, key)}\r\n              </Button2>\r\n            ))}\r\n          </InnerWrapper>\r\n        ) : (\r\n            <div style={{ textAlign: \"center\", marginTop:\"10px\", marginBottom:\"10px\" }}>\r\n              <span style={{ fontSize: \"20px\" }}>\r\n                클릭하면 영화 시간이 보입니다.\r\n            </span>\r\n            </div>\r\n          )}\r\n      </Wrapper>\r\n      <Wrapper>\r\n        <>\r\n          <Popup\r\n            trigger={\r\n              <Button1\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{\r\n                  height: \"40px\",\r\n                  width: \"80px\",\r\n                  backgroundColor: \"transparent\",\r\n                  fontWeight: \"1000\",\r\n                  fontSize: \"15px\",\r\n                  padding: \"0px\",\r\n                  marginLeft: \"0px\",\r\n                }}\r\n              >\r\n                다음\r\n              </Button1>\r\n            }\r\n            modal\r\n            contentStyle={{\r\n              width: \"770px\",\r\n              backgroundColor: \"#242333\",\r\n              borderRadius: \"10px\",\r\n              padding: \"1%\",\r\n              border: \"2px solid #848484\",\r\n            }}\r\n            closeOnDocumentClick={true}\r\n            triggerOn=\"click\"\r\n          >\r\n            <BookingAll\r\n              id={id}\r\n              title={movie}\r\n              bgImage={poster}\r\n              userFrom={userFrom}\r\n              selectDay={selectDay}\r\n              time={time}\r\n              theater={theater}\r\n            />\r\n          </Popup>\r\n        </>\r\n      </Wrapper>\r\n    </Popup>\r\n  );\r\n};\r\nexport default ReservationAll;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Reservation from \"../Routes/Reservation/Reservation\";\r\nimport ReservationAll from \"../Routes/Reservation/ReservationAll\";\r\n\r\nconst Container = styled.div`\r\n  :not(:last-child) {\r\n    margin-bottom: 60px;\r\n  }\r\n  margin: 0 auto;\r\n  width: 100%;\r\n`;\r\nconst Title = styled.span`\r\n  position: relative;\r\n  font-size: 30px;\r\n  font-weight: 600;\r\n  padding: 0px 0px 30px;\r\n`;\r\nconst Grid = styled.div`\r\n\r\n  margin-top: 30px;\r\n  display: flex;\r\n  border-radius: 0.8rem;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 10%;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  \r\n  &::-webkit-scrollbar {\r\n    \r\n    width: 10px;\r\n    height: 6px;\r\n   \r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color:  mediumslateblue;\r\n  \r\n  }\r\n\r\n`;\r\nconst Section = (\r\n  { title, children, nowPlaying } // children 예약된 react prop\r\n) => {\r\n  return (\r\n    <Container>\r\n      <Title>\r\n        {title}\r\n      </Title>\r\n      {title === \"Now Playing\" ? (\r\n        <>\r\n          <Reservation\r\n            nowPlaying={nowPlaying}\r\n            userFrom={localStorage.getItem(\"userId\")}\r\n          />\r\n          <ReservationAll\r\n            nowPlaying={nowPlaying}\r\n            userFrom={localStorage.getItem(\"userId\")}\r\n          />\r\n        </>\r\n      ) : null}\r\n      <Grid>{children}</Grid>\r\n    </Container>\r\n  );\r\n};\r\nSection.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node,\r\n  ]),\r\n};\r\nexport default Section;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  font-size: 28px;\r\n  margin-top: 20px;\r\n`;\r\nexport default () => (\r\n  <Container>\r\n    <span role=\"img\" aria-label=\"Loading\"></span>\r\n  </Container>\r\n);\r\n\r\n//시각 장애인들에게 screen reader라는 것이 있는데 읽으려고 하면 작동하지 않아\r\n// 그래서 네가 screen reader에게 말해야해 헤이 \"loading\"...\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  width: 100vw;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Text = styled.span`\r\n  color: ${(props) => props.color};\r\n`;\r\nconst Message = ({ text, color }) => (\r\n  <Container>\r\n    <Text color={color}>{text}</Text>\r\n  </Container>\r\n);\r\nMessage.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { IMAGE_BASE_URL } from \"./Config\";\r\n\r\nconst Container = styled.div`\r\n  font-size: 9px;\r\n  min-height: 350px;\r\n`;\r\nconst Image = styled.div`\r\n  background-image: url(${props => props.bgUrl});\r\n  width: 200px;\r\n  height: 300px;\r\n  margin-right: 20px;\r\n  background-size: cover;\r\n  border-radius: 4px;\r\n  transition: all 0.1s linear 0s;\r\n`;\r\nconst Rating = styled.span`\r\n  font-size: 15px;\r\n  position: absolute;\r\n  bottom: 5px;\r\n  right: 25px;\r\n  opacity: 0;\r\n  transition: all 0.1s linear 0s;\r\n`;\r\nconst ImageContainer = styled.div`\r\n  margin-bottom: 5px;\r\n  position: relative;\r\n  &:hover {\r\n    ${Image} {\r\n      opacity: 0.3;\r\n    }\r\n    ${Rating} {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  transition: all 300ms cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  position: relative;\r\n  transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    ::after {\r\n      transform: scaleY(1);\r\n      opacity: 1;\r\n    }\r\n  }\r\n  &::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 0.8rem;\r\n    transform: scaleY(0);\r\n    transform-origin: top;\r\n    opacity: 0;\r\n    background-color: var(--color-primary);\r\n    z-index: -99;\r\n    box-shadow: 0rem 2rem 5rem var(--shadow-color-dark);\r\n    transition: all 100ms cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  }\r\n`;\r\nconst Title = styled.span`\r\n  font-size:18px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items:center;\r\n  padding: 1.5rem 3rem;\r\n`;\r\nconst Year = styled.span`\r\n  display: flex;\r\n  position: relative;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n  color: var(--color-primary);\r\n  margin-left: 40px;\r\n`;\r\nconst RatingsWrapper = styled.div`\r\n  position: relative;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n  color: var(--color-primary);\r\n  ${Container}:hover & {\r\n    color: var(--color-primary-lighter);\r\n  }\r\n`;\r\nconst Poster = ({ id, imageUrl, title, rating }) => (\r\n  <Link to={`/movie/${id}`}>\r\n    <Container>\r\n      <ImageContainer>\r\n        <Image\r\n          bgUrl={\r\n            imageUrl\r\n              ? `${IMAGE_BASE_URL}w500${imageUrl}`\r\n              : \"https://www.movienewz.com/img/films/poster-holder.jpg\"\r\n          }\r\n        />\r\n        <Rating>\r\n          <span role=\"img\" aria-label=\"rating\">\r\n            ⭐️\r\n          </span>{\" \"}\r\n          {rating}/10\r\n        </Rating>\r\n      </ImageContainer>\r\n      <RatingsWrapper>\r\n      <Title>\r\n        {title.length > 8 ? `${title.substring(0, 4)}...` : title}\r\n      </Title>\r\n      <Year>\r\n       </Year>\r\n       </RatingsWrapper>\r\n    </Container>\r\n  </Link>\r\n);\r\nPoster.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  imageUrl: PropTypes.string,\r\n  title: PropTypes.string.isRequired,\r\n  rating: PropTypes.number,\r\n  year: PropTypes.string,\r\n  isMovie: PropTypes.bool,\r\n};\r\nexport default Poster;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Section from \"Components/Section\";\r\nimport Loader from \"../../Components/Loader\";\r\nimport Message from \"../../Components/Message\";\r\nimport Poster from \"../../Components/Poster\";\r\nimport Helmet from \"react-helmet\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Carousel } from \"antd\";\r\n\r\nconst Container = styled.div`\r\n  scroll-behavior: smooth;\r\n  margin-top: -50px;\r\n  z-index: -1;\r\n`;\r\nconst Effect = styled.div`\r\n  width: 100%;\r\n  margin-top: 600px;\r\n`;\r\nconst TopSection = styled.div`\r\n  margin-top: -160px;\r\n`;\r\nconst Hero = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n`;\r\nconst HeroContent = styled.div`\r\n  position: relative;\r\n  z-index: 4;\r\n  width: auto;\r\n  left: 10px;\r\n  top: 10px;\r\n`;\r\nconst HeroContentText = styled.span`\r\n  font-size: 60px;\r\n`;\r\nconst HeroContentP = styled.div`\r\n  width: 100%;\r\n  font-size: 20px;\r\n  margin-top: 40px;\r\n  color: white;\r\n`;\r\nconst HomePresenter = ({\r\n  nowPlaying,\r\n  upcoming,\r\n  loading,\r\n  error,\r\n}) => (\r\n  <>\r\n    <Helmet>\r\n      <title>Movies | Nomflix</title>\r\n    </Helmet>\r\n    {loading ? (\r\n      <Loader />\r\n    ) : (\r\n      <>\r\n        <Container>\r\n          <Carousel autoplay>\r\n            <div>\r\n              <div style={{ position: \"absolute\" }}>\r\n                <img\r\n                  src=\"https://cdna.artstation.com/p/assets/images/images/017/022/542/large/amirhosein-naseri-desktop-screenshot-2019-04-03-18-17-47-11.jpg?1554338571\"\r\n                  alt=\"1\"\r\n                  style={{\r\n                    position: \"releative\",\r\n                    height: \"100%\",\r\n                  }}\r\n                />\r\n              </div>\r\n              <Hero>\r\n                <Effect>\r\n                  <HeroContent>\r\n                    <HeroContentText></HeroContentText>\r\n                    <HeroContentP>\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                    </HeroContentP>\r\n                  </HeroContent>\r\n                </Effect>\r\n              </Hero>\r\n            </div>\r\n            <div>\r\n              <div style={{ position: \"absolute\" }}>\r\n                <img\r\n                  src=\"https://i0.wp.com/www-images.theonering.org/torwp/wp-content/uploads/2014/10/HBFA_30sht_Azog_RGB_INTL_master.jpg\"\r\n                  alt=\"2\"\r\n                />\r\n              </div>\r\n              <Hero>\r\n                <Effect>\r\n                  <HeroContent>\r\n                    <HeroContentText></HeroContentText>\r\n                  </HeroContent>\r\n                </Effect>\r\n              </Hero>\r\n            </div>\r\n            <div>\r\n              <div style={{ position: \"absolute\" }}>\r\n                <img\r\n                  width=\"99%\"\r\n                  src=\"https://d13ezvd6yrslxm.cloudfront.net/wp/wp-content/images/zz409b4c4c.jpg\"\r\n                  alt=\"3\"\r\n                />\r\n              </div>\r\n              <Hero>\r\n                <Effect>\r\n                  <HeroContent>\r\n                    <HeroContentText></HeroContentText>\r\n                    <HeroContentP>\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                      <br />\r\n                    </HeroContentP>\r\n                  </HeroContent>\r\n                </Effect>\r\n              </Hero>\r\n            </div>\r\n          </Carousel>\r\n          <br />\r\n          <Helmet>\r\n            <title>Movies | Nomflix</title>\r\n          </Helmet>\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <TopSection>\r\n            {/* 현재 상영중 */}\r\n            {nowPlaying && nowPlaying.length > 0 && (\r\n              <Section title=\"Now Playing\" nowPlaying={nowPlaying}>\r\n                {nowPlaying.map((movie) => (\r\n                  <Poster\r\n                  key={movie.id}\r\n                  id={movie.id}\r\n                  imageUrl={movie.poster_path}\r\n                  title={movie.title}\r\n                  rating={movie.vote_average}\r\n                  year={movie.release_date.substring(0, 4)}\r\n                  isMovie={true}\r\n                  />\r\n                  )\r\n                  )\r\n                }\r\n                </Section>\r\n            )}\r\n            {upcoming && upcoming.length > 0 && (\r\n              <Section title=\"Upcoming\">\r\n                {upcoming.map(movie => (\r\n                  <Poster\r\n                    key={movie.id}\r\n                    id={movie.id}\r\n                    imageUrl={movie.poster_path}\r\n                    title={movie.title}\r\n                    rating={movie.vote_average}\r\n                    year={movie.release_date.substring(0, 4)}\r\n                    isMovie={true}\r\n                  />\r\n                ))}\r\n              </Section>\r\n            )}\r\n          </TopSection>\r\n          {error && <Message color=\"#e74c3c\" text={error} />}\r\n        </Container>\r\n      </>\r\n    )}\r\n  </>\r\n);\r\n\r\nHomePresenter.propTypes = {\r\n  nowPlaying: PropTypes.array,\r\n  popular: PropTypes.array,\r\n  upcoming: PropTypes.array,\r\n  loading: PropTypes.bool.isRequired,\r\n  error: PropTypes.string,\r\n};\r\nexport default withRouter(HomePresenter);\r\n//프리젠터는 그 데이터들을 보여주는 역할을 한다. 프리젠터는 스타일이고, 컨테이너는 데이타야.\r\n//react에서 children은 일반적으로 태그 사이의 값을 받아.\r\n","import axios from \"axios\";\r\nimport { API_KEY } from \"./Components/Config\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"https://api.themoviedb.org/3/\",\r\n  params: {\r\n    api_key: API_KEY,\r\n    language: \"ko-KR\",\r\n    page: 1,\r\n    region: \"KR\"\r\n  },\r\n});\r\n\r\nexport const moviesApi = {\r\n  nowPlaying: () => api.get(\"movie/now_playing\"),\r\n  upcoming: () => api.get(\"movie/upcoming\"),\r\n  popular: () => api.get(\"movie/popular\"),\r\n  genre: () => api.get(\"genre/movie/list\"),\r\n  movieDetail: id =>\r\n    api.get(`movie/${id}`, {\r\n      params: {\r\n        append_to_response: \"videos\",\r\n      },\r\n    }),\r\n  search: term =>\r\n    api.get(\"search/movie\", {\r\n      params: {\r\n        query: term,\r\n      },\r\n    }),\r\n  cast: id =>\r\n    api.get(`movie/${id}/credits`, {\r\n      params: {\r\n        append_to_response: \"videos\",\r\n      },\r\n    }),\r\n  videos: id =>\r\n    api.get(`movie/${id}/videos`, {\r\n      params: {\r\n        language: \"en-US\",\r\n      },\r\n    }),\r\n  recommendationMovie: id =>\r\n    api.get(`/movie/${id}/recommendations`, {\r\n      params: {\r\n        page : 1,\r\n      },\r\n    }),\r\n \r\n};\r\n","import HomeContainer from \"./HomeContainer\";\r\n\r\nexport default HomeContainer;","import React from \"react\";\r\nimport HomePresenter from \"./HomePresenter\";\r\nimport { moviesApi } from \"api\";\r\n\r\nexport default class extends React.Component {\r\n  state = {\r\n    nowPlaying: null,\r\n    upcoming: null,\r\n    error: null,\r\n    loading: true,\r\n  };\r\n\r\n  settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    //처음 render 되고 실행되는 함수\r\n    try {\r\n      //Object Deconstruction \"객체 비구조화 할당\"\r\n      const {\r\n        data: { results: nowPlaying },\r\n      } = await moviesApi.nowPlaying();\r\n      const {\r\n        data: { results: upcoming },\r\n      } = await moviesApi.upcoming();\r\n\r\n      this.setState({\r\n        nowPlaying, //nowPlaying: nowPlaying 이랑 같은 표현\r\n        upcoming,\r\n      });\r\n    } catch {\r\n      this.setState({\r\n        error: \"Can't find movies from information.\",\r\n      });\r\n    } finally {\r\n      this.setState({\r\n        loading: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      nowPlaying,\r\n      upcoming,\r\n      error,\r\n      loading,\r\n      settings,\r\n    } = this.state;\r\n\r\n    return (\r\n      <HomePresenter\r\n        nowPlaying={nowPlaying}\r\n        upcoming={upcoming}\r\n        error={error}\r\n        loading={loading}\r\n        settings={settings}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\n//컨테이너는 data를 가지고, state를 가지고 api를 불러온다. 그리고 모든 로직을 처리한다.\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IMAGE_BASE_URL } from \"../../Components/Config\";\r\nconst Container = styled.div`\r\n  font-size: 30px;\r\n  min-height: 350px;\r\n  min-width: 250px;\r\n  align-content: center;\r\n`;\r\nconst Image = styled.div`\r\n  background-image: url(${props => props.bgUrl});\r\n  width: 280px;\r\n  height: 410px;\r\n  margin-right: 20px;\r\n  background-size: cover;\r\n  transition: all 0.1s linear 0s;\r\n`;\r\nconst ImageContainer = styled.div`\r\n  margin-bottom: 5px;\r\n  position: relative;\r\n  &:hover {\r\n    ${Image} {\r\n      opacity: 0.3;\r\n    }\r\n  }\r\n  transition: all 300ms cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  position: relative;\r\n  transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    ::after {\r\n      transform: scaleY(1);\r\n      opacity: 1;\r\n    }\r\n  }\r\n  &::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 0.8rem;\r\n    transform: scaleY(0);\r\n    transform-origin: top;\r\n    opacity: 0;\r\n    background-color: var(--color-primary);\r\n    z-index: -99;\r\n    box-shadow: 0rem 2rem 5rem var(--shadow-color-dark);\r\n    transition: all 100ms cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  }\r\n`;\r\nconst Title = styled.span`\r\n  font-size: 25px solid;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* padding: 1.5rem 3rem; */\r\n`;\r\nconst RatingsWrapper = styled.div`\r\n  position: relative;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n  color: var(--color-primary);\r\n  ${Container}:hover & {\r\n    color: var(--color-primary-lighter);\r\n  }\r\n`;\r\nconst SearchPoster = ({\r\n  id,\r\n  imageUrl,\r\n  title,\r\n  rating,\r\n  year,\r\n  isMovie = false,\r\n}) => (\r\n  <Link to={`/movie/${id}`}>\r\n    <Container>\r\n      <ImageContainer>\r\n        <Image\r\n          bgUrl={\r\n            imageUrl\r\n              ? `${IMAGE_BASE_URL}original${imageUrl}`\r\n              : \"https://www.movienewz.com/img/films/poster-holder.jpg\"\r\n          }\r\n        />\r\n      </ImageContainer>\r\n      <RatingsWrapper>\r\n        <Title>\r\n          {title.length > 8 ? `${title.substring(0, 4)}...` : title}\r\n        </Title>\r\n      </RatingsWrapper>\r\n    </Container>\r\n  </Link>\r\n);\r\nSearchPoster.propTypes = {\r\n  movieId: PropTypes.number,\r\n  imageUrl: PropTypes.string,\r\n  title: PropTypes.string.isRequired,\r\n};\r\nexport default SearchPoster;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  :not(:last-child) {\r\n    margin-bottom: 60px;\r\n  }\r\n  margin: 0 auto;\r\n  width: 90%;\r\n`;\r\nconst Title = styled.span`\r\n  font-size: 30px;\r\n  font-weight: 600;\r\n  padding: 0px 0px 10px;\r\n  position: relative;\r\n`;\r\nconst Grid = styled.div`\r\n  margin-top: 30px;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, 250px);\r\n  grid-gap: 100px;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nconst SearchSection = ({ title, children }) => (\r\n  <Container>\r\n    <Title>{title}</Title>\r\n    <Grid>{children}</Grid>\r\n  </Container>\r\n);\r\nSearchSection.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node,\r\n  ]),\r\n};\r\nexport default SearchSection;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Helmet from \"react-helmet\";\r\nimport Loader from \"Components/Loader\";\r\nimport Message from \"../../Components/Message\";\r\nimport Poster from \"./SearchPoster\";\r\nimport SearchSection from \"./SearchSection\";\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n`;\r\nconst Form = styled.form`\r\n  margin-bottom: 50px;\r\n  width: 100%;\r\n`;\r\nconst Input = styled.input`\r\nall: unset;\r\n    width: 100%;\r\n    font-size: 28px;\r\n    line-height: 28px;\r\n    text-indent: 15px;\r\n    padding: 5px 0px;\r\n    background: rgba(255, 255, 255, 0.1);\r\n`;\r\nconst SearchPresenter = ({\r\n  movieResults,\r\n  loading,\r\n  searchTerm,\r\n  handleSubmit,\r\n  error,\r\n  updateTerm\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Search | Nomflix</title>\r\n    </Helmet>\r\n    <Form onSubmit={handleSubmit}>\r\n      <Input\r\n        placeholder=\"검색어를 입력해주세요.\"\r\n        value={searchTerm}\r\n        onChange={updateTerm}\r\n      />\r\n    </Form>\r\n    {loading ? (\r\n      <Loader />\r\n    ) : (\r\n      <>\r\n        {movieResults && movieResults.length > 0 && (\r\n          <SearchSection title=\"Movie Results\">\r\n            {movieResults.map((movie, index) => (\r\n              <Poster\r\n              key={index}\r\n                id={movie.id}\r\n                imageUrl={movie.poster_path}\r\n                title={movie.original_title}\r\n                rating={movie.vote_average}\r\n                year={movie.release_date && movie.release_date.substring(0, 4)}\r\n                isMovie={true}\r\n              />\r\n            ))}\r\n          </SearchSection>\r\n        )}\r\n        {error && <Message color=\"#e74c3c\" text={error} />}\r\n        {movieResults &&\r\n          movieResults.length === 0 && (\r\n            <Message text=\"검색결과가 없습니다\" color=\"#95a5a6\"  />\r\n          )}\r\n      </>\r\n    )}\r\n  </Container>\r\n);\r\nSearchPresenter.propTypes = {\r\n  movieResults: PropTypes.array,\r\n  tvResults: PropTypes.array,\r\n  error: PropTypes.string,\r\n  searchTerm: PropTypes.string,\r\n  loading: PropTypes.bool.isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  updateTerm: PropTypes.func.isRequired\r\n};\r\nexport default SearchPresenter;","import SearchContainer from \"./SearchContainer\";\r\n\r\nexport default SearchContainer;","import React from \"react\";\r\nimport SearchPresenter from \"./SearchPresenter\";\r\nimport { moviesApi } from \"../../api\";\r\nexport default class extends React.Component {\r\n\r\n  state = {\r\n    movieResults: null,\r\n    searchTerm: \"\",\r\n    loading: false,\r\n    error: null\r\n  };\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { searchTerm } = this.state;\r\n    if (searchTerm !== \"\") {\r\n      this.searchByTerm();\r\n    }\r\n  };\r\n  updateTerm = event => {\r\n    const {\r\n      target: { value }\r\n    } = event;\r\n    this.setState({\r\n      searchTerm: value\r\n    });\r\n  };\r\n  searchByTerm = async () => {\r\n    const { searchTerm } = this.state;\r\n    this.setState({ loading: true });\r\n    try {\r\n      const {\r\n        data: { results: movieResults }\r\n      } = await moviesApi.search(searchTerm);\r\n      this.setState({\r\n        movieResults\r\n      });\r\n    } catch {\r\n      this.setState({ error: \"Can't find results.\" });\r\n    } finally {\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n  render() {\r\n    const { movieResults, searchTerm, loading, error } = this.state;\r\n    return (\r\n      <SearchPresenter\r\n        movieResults={movieResults}\r\n        loading={loading}\r\n        error={error}\r\n        searchTerm={searchTerm}\r\n        handleSubmit={this.handleSubmit}\r\n        updateTerm={this.updateTerm}\r\n      />\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport { Badge } from \"antd\";\r\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { LOCAL_SERVER } from \"./Config\";\r\n\r\nconst Header = styled.header`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 55px;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 10;\r\n  top: 0;\r\n  left: 0;\r\n  justify-content: center;\r\n`\r\nconst List1 = styled.ul`\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n\r\n  -webkit-box-align: center;\r\n  -webkit-align-items: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  padding: 0 10px;\r\n`\r\nconst List2 = styled.ul`\r\n  justify-content: flex-end;\r\n  float: right;\r\n  width: 100%;\r\n  -webkit-box-align: center;\r\n  -webkit-align-items: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  font-weight: 400;\r\n  height: 44px;\r\n`\r\nconst Item = styled.li`\r\n  width: 80px;\r\n  height: 50px;\r\n  float: right;\r\n  text-align: center;\r\n`;\r\nconst SLink = styled(Link)`\r\n  font-size: 13px;\r\n  height: 50px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  &:link {\r\n    text-decoration: none;\r\n    color: #e5e5e5;\r\n  }\r\n  &:visited {\r\n    text-decoration: none;\r\n    //color: white;\r\n    color: #e5e5e5;\r\n  }\r\n  &:active {\r\n    text-decoration: none;\r\n    color: #e5e5e5;\r\n  }\r\n  &:hover {\r\n    text-decoration: none;\r\n    color: white;\r\n  }\r\n`\r\n//헤더 색 scroll에따라 변화/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\nconst handleScroll = () => {\r\n  const windowHeight =\r\n    \"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight\r\n  const body = document.body\r\n  const html = document.documentElement\r\n  const docHeight = Math.max(\r\n    body.scrollHeight,\r\n    body.offsetHeight,\r\n    html.clientHeight,\r\n    html.scrollHeight,\r\n    html.offsetHeight\r\n  );\r\n  const windowBottom = windowHeight + window.pageYOffset;\r\n  var x = document.getElementById(\"header\");\r\n  var y = 0;\r\n  if (docHeight > 2000) {\r\n    y = 1800;\r\n  } else if (docHeight > 1000) {\r\n    y = 500\r\n  } else {\r\n    y = 1\r\n  }\r\n  if (windowBottom < docHeight - y) {\r\n    if(x === null) { return x=document.getElementById(\"header\")}\r\n    x.style.backgroundColor = \"transparent\";\r\n  } else if (windowBottom > docHeight - y) {\r\n    if(x === null) { return x=document.getElementById(\"header\") }\r\n    x.style.backgroundColor = \"#171717\";\r\n  }\r\n};\r\nexport default withRouter(\r\n  (\r\n    props //withRouter 때문에 props를 가질 수 있다.\r\n  ) => {\r\n    const user = useSelector(state => state.user);\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    const {\r\n      location: { pathname },\r\n    } = props\r\n    const logoutHandler = () => {\r\n      Axios.get(\"/api/users/logout\").then(response => {\r\n        if (response.data.success) {\r\n          props.history.push(\"/sign-in\")\r\n        } else {\r\n          alert(\"로그아웃 하는데 실패 했습니다.\")\r\n        }\r\n      })\r\n    }\r\n    return (\r\n      <>\r\n        <Header id=\"header\">\r\n          <List1>\r\n            <Item current={pathname === \"/\"}>\r\n              <SLink to=\"/\">\r\n                <img\r\n                  src={require(\"./images/logo.png\")}\r\n                  alt=\"logo\"\r\n                  style={{ width: \"70%\", margin: \"0 auto\", marginTop: \"0px\" }}\r\n                />\r\n              </SLink>\r\n            </Item>\r\n            <Item current={pathname === \"/search\"}>\r\n              <SLink to=\"/search\">검색</SLink>\r\n            </Item>\r\n            <Item current={pathname === \"/favorite\"}>\r\n              <SLink to={user.userData && !user.userData.isAuth ? \"/sign-in\" : \"/favorite\"}>\r\n                찜한 목록\r\n              </SLink>\r\n            </Item>\r\n            <Item current={pathname === \"/myscore\"}>\r\n              <SLink to=\"/myscore\">평가</SLink>\r\n            </Item>\r\n            <Item current={pathname === \"/product\"}>\r\n              <SLink to=\"/product\">매점</SLink>\r\n            </Item>\r\n            {user.userData && user.userData.role ===\"관리자\"\r\n            ? (\r\n              <Item current={pathname === \"/admin\"}>\r\n                <SLink to={user.userData.role===\"관리자\" ? \"/admin\" : \"/sign-in\"}>관리자</SLink>\r\n              </Item>\r\n              )\r\n            : null\r\n              }\r\n          </List1>\r\n          {user.userData && !user.userData.isAuth ? (\r\n            <List2>\r\n              <Item current={pathname === \"/sign-in\"}>\r\n                <SLink to=\"/sign-in\">로그인</SLink>\r\n              </Item>\r\n            </List2>\r\n          ) : (\r\n            <List2>\r\n              <Item style={{ width: \"95px\" }}>\r\n                <SLink to=\"/mypage/update\">\r\n                  {/* 내계정 */}\r\n                  {user.userData && (\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        margin: \"0px auto\",\r\n                        color: \"#e5e5e5\",\r\n                      }}\r\n                    >\r\n                      <span style={{ textAlign: \"center\", marginTop: \"6px\", color: \"#e5e5e5\" }}>\r\n                        {user.userData && user.userData.name.length > 7\r\n                          ? `${user.userData.name.substring(0, 4)}...`\r\n                          : user.userData.name}\r\n                      </span>\r\n                      <img\r\n                        style={{\r\n                          display: \"flex\",\r\n                          borderRadius: \"70%\",\r\n                          overflow: \"hidden\",\r\n                          objectFit: \"cover\",\r\n                          marginLeft: \"10px\",\r\n                          justifyContent: \"center\",\r\n                          color: \"#e5e5e5\",\r\n                        }}\r\n                        src={\r\n                          user.userData.image\r\n                            ? `${LOCAL_SERVER}${user.userData.image}`\r\n                            : `${LOCAL_SERVER}uploads/default.png`\r\n                        }\r\n                        alt=\"haha\"\r\n                        color=\"#e5e5e5\"\r\n                        width=\"24rem\"\r\n                        height=\"23rem\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </SLink>\r\n              </Item>\r\n              <Item style={{ width: \"40px\" }}>\r\n                {user.userData && (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      itemAlign: \"center\",\r\n                      margin: \"0px auto\",\r\n                      color: \"#e5e5e5\",\r\n                    }}\r\n                  >\r\n                    <Badge\r\n                      count={user.userData && user.userData.cart.length}\r\n                      style={{ marginBottom: -10, backgroundColor: \"mediumslateblue\", fontSize: 1 }}\r\n                      offset={[10, 10]}\r\n                    >\r\n                      <SLink to=\"/mymovie\" className=\"head-example\">\r\n                        <ShoppingCartOutlined\r\n                          style={{ fontSize: 25, marginLeft: \"10px\", color: \"#e5e5e5\" }}\r\n                        />\r\n                      </SLink>\r\n                    </Badge>\r\n                  </div>\r\n                )}\r\n              </Item>\r\n              <Item>\r\n                <SLink to=\"/login\" onClick={logoutHandler}>\r\n                  로그아웃\r\n                </SLink>\r\n              </Item>\r\n            </List2>\r\n          )}\r\n        </Header>\r\n      </>\r\n    )\r\n  }\r\n)\r\n//const SLink = styled(Link)``; : React Router에서 주어진 Link, 이런식으로 스타일을 추가 할 수있다.\r\n//npm i styled-reset : SC를 이용해서 CSS를 초기화해서 0의 상태에서 시작하게 하는 거야\r\n//position:fixed 스크롤해도 그자리에 있게 하기 위해\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { IMAGE_BASE_URL } from \"../../../Components/Config\";\r\n\r\nconst MovieImg = styled.img`\r\n  width: 5rem;\r\n  height: 5rem;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  background-color: transparent;\r\n  transition: all 100ms cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  padding: 9px;\r\n`;\r\nconst Name = styled.span`\r\n  font-weight: 200;\r\n  text-align: center;\r\n  display: block;\r\n  margin-bottom: 3px;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`;\r\nconst Box = styled.div`\r\n  color: inherit;\r\n  text-decoration: none;\r\n  font: inherit;\r\n  margin-right: 30px;\r\n`;\r\nconst CastItem = ({ person }) => {\r\n  return (\r\n    <Box>\r\n      <MovieImg\r\n        src={\r\n          person.profile_path !== null\r\n            ? `${IMAGE_BASE_URL}w185${person.profile_path}`\r\n            : \"https://www.eeweb.com/assets/themes/mobile/images/user.png\"\r\n        }\r\n      />\r\n      <Name>\r\n        {person.name.length > 12\r\n          ? `${person.name.substring(0, 8)}...`\r\n          : person.name}\r\n      </Name>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CastItem;\r\n","import React from \"react\";\r\nimport CastItem from \"./CastItem\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin-bottom: 5rem;\r\n`;\r\n\r\nconst Test = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n  overflow-y: hidden;\r\n  overflow-x: auto;\r\n  &::-webkit-scrollbar {\r\n    width: 40px;\r\n    height: 10px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    opacity: 1 important!;\r\n  }\r\n`;\r\n\r\nconst Credits = ({ cast }) => {\r\n  const items = cast.map(person => (\r\n    <CastItem person={person} key={person.id} />\r\n  ));\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Test>{items}</Test>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Credits;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst Heading = styled.h3`\r\n  color: var(--color-primary-dark);\r\n  font-weight: 300;\r\n  text-transform: uppercase;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.4rem;\r\n  margin-top: 10px;\r\n  color: white;\r\n  @media ${props => props.theme.mediaQueries.medium} {\r\n    font-size: 1.2rem;\r\n  }\r\n`;\r\nconst Video = ({ video }) => {\r\n  \r\n  return (\r\n    <div>\r\n      <div>\r\n        {video && video.key && (\r\n          <>\r\n            <Heading>Trailer</Heading>\r\n            <iframe\r\n              title=\"movie\"\r\n              width=\"500\"\r\n              height=\"230\"\r\n              src={`https://www.youtube.com/embed/${video.key}`}\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            />\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport MoodIcon from \"@material-ui/icons/Mood\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    color: \"yellow\",\r\n  },\r\n});\r\n\r\nfunction Favorite(props) {\r\n  const isMovie = props.isMovie;\r\n  const movieId = props.movieId;\r\n  const userFrom = props.userFrom;\r\n  const movieTitle = props.movieInfo.title\r\n    ? props.movieInfo.title\r\n    : props.movieInfo.original_name;\r\n  const moviePost = props.movieInfo.poster_path;\r\n  const movieYear = props.movieInfo.release_date\r\n    ? props.movieInfo.release_date.substring(0, 4)\r\n    : props.movieInfo.first_air_date.substring(0, 4);\r\n  const movieRating = props.movieInfo.vote_average;\r\n  const [FavoriteNumber, setFavoriteNumber] = useState(0);\r\n  const [Favorited, setFavorited] = useState(false);\r\n\r\n  let variables = {\r\n    isMovie,\r\n    userFrom,\r\n    movieId,\r\n    movieTitle,\r\n    moviePost,\r\n    movieYear,\r\n    movieRating,\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.post(\"/api/favorite/favoriteNumber\", variables).then(response => {\r\n      if (response.data.success) {\r\n        setFavoriteNumber(response.data.favoriteNumber);\r\n      } else {\r\n        alert(\"숫자 정보를 가져오는데 실패 했습니다.\");\r\n      }\r\n    });\r\n\r\n    axios.post(\"/api/favorite/favorited\", variables).then(response => {\r\n      if (response.data.success) {\r\n        setFavorited(response.data.favorited);\r\n      } else {\r\n        alert(\"정보를 가져오는데 실패 했습니다.\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const onClickFavorite = () => {\r\n    if (Favorited) {\r\n      axios\r\n        .post(\"/api/favorite/removeFromFavorite\", variables)\r\n        .then(response => {\r\n          if (response.data.success) {\r\n            setFavoriteNumber(FavoriteNumber - 1);\r\n            setFavorited(!Favorited);\r\n          } else {\r\n            alert(\"Favorite 리스트에서 지우는 걸 실패했습니다.\");\r\n          }\r\n        });\r\n    } else {\r\n      axios.post(\"/api/favorite/addToFavorite\", variables).then(response => {\r\n        if (response.data.success) {\r\n          setFavoriteNumber(FavoriteNumber + 1);\r\n          setFavorited(!Favorited);\r\n        } else {\r\n          alert(\"Favorite 리스트에서 추가하는 걸 실패했습니다.\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const classes = useStyles();\r\n  return (\r\n      <>\r\n      &nbsp;\r\n      &nbsp;\r\n      &nbsp;\r\n      <span \r\n        onClick={onClickFavorite}      \r\n      >\r\n        {Favorited ? (\r\n          <>\r\n            <MoodIcon className={classes.root} />\r\n            {FavoriteNumber}\r\n            \r\n          </>\r\n        ) : (\r\n          <>\r\n            <MoodIcon />\r\n            {FavoriteNumber}\r\n          </>\r\n        )}\r\n      </span>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Favorite;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { IMAGE_BASE_URL, POSTER_SIZE } from \"../../../Components/Config\";\r\n\r\nconst MovieImg = styled.img`\r\n  width: 160px;\r\n  height: 250px;\r\n  margin-right: 30px;\r\n  background-size: cover;\r\n  border-radius: 4px;\r\n  transition: all 0.1s linear 0s;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-weight: 700;\r\n  text-align: center;\r\n  display: block;\r\n  margin-bottom: 3px;\r\n  margin-right: 30px;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`;\r\n\r\nconst RecommendatinMovie = ({ movie, id }) => {\r\n  return (\r\n    <a href={`/movie/${id}`}>\r\n      <MovieImg\r\n        src={\r\n          movie.poster_path\r\n            ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`\r\n            : \"https://www.movienewz.com/img/films/poster-holder.jpg\"\r\n        }\r\n      />\r\n      <Title>\r\n        {movie.title.length > 12\r\n          ? `${movie.title.substring(0, 8)}...`\r\n          : movie.title}\r\n      </Title>\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default RecommendatinMovie;\r\n","import React from \"react\";\r\nimport RecommendatinMovie from \"./RecommendatinMovie\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin-bottom: 5rem;\r\n`;\r\n\r\nconst Test = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n  overflow-y: hidden;\r\n  overflow-x: auto;\r\n  &::-webkit-scrollbar {\r\n    width: 40px;\r\n    height: 10px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst Heading = styled.h3`\r\n  color: var(--color-primary-dark);\r\n  font-weight: 300;\r\n  text-transform: uppercase;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.4rem;\r\n  margin-top: 10px;\r\n  color: white;\r\n\r\n  @media ${props => props.theme.mediaQueries.medium} {\r\n    font-size: 1.2rem;\r\n  }\r\n`;\r\n\r\nconst Recommendation = ({ recommendation }) => {\r\n  const movies = recommendation.map(movie => (\r\n    <RecommendatinMovie movie={movie} key={movie.id} id={movie.id} />\r\n  ));\r\n  return (\r\n    <>\r\n      {movies.length !== 0 ? <Heading>RECOMMENDATIONS</Heading> : \"\"}\r\n      <Wrapper>\r\n        <Test>{movies}</Test>\r\n      </Wrapper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Recommendation;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"Components/Loader\";\r\nimport Helmet from \"react-helmet\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Cast from \"./Cast/Cast\";\r\nimport Video from \"./Video/Video\";\r\nimport Favorite from \"./Sections/Favorite\";\r\nimport { IMAGE_BASE_URL } from \"../../Components/Config\";\r\nimport Recommendation from \"./Recommendation/Recommendation\";\r\n\r\nconst Container = styled.div`\r\n  height: calc(100vh - 50px);\r\n  width: 100vw;\r\n  position: relative;\r\n  padding: 50px;\r\n  overflow: hidden;\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-image: url(${props => props.bgImage});\r\n  background-position: center center;\r\n  background-size: cover;\r\n  filter: blur(0px);\r\n  opacity: 0.5;\r\n  z-index: 0;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  position: relative;\r\n  z-index: 1;\r\n  height: 100%;\r\n`;\r\n\r\nconst Cover = styled.div`\r\n  width: 30%;\r\n  background-image: url(${props => props.bgImage});\r\n  background-position: center center;\r\n  background-size: cover;\r\n  height: 100%;\r\n  border-radius: 5px;\r\n`;\r\nconst Data = styled.div`\r\n  width: 65%;\r\n  height: 100%;\r\n  margin-left: 10px;\r\n  overflow-x: auto;\r\n  overflow-y: auto;\r\n  &::-webkit-scrollbar {\r\n    display: none !important; // 윈도우 크롬 등\r\n  }\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  font-size: 2rem;\r\n  font-weight: 200;\r\n  line-height: 1.2;\r\n  letter-spacing: -0.5px;\r\n  text-transform: uppercase;\r\n  margin-bottom: 0.5rem;\r\n  display: flex;\r\n  color: white;\r\n`;\r\n\r\nconst ItemContainer = styled.div`\r\n  margin: 20px 0;\r\n`;\r\n\r\nconst Item = styled.span``;\r\n\r\nconst Divider = styled.span`\r\n  margin: 0 10px;\r\n`;\r\n\r\nconst Overview = styled.p`\r\n  font-size: 17px;\r\n  opacity: 0.9;\r\n  line-height: 1.5;\r\n  width: 50%;\r\n  color: white;\r\n`;\r\n\r\nconst Heading = styled.h3`\r\n  color: var(--color-primary-dark);\r\n  font-weight: 300;\r\n  text-transform: uppercase;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.4rem;\r\n  margin-top: 10px;\r\n  color: white;\r\n  @media ${props => props.theme.mediaQueries.medium} {\r\n    font-size: 1.2rem;\r\n  }\r\n`;\r\n\r\nconst ButtonsWrapper = styled.div`\r\n  margin-top: -73px;\r\n  display: flex;\r\n  align-items: center;\r\n  @media ${props => props.theme.mediaQueries.small} {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n`;\r\n\r\nconst DetailPresenter = ({\r\n  result,\r\n  loading,\r\n  error,\r\n  castResult,\r\n  isMovie,\r\n  video,\r\n  recommendations,\r\n}) => {\r\n  return loading ? (\r\n    <>\r\n      <Helmet>\r\n        <title>Detail | Nomflix</title>\r\n      </Helmet>\r\n      <Loader />\r\n    </>\r\n  ) : (\r\n    <Container>\r\n      <Helmet>\r\n        <title>\r\n          {result.title ? result.title : result.original_name} | Nomflix\r\n        </title>\r\n      </Helmet>\r\n      <Backdrop bgImage={`${IMAGE_BASE_URL}original${result.backdrop_path}`} />\r\n      <Content>\r\n        <Cover bgImage={`${IMAGE_BASE_URL}original${result.poster_path}`} />\r\n        <Data>\r\n          <Title>{isMovie ? result.title : result.name}</Title>\r\n\r\n          <ItemContainer>\r\n            <Item>\r\n              {isMovie\r\n                ? result.release_date.substring(0, 4)\r\n                : result.first_air_date.substring(0, 4)}\r\n            </Item>\r\n\r\n            <Divider>•</Divider>\r\n\r\n            <Item>\r\n              {isMovie ? result.runtime : result.episode_run_time[0]} min\r\n            </Item>\r\n\r\n            <Divider>•</Divider>\r\n\r\n            <Item>\r\n              {result.genres &&\r\n                result.genres.map((genre, index) =>\r\n                  index === result.genres.length - 1\r\n                    ? genre.name\r\n                    : `${genre.name} / `\r\n                )}\r\n            </Item>\r\n\r\n            <Favorite\r\n              isMovie={isMovie}\r\n              movieInfo={result}\r\n              movieId={parseInt(result.id)}\r\n              userFrom={localStorage.getItem(\"userId\")}\r\n            />\r\n          </ItemContainer>\r\n\r\n          <Overview>{result.overview}</Overview>\r\n\r\n          <Heading>The Cast</Heading>\r\n          <Cast cast={castResult.cast} />\r\n\r\n          <ButtonsWrapper>\r\n            <Video video={video.results[0]} />\r\n          </ButtonsWrapper>\r\n          <Recommendation recommendation={recommendations.results} />\r\n        </Data>\r\n      </Content>\r\n    </Container>\r\n  );\r\n};\r\n\r\nDetailPresenter.propTypes = {\r\n  castResult: PropTypes.object,\r\n  result: PropTypes.object,\r\n  loading: PropTypes.bool.isRequired,\r\n  error: PropTypes.string,\r\n  isMovie: PropTypes.bool,\r\n};\r\nexport default withRouter(DetailPresenter);","import DetailContainer from \"./DetailContainer\";\r\n\r\nexport default DetailContainer;","import React from \"react\";\r\nimport DetailPresenter from \"./DetailPresenter\";\r\nimport { moviesApi } from \"api\";\r\n\r\nexport default class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const {\r\n      location: { pathname },\r\n    } = props;\r\n\r\n    this.state = {\r\n      castResult: null,\r\n      result: null,\r\n      error: null,\r\n      loading: true,\r\n      isMovie: pathname.includes(\"/movie/\"),\r\n      modalOpened: false,\r\n      video: null,\r\n      recommendations: null,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const {\r\n      match: {\r\n        params: { id },\r\n      },\r\n      history: {\r\n        push,\r\n      },\r\n    } = this.props;\r\n\r\n    const parsedId = parseInt(id);\r\n\r\n    if (isNaN(parsedId)) {\r\n      return push(\"/\");\r\n    }\r\n    let result = null;\r\n    let castResult = null;\r\n    let video = null;\r\n    let recommendations = null;\r\n    try {\r\n      ({ data: result } = await moviesApi.movieDetail(parsedId)); \r\n      ({ data: castResult } = await moviesApi.cast(parsedId));\r\n      ({ data: video } = await moviesApi.videos(parsedId));\r\n      ({ data: recommendations } = await moviesApi.recommendationMovie(\r\n        parsedId\r\n      ));\r\n    } catch {\r\n      this.setState({ error: \"Can't find anything.\" });\r\n    } finally {\r\n\r\n      this.setState({\r\n        loading: false,\r\n        result,\r\n        castResult,\r\n        video,\r\n        recommendations,\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const {\r\n      result,\r\n      error,\r\n      loading,\r\n      castResult,\r\n      isMovie,\r\n      video,\r\n      recommendations,\r\n    } = this.state;\r\n\r\n    return (\r\n      <DetailPresenter\r\n        isMovie={isMovie}\r\n        result={result}\r\n        castResult={castResult}\r\n        error={error}\r\n        loading={loading}\r\n        video={video}\r\n        recommendations={recommendations}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport KaKaoLogin from \"react-kakao-login\";\r\nimport Axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { GOOGLE_KEY, GOOGLE_LOGO, KAKAO_KEY } from \"../../Components/Config\";\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n`;\r\nconst GoGo = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-top: 5px;\r\n`;\r\nconst KaKaoBtn = styled(KaKaoLogin)`\r\n  width: 17%;\r\n  height: 52px;\r\n  line-height: 44px;\r\n  color: #783c00;\r\n  background-color: #ffeb00;\r\n  border: 1px solid transparent;\r\n  border-radius: 130px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  &:hover {\r\n    box-shadow: 0 0px 15px 0 rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\nfunction SocialLogin(props) {\r\n  const responseGoogle = response => {\r\n    const data = {\r\n      tokenId: response.tokenId,\r\n    };\r\n    Axios.post(\"/api/users/googlelogin\", data).then(response => {\r\n      if (response.data.loginSuccess) {\r\n        window.localStorage.setItem(\"userId\", response.data.userId);\r\n        props.history.push(\"/\");\r\n      } else {\r\n        alert(\"로그인 실패\");\r\n      }\r\n    });\r\n  };\r\n  const responseKaKao = response => {\r\n    const data = response;\r\n    Axios.post(\"/api/users/kakaologin\", data).then(response => {\r\n      if (response.data.loginSuccess) {\r\n        window.localStorage.setItem(\"userId\", response.data.userId);\r\n        props.history.push(\"/\");\r\n      } else {\r\n        alert(\"로그인 실패\");\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <Container>\r\n      <GoGo>\r\n        <GoogleLogin\r\n          clientId={GOOGLE_KEY}\r\n          render={renderProps => (\r\n            <button\r\n              className=\"c-flex\"\r\n              onClick={renderProps.onClick}\r\n              disabled={renderProps.disabled}\r\n              style={{\r\n                width: \"17%\",\r\n                borderRadius: \"100%\",\r\n              }}\r\n            >\r\n              <img\r\n                src={GOOGLE_LOGO}\r\n                style={{ width: \"100%\", height: \"45px\", borderRadius: \"100%\" }}\r\n                alt=\"Google Logo\"\r\n              />\r\n            </button>\r\n          )}\r\n          buttonText=\"\"\r\n          onSuccess={responseGoogle}\r\n          onFailure={responseGoogle}\r\n          cookiePolicy={\"single_host_origin\"}\r\n          scope=\"email\"\r\n        />\r\n        <KaKaoBtn\r\n          //styled component 통해 style을 입혀 줄 예정\r\n          jsKey={KAKAO_KEY}\r\n          //카카오에서 할당받은 jsKey를 입력\r\n          buttonText=\"Kakao\"\r\n          //로그인 버튼의 text를 입력\r\n          onSuccess={responseKaKao}\r\n          //성공했을때 불러올 함수로서 fetch해서 localStorage에 저장할 함수를 여기로 저장\r\n          getProfile={true}\r\n        />\r\n      </GoGo>\r\n    </Container>\r\n  );\r\n}\r\nexport default withRouter(SocialLogin);\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loginUser } from \"../../_actions/user_action\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport SocialLogin from \"./SocialLogin\";\r\n\r\nfunction Login(props) {\r\n  const dispatch = useDispatch();\r\n\r\n  const [Email, setEmail] = useState(\"\");\r\n  const [Password, setPassword] = useState(\"\");\r\n\r\n  const onEmailHandler = (event) => {\r\n    setEmail(event.currentTarget.value);\r\n  };\r\n\r\n  const onPasswordHandler = (event) => {\r\n    setPassword(event.currentTarget.value);\r\n  };\r\n\r\n  const onSubmitHandler = (event) => {\r\n    event.preventDefault(); //페이지 refresh 방지\r\n\r\n    let body = {\r\n      email: Email,\r\n      password: Password,\r\n    };\r\n\r\n    //redux action => loginUser는 action이름\r\n    dispatch(loginUser(body)).then((response) => {\r\n      if (response.payload.loginSuccess) {\r\n        window.localStorage.setItem(\"userId\", response.payload.userId); //\r\n        props.history.push(\"/\");\r\n      } else {\r\n        alert(\"로그인 실패\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-wrapper\">\r\n      <div className=\"auth-inner\">\r\n        <form onSubmit={onSubmitHandler}>\r\n         \r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"이메일\"\r\n              value={Email}\r\n              onChange={onEmailHandler}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"비밀번호\"\r\n              value={Password}\r\n              onChange={onPasswordHandler}\r\n            />            \r\n          </div>        \r\n          <div className=\"form-group\">\r\n            <div className=\"custom-control custom-checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"custom-control-input\"\r\n                id=\"customCheck1\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn btn-primary btn-block\">\r\n            로그인\r\n          </button>\r\n          <SocialLogin />\r\n          <br />\r\n          <a href=\"/sign-up\">회원이 아니신가요?</a>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import Login from \"./Login\";\r\n\r\nexport default Login;","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { registerUser } from \"../../_actions/user_action\";\r\nimport \"./SignUp.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport Axios from \"axios\";\r\nimport { LOCAL_SERVER } from \"../../Components/Config\";\r\nfunction SignUp(props) {\r\n  const dispatch = useDispatch();\r\n\r\n  const [Email, setEmail] = useState(\"\");\r\n  const [Name, setName] = useState(\"\");\r\n  const [Password, setPassword] = useState(\"\");\r\n  const [ConfirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [FilePath, setFilePath] = useState(\"uploads/default.png\");\r\n  const [FileName, setFileName] = useState(\"\");\r\n  const [Gender, setGender] = useState(\"\");\r\n\r\n  const onEmailHandler = event => {\r\n    setEmail(event.currentTarget.value);\r\n  };\r\n\r\n  const onNameHandler = event => {\r\n    setName(event.currentTarget.value);\r\n  };\r\n\r\n  const onPasswordHandler = event => {\r\n    setPassword(event.currentTarget.value);\r\n  };\r\n\r\n  const onConfirmPasswordHandler = event => {\r\n    setConfirmPassword(event.currentTarget.value);\r\n  };\r\n\r\n  const onGenderHandler = event => {\r\n    setGender(event.currentTarget.value);\r\n  };\r\n\r\n  const onDrop = files => {\r\n    let formData = new FormData();\r\n    const config = {\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    };\r\n\r\n    formData.append(\"file\", files[0]);\r\n\r\n    Axios.post(\"/api/image/uploadfiles\", formData, config).then(response => {\r\n      if (response.data.success) {\r\n        setFilePath(\r\n          response.data.filePath\r\n            ? response.data.filePath\r\n            : \"uploads/default.png\"\r\n        );\r\n        setFileName(response.data.fileName);\r\n      } else {\r\n        alert(\"failed to save the video in server\");\r\n      }\r\n    });\r\n  };\r\n  const onSubmitHandler = event => {\r\n    event.preventDefault(); //페이지 refresh 방지\r\n\r\n    if (Password !== ConfirmPassword) {\r\n      return alert(\"비밀번호와 비밀번호 확인은 같아야 합니다.\");\r\n    }\r\n\r\n    let body = {\r\n      email: Email,\r\n      password: Password,\r\n      name: Name,\r\n      image: FilePath,\r\n      gender: Gender,\r\n    }; \r\n\r\n    // redux action => loginUser는 action이름\r\n    dispatch(registerUser(body)).then(response => {\r\n      if (response.payload.success) {\r\n        props.history.push(\"/sign-in\");\r\n        alert(\"회원가입 성공!\");\r\n      } else {\r\n        alert(\"회원가입 실패\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-wrapper\">\r\n      <div className=\"auth-inner\">\r\n        <form onSubmit={onSubmitHandler} style={{ margin: \"0\" }}>\r\n          <div className=\"form-group\" style={{ textAlign: \"center\" }}>\r\n            <label style={{ marginBottom: \"10px\", display: \"inline-block\" }}>\r\n              프로필 이미지\r\n            </label>\r\n            <br />\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                marginTop: \"30px\",\r\n              }}\r\n            >\r\n              <Dropzone onDrop={onDrop} multiple={false} maxSize={800000000}>\r\n                {({ getRootProps, getInputProps }) => (\r\n                  <div\r\n                    style={{\r\n                      width: \"60px\",\r\n                      height: \"50px\",\r\n                      border: \"1px solid lightgray\",\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                    }}\r\n                    {...getRootProps()}\r\n                  >\r\n                    <input {...getInputProps()} />\r\n                    <img\r\n                      style={{\r\n                        display: \"flex\",\r\n                        borderRadius: \"30%\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                      src={\r\n                        FilePath\r\n                          ? `${LOCAL_SERVER}${FilePath}`\r\n                          : `${LOCAL_SERVER}uploads/default.png`\r\n                      }\r\n                      alt=\"haha\"\r\n                      width=\"110px\"\r\n                      height=\"110px\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </Dropzone>\r\n              \r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label style={{ marginBottom: \"5px\" }}>이메일</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter Email\"\r\n              value={Email}\r\n              onChange={onEmailHandler}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label style={{ marginBottom: \"5px\" }}>이름</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter Name\"\r\n              value={Name}\r\n              onChange={onNameHandler}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label style={{ marginBottom: \"5px\" }}>비밀번호</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter password\"\r\n              value={Password}\r\n              onChange={onPasswordHandler}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label style={{ marginBottom: \"5px\" }}>비밀번호 확인</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter password\"\r\n              value={ConfirmPassword}\r\n              onChange={onConfirmPasswordHandler}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label style={{ marginBottom: \"5px\" }}>성별</label>\r\n            <br />\r\n            <label style={{ marginRight: \"10px\", fontSize: \"20px\" }}>\r\n              남자\r\n            </label>\r\n            <input\r\n              type=\"radio\"\r\n              className=\"form-control-radio\"\r\n              value={\"male\"}\r\n              name={Gender}\r\n              onClick={onGenderHandler}\r\n              style={{ marginRight: \"20px\" }}\r\n            />\r\n            <label style={{ marginRight: \"10px\", fontSize: \"20px\" }}>\r\n              여자\r\n            </label>\r\n            <input\r\n              type=\"radio\"\r\n              className=\"form-control-radio\"\r\n              value={\"female\"}\r\n              name={Gender}\r\n              onClick={onGenderHandler}\r\n            />\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn btn-primary btn-block\">\r\n            회원 가입\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(SignUp);\r\n","import SignUp from \"./SignUp\";\r\n\r\nexport default SignUp;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction LogoutContainer(props) {\r\n  const onClickHandler = () => {\r\n    axios.get(\"/api/users/logout\").then(response => {\r\n      if (response.data.success) {\r\n        props.history.push(\"/sign-in\");\r\n      } else {\r\n        alert(\"로그아웃 하는데 실패 했습니다.\");\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <h3>정말로 로그아웃 하시겠습니까?</h3>\r\n      <button onClick={onClickHandler}>로그아웃</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(LogoutContainer);\r\n","import LogoutContainer from \"./LogoutContainer\";\r\n\r\nexport default LogoutContainer;","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { auth } from \"../_actions/user_action\";\r\n\r\nexport default function (SpecificComponent, option, adminRoute = null) {\r\n  function AuthenticationCheck(props) {\r\n    const user = useSelector((state) => state.user);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n      dispatch(auth()).then((response) => {\r\n        //로그인 하지 않은 상태\r\n        if (!response.payload.isAuth) {\r\n          if (option === true) {\r\n            props.history.push(\"/sign-in\");\r\n          }\r\n        } else {\r\n          //로그인 한 상태\r\n          if (adminRoute === true && !response.payload.isAdmin) {\r\n            props.history.push(\"/\");\r\n          } else {\r\n            //로그인한 사람이 못들어가는 페이지 로그인,회원가입\r\n            if (option === false) props.history.push(\"/\");\r\n          }\r\n        }\r\n      });\r\n    }, []);\r\n    return <SpecificComponent {...props} user={user} />;\r\n  }\r\n\r\n  return AuthenticationCheck;\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  :not(:last-child) {\r\n    margin-bottom: 60px;\r\n  }\r\n  margin: 0 auto;\r\n  width: 90%;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-size: 30px;\r\n  font-weight: 600;\r\n  padding: 0px 0px 10px;\r\n  position: relative;\r\n`;\r\n\r\nconst Grid = styled.div`\r\n  margin-top: 30px;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, 150px);\r\n  grid-gap: 150px;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst FavoriteSection = ({ title, children }) => (\r\n  <Container>\r\n    <Title>{title}</Title>\r\n    <Grid>{children}</Grid>\r\n  </Container>\r\n);\r\n\r\nFavoriteSection.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node,\r\n  ]),\r\n};\r\n\r\nexport default FavoriteSection;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IMAGE_BASE_URL } from \"./Config\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    background: \"mediumslateblue\",\r\n    border: \"none\",\r\n    padding: \"7px 6px\",\r\n    textAlign: \"center\",\r\n    textDecoration: \"none\",\r\n    display: \"inline-block\",\r\n    fontSize: \"1px\",\r\n    \"&:hover\": {\r\n      background: \"gray\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Container = styled.div`\r\n  font-size: 12px;\r\n  min-height: 350px;\r\n  width: 200px;\r\n`;\r\nconst Image = styled.div`\r\n  background-image: url(${(props) => props.bgUrl});\r\n  width: 200px;\r\n  height: 300px;\r\n  margin-right: 20px;\r\n  background-size: cover;\r\n  border-radius: 4px;\r\n  transition: all 0.1s linear 0s;\r\n`;\r\nconst Rating = styled.span`\r\n  font-size: 15px;\r\n  position: absolute;\r\n  bottom: 5px;\r\n  right: 5px;\r\n  opacity: 0;\r\n  transition: all 0.1s linear 0s;\r\n`;\r\nconst ImageContainer = styled.div`\r\n  margin-bottom: 5px;\r\n  position: relative;\r\n  &:hover {\r\n    ${Image} {\r\n      opacity: 0.3;\r\n    }\r\n    ${Rating} {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  transition: all 300ms cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  position: relative;\r\n  transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    ::after {\r\n      transform: scaleY(1);\r\n      opacity: 1;\r\n    }\r\n  }\r\n  &::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 0.8rem;\r\n    transform: scaleY(0);\r\n    transform-origin: top;\r\n    opacity: 0;\r\n    background-color: var(--color-primary);\r\n    z-index: -99;\r\n    box-shadow: 0rem 2rem 5rem var(--shadow-color-dark);\r\n    transition: all 100ms cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  }\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-size: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 1rem;\r\n`;\r\nconst Year = styled.span`\r\n  display: flex;\r\n  justify-content: center;\r\n  position: relative;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n  color: var(--color-primary);\r\n`;\r\n\r\nconst RatingsWrapper = styled.div`\r\n  position: relative;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n  color: var(--color-primary);\r\n  ${Container}:hover & {\r\n    color: var(--color-primary-lighter);\r\n  }\r\n`;\r\n\r\nconst DelBtnContainer = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst FavoritePoster = ({ onClickDelete, id, imageUrl, title, rating, year, isMovie = false }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <Container>\r\n      <Link to={`/movie/${id}`}>\r\n        <ImageContainer>\r\n          <Image\r\n            bgUrl={\r\n              imageUrl\r\n                ? `${IMAGE_BASE_URL}w500${imageUrl}`\r\n                : \"https://www.movienewz.com/img/films/poster-holder.jpg\"\r\n            }\r\n          />\r\n\r\n          <Rating>\r\n            <span role=\"img\" aria-label=\"rating\">\r\n              ⭐️\r\n            </span>{\" \"}\r\n            {rating}/10\r\n          </Rating>\r\n        </ImageContainer>\r\n      </Link>\r\n      <RatingsWrapper>\r\n        <Title>\r\n          {title.length > 18 ? `${title.substring(0, 8)}...` : title}\r\n        </Title>\r\n      </RatingsWrapper>\r\n      <DelBtnContainer>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          className={classes.button}\r\n          startIcon={<DeleteIcon />}\r\n          onClick={() => onClickDelete(id, localStorage.getItem(\"userId\"))}\r\n        >\r\n          Delete\r\n        </Button>\r\n      </DelBtnContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nFavoritePoster.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  imageUrl: PropTypes.string,\r\n  title: PropTypes.string.isRequired,\r\n  rating: PropTypes.number,\r\n  year: PropTypes.string,\r\n  isMovie: PropTypes.bool,\r\n};\r\nexport default FavoritePoster;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport FavoriteSection from \"../../Components/FavoriteSection\";\r\nimport Loader from \"../../Components/Loader\";\r\nimport Message from \"../../Components/Message\";\r\nimport FavoritePoster from \"../../Components/FavoritePoster\";\r\nimport Helmet from \"react-helmet\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n`;\r\n\r\nconst FavoritePresenter = ({\r\n  onClickDelete,\r\n  favoriteMovies,\r\n  loading,\r\n  error,\r\n}) => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Favorites | Nomflix</title>\r\n      </Helmet>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Container>\r\n          {favoriteMovies && favoriteMovies.length > 0 && (\r\n            <FavoriteSection title=\"My Favorite\">\r\n              {favoriteMovies.map(movie => (\r\n                <FavoritePoster\r\n                  onClickDelete={onClickDelete}\r\n                  isMovie={movie.isMovie}\r\n                  key={movie.movieId}\r\n                  id={movie.movieId}\r\n                  imageUrl={movie.moviePost}\r\n                  title={movie.movieTitle}\r\n                  year={movie.movieYear}\r\n                  rating={movie.movieRating}\r\n                />\r\n              ))}\r\n            </FavoriteSection>\r\n          )}\r\n          {error && <Message color=\"#e74c3c\" text={error} />}\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nFavoritePresenter.propTypes = {\r\n  favoriteMovies: PropTypes.array,\r\n  loading: PropTypes.bool.isRequired,\r\n  error: PropTypes.string,\r\n};\r\nexport default withRouter(FavoritePresenter);\r\n","import FavoriteContainer from \"./FavoriteContainer\";\r\n\r\nexport default FavoriteContainer;","import React, { useState, useEffect } from \"react\";\r\nimport FavoritePresenter from \"./FavoritePresenter\";\r\nimport Axios from \"axios\";\r\n\r\nexport default function FavoriteContainer() {\r\n\r\n  const [favoriteMovies, setFavoriteMovies] = useState([])\r\n  const [error, setError] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const fetchFavoredMovie = () => {\r\n    Axios.post(\"/api/favorite/getFavoredMovie\", {\r\n      userFrom: localStorage.getItem(\"userId\"),\r\n    }).then(response => {\r\n      if (response.data.success) {\r\n        setFavoriteMovies(response.data.favorites)\r\n      } else {\r\n        alert(\"영화 정보를 가져오는데 실패했습니다.\");\r\n      }\r\n    }); \r\n  }\r\n \r\n  const onClickDelete = (movieId, userFrom) => {\r\n    const variables = {\r\n      movieId,\r\n      userFrom,\r\n    }\r\n\r\n    Axios.post('/api/favorite/removeFromFavorite', variables)\r\n    .then(response => {\r\n      if(response.data.success){\r\n        fetchFavoredMovie();\r\n      } else {\r\n        alert('리스트에서 지우는데 실패했습니다.')\r\n      }\r\n    })\r\n}\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    try {\r\n      fetchFavoredMovie();\r\n    } catch {\r\n      setError(\"Can't find TV information.\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  \r\n    return (\r\n      <FavoritePresenter\r\n        onClickDelete={onClickDelete}\r\n        favoriteMovies={favoriteMovies}\r\n        error={error}\r\n        loading={loading}\r\n      />\r\n    );\r\n  }","import React, { useState, useEffect } from \"react\";\r\nimport { Table, PageHeader, Tag, Space, Button } from \"antd\";\r\n\r\nimport axios from \"axios\";\r\nimport { auth } from \"../../../_actions/user_action\";\r\nimport { useDispatch } from \"react-redux\";\r\nconst { Column } = Table;\r\n\r\nfunction UserList() {\r\n  const dispatch = useDispatch();\r\n  const [User, setUser] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  const getUser = () => {\r\n    axios.get(\"/api/users/management\").then((response) => {\r\n      if (response.data.success) {\r\n        setUser(response.data.users);\r\n      } else {\r\n        alert(\"불러오기 실패\");\r\n      }\r\n    });\r\n  };\r\n\r\n  //일반회원 -> 관리자\r\n  const onRoleAdminHandler = (_id) => {\r\n    const variables = {\r\n      _id,\r\n    };\r\n    axios.post(\"/api/users/roleAdmin\",variables).then((response) => {\r\n      if (response.data.success) {\r\n        alert(\"관리자 변경완료\");\r\n        getUser();\r\n        dispatch(auth());\r\n      } else {\r\n        alert(\"실패\");\r\n      }\r\n    });\r\n  };\r\n  //관리자 -> 일반회원\r\n  const onRoleUserHandler = (_id) => {\r\n    const variables = {\r\n      _id,\r\n    };\r\n    axios.post(\"/api/users/roleUser\",variables).then((response) => {\r\n      if (response.data.success) {\r\n        alert(\"회원등급 변경완료\");\r\n        getUser();\r\n        dispatch(auth());\r\n      } else {\r\n        alert(\"실패\");\r\n      }\r\n    })\r\n  };\r\n\r\n  const onUserDeleteHandler = (_id) => {\r\n    const variables = {\r\n      _id,\r\n    };\r\n\r\n    axios.post(\"/api/users/removeFromUser\", variables).then((response) => {\r\n      if (response.data.success) {\r\n        alert(\"회원 삭제\")\r\n        getUser();\r\n      } else {\r\n        alert(\"리스트에서 지우는데 실패했습니다.\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PageHeader\r\n      title=\"User List\"\r\n      className=\"site-page-header\"\r\n      subTitle=\"사용자 관리\"\r\n      tags={<Tag color=\"blue\">사용자</Tag>}\r\n      avatar={{\r\n        src: \"https://avatars1.githubusercontent.com/u/8186664?s=460&v=4\",\r\n      }}\r\n    >\r\n      <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <br />\r\n\r\n          <Table dataSource={User}>\r\n            <Column title=\"이름\" dataIndex=\"name\" key=\"name\" />\r\n            <Column title=\"이메일\" dataIndex=\"email\" key=\"email\" />\r\n            <Column title=\"등급\" dataIndex=\"role\" key=\"role\" />\r\n            <Column\r\n              title=\"회원수정\"\r\n              key=\"action\"\r\n              dataIndex=\"_id\"\r\n              render={(dataIndex) => (\r\n                <Space size=\"middle\">\r\n                  <Button\r\n                    type=\"primary\"\r\n                    style={{\r\n                      backgroundColor: \"#9c88ff\",\r\n                      borderColor: \"#9c88ff\",\r\n                    }}\r\n                    // danger\r\n                    onClick={() => onRoleAdminHandler(dataIndex)}\r\n                  >\r\n                    관리자\r\n                  </Button>\r\n                  <Button type=\"primary\" onClick={() => onRoleUserHandler(dataIndex)}>\r\n                    일반회원\r\n                  </Button>\r\n                </Space>\r\n              )}\r\n            />\r\n            <Column\r\n              title=\"회원탈퇴\"\r\n              key=\"action\"\r\n              dataIndex=\"_id\"\r\n              render={(dataIndex) => (\r\n                <Space size=\"middle\">\r\n                  <Button\r\n                    ghost\r\n                    type=\"primary\"\r\n                    danger\r\n                    style={{ border: \"1.5px solid\" }}\r\n                    onClick={() => onUserDeleteHandler(dataIndex)}\r\n                  >\r\n                    <span style={{ color: \"red\" }}>삭제</span>\r\n                  </Button>\r\n                </Space>\r\n              )}\r\n            />\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    </PageHeader>\r\n  );\r\n}\r\n\r\nexport default UserList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport classnames from \"classnames\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Card, CardContent, Grid, Typography, Avatar } from \"@material-ui/core\";\r\nimport PeopleIcon from \"@material-ui/icons/PeopleOutlined\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: \"100%\",\r\n    backgroundColor:\"#D3F2DC\",\r\n    color:\"#FFF\",    \r\n  },\r\n  content: {\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n  },\r\n  title: {\r\n    fontWeight: 700,\r\n  },\r\n  avatar: {\r\n    backgroundColor: green[500],\r\n    height: 56,\r\n    width: 56,\r\n  },\r\n  icon: {\r\n    height: 32,\r\n    width: 32,\r\n  },\r\n  difference: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  differenceIcon: {\r\n    color: \"rgb(26, 26, 26)\",\r\n  },\r\n  differenceValue: {\r\n    color: green[700],\r\n  },\r\n}));\r\n\r\nfunction TotalUsers() {\r\n  const classes = useStyles();\r\n  const [UserCount, setUserCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/api/users/management\").then((response) => {\r\n      if (response.data.success) {\r\n        setUserCount(response.data.users.length);\r\n      } else {\r\n        console.log(\"불러오기 실패\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Card className={classnames(classes.root)}>\r\n      <CardContent>\r\n        <Grid container justify=\"space-between\">\r\n          <Grid item>\r\n            <Typography\r\n              className={classes.title}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n              variant=\"body2\"\r\n            >\r\n              TOTAL USERS\r\n            </Typography>\r\n            <Typography variant=\"h3\">{UserCount}</Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <Avatar className={classes.avatar}>\r\n              <PeopleIcon className={classes.icon} />\r\n            </Avatar>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TotalUsers;","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport classnames from \"classnames\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Card, CardContent, Grid, Typography, Avatar } from \"@material-ui/core\";\r\nimport MovieCreationOutlinedIcon from \"@material-ui/icons/MovieCreationOutlined\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: \"100%\",\r\n    backgroundColor:\"#D3F2DC\",\r\n    color:\"#FFF\",\r\n  },\r\n  content: {\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n  },\r\n  title: {\r\n    fontWeight: 700,\r\n  },\r\n  avatar: {\r\n    backgroundColor: green[500],\r\n    height: 56,\r\n    width: 56,\r\n  },\r\n  icon: {\r\n    height: 32,\r\n    width: 32,\r\n  },\r\n  difference: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  differenceIcon: {\r\n    color: \"rgb(26, 26, 26)\",\r\n  },\r\n  differenceValue: {\r\n    color: green[700],\r\n  },\r\n}));\r\n\r\nfunction TotalReservation() {\r\n  const classes = useStyles();\r\n  const [ReservationCount, setReservationCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"/api/reservation/getList\")\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          setReservationCount(response.data.doc.length);\r\n        } else {\r\n          alert(\"실패\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <Card className={classnames(classes.root)}>\r\n      <CardContent>\r\n        <Grid container justify=\"space-between\">\r\n          <Grid item>\r\n            <Typography\r\n              className={classes.title}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n              variant=\"body2\"\r\n            >\r\n              TOTAL RESERVATION\r\n            </Typography>\r\n            <Typography variant=\"h3\">{ReservationCount}</Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <Avatar className={classes.avatar}>\r\n              <MovieCreationOutlinedIcon className={classes.icon} />\r\n            </Avatar>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TotalReservation;","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport classnames from \"classnames\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Card, CardContent, Grid, Typography, Avatar } from \"@material-ui/core\";\r\nimport FastfoodOutlinedIcon from \"@material-ui/icons/FastfoodOutlined\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: \"100%\",\r\n    backgroundColor:\"#D3F2DC\",\r\n    color:\"#FFF\",\r\n  },\r\n  content: {\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n  },\r\n  title: {\r\n    fontWeight: 700,\r\n  },\r\n  avatar: {\r\n    backgroundColor: green[500],\r\n    height: 56,\r\n    width: 56,\r\n  },\r\n  icon: {\r\n    height: 32,\r\n    width: 32,\r\n  },\r\n  difference: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  differenceIcon: {\r\n    color: \"rgb(26, 26, 26)\",\r\n  },\r\n  differenceValue: {\r\n    color: green[700],\r\n  },\r\n}));\r\n\r\nfunction TotalProduct() {\r\n  const classes = useStyles();\r\n  const [ProductCount, setProductCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/api/product/getCountOfProduct\").then(response => {\r\n      if (response.data.success) {\r\n        setProductCount(response.data.products.length);\r\n      } else {\r\n        console.log(\"불러오기 실패\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Card className={classnames(classes.root)}>\r\n      <CardContent>\r\n        <Grid container justify=\"space-between\">\r\n          <Grid item>\r\n            <Typography\r\n              className={classes.title}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n              variant=\"body2\"\r\n            >\r\n              TOTAL PRODUCT\r\n            </Typography>\r\n            <Typography variant=\"h3\">{ProductCount}</Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <Avatar className={classes.avatar}>\r\n              <FastfoodOutlinedIcon className={classes.icon} />\r\n            </Avatar>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TotalProduct;","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport classnames from \"classnames\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Card, CardContent, Grid, Typography, Avatar } from \"@material-ui/core\";\r\nimport AttachMoneyOutlinedIcon from \"@material-ui/icons/AttachMoneyOutlined\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: \"100%\",\r\n    backgroundColor: \"#93BFB9\",\r\n    color: \"#FFF\",\r\n  },\r\n  content: {\r\n    alignItems: \"center\",\r\n    display: \"flex\",\r\n  },\r\n  title: {\r\n    fontWeight: 700,\r\n  },\r\n  avatar: {\r\n    backgroundColor: green[500],\r\n    height: 56,\r\n    width: 56,\r\n  },\r\n  icon: {\r\n    height: 32,\r\n    width: 32,\r\n  },\r\n  difference: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  differenceIcon: {\r\n    color: \"rgb(26, 26, 26)\",\r\n  },\r\n  differenceValue: {\r\n    color: green[700],\r\n  },\r\n}));\r\n\r\nfunction TotalReservation() {\r\n  const classes = useStyles();\r\n  const [ReservationCount, setReservationCount] = useState(0);\r\n  const [ProductCount, setProductCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/api/sales/getReservationSales\")\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          let reservationlist = [];\r\n          response.data.result.forEach(obj => {\r\n            reservationlist.push(obj.price);\r\n          });\r\n          const reducer = (accumulator, currentValue) =>\r\n            accumulator + currentValue; //배열내에서 수계산\r\n          const flatlist = reservationlist.flat(); //평탄화 함수!!!\r\n          setReservationCount(flatlist.reduce(reducer));\r\n        } else {\r\n          alert(\"실패\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    axios\r\n      .get(\"/api/sales/getProductSales\")\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          const reducer = (accumulator, currentValue) =>\r\n            accumulator + currentValue; //배열내에서 수계산\r\n          setProductCount(response.data.arr.reduce(reducer));\r\n        } else {\r\n          alert(\"실패\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  // 총 매출 , 넣어주기\r\n  var myData = ReservationCount + ProductCount;\r\n  myData = AddComma(myData);\r\n  function AddComma(data_value) {\r\n    return Number(data_value).toLocaleString(\"en\");\r\n  }\r\n  return (\r\n    <Card className={classnames(classes.root)}>\r\n      <CardContent>\r\n        <Grid container justify=\"space-between\">\r\n          <Grid item>\r\n            <Typography\r\n              className={classes.title}\r\n              color=\"textSecondary\"\r\n              gutterBottom\r\n              variant=\"body2\"\r\n            >\r\n              TOTAL SALES\r\n            </Typography>\r\n            <Typography variant=\"h3\">\r\n              {myData}원\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <Avatar className={classes.avatar}>\r\n              {/* 아이콘 */}\r\n              <AttachMoneyOutlinedIcon className={classes.icon} />\r\n            </Avatar>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TotalReservation;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport TotalUsers from \"../TotalUser/TotalUsers\";\r\nimport TotleReservation from \"../TotalReservation/TotalReservation\";\r\nimport { Doughnut, Bar } from \"react-chartjs-2\";\r\nimport axios from \"axios\";\r\nimport TotalProduct from \"../TotalProduct/TotalProduct\";\r\nimport TotalSales from \"../TotalSales/TotalSales\";\r\n\r\n\r\nfunction DashBoard() {\r\n  const [user, setUser] = useState([]);\r\n  // 19개 장르\r\n  const [action, setAction] = useState(0);\r\n  const [adventure, setAdventure] = useState(0);\r\n  const [ani, setAni] = useState(0);\r\n  const [comedy, setComedy] = useState(0);\r\n  const [crime, setCrime] = useState(0);\r\n  const [docu, setDocu] = useState(0);\r\n  const [drama, setDrama] = useState(0);\r\n  const [family, setFamily] = useState(0);\r\n  const [fantasy, setFantasy] = useState(0);\r\n  const [history, setHistory] = useState(0);\r\n  const [horror, setHorror] = useState(0);\r\n  const [music, setMusic] = useState(0);\r\n  const [mystery, setMystery] = useState(0);\r\n  const [romance, setRomance] = useState(0);\r\n  const [sf, setSF] = useState(0);\r\n  const [tv, setTV] = useState(0);\r\n  const [thriller, setThriller] = useState(0);\r\n  const [war, setWar] = useState(0);\r\n  const [western, setWestern] = useState(0);\r\n\r\n  const fetchGenres = function () {\r\n    axios.post(\"/api/myscore/getAllGenres\").then((response) => {\r\n      if (response.data.success) {\r\n        const listOfGenreNum = response.data.genres.map((g) => {\r\n          return g.genres;\r\n        });\r\n        listOfGenreNum.forEach((element) => {\r\n          switch (element) {\r\n            case 28:\r\n              setAction((action) => action + 1);\r\n              break;\r\n            case 12:\r\n              setAdventure((adventure) => adventure + 1);\r\n              break;\r\n            case 16:\r\n              setAni((ani) => ani + 1);\r\n              break;\r\n            case 35:\r\n              setComedy((comedy) => comedy + 1);\r\n              break;\r\n            case 80:\r\n              setCrime((crime) => crime + 1);\r\n              break;\r\n            case 99:\r\n              setDocu((docu) => docu + 1);\r\n              break;\r\n            case 18:\r\n              setDrama((drama) => drama + 1);\r\n              break;\r\n            case 10751:\r\n              setFamily((family) => family + 1);\r\n              break;\r\n            case 14:\r\n              setFantasy((fantasy) => fantasy + 1);\r\n              break;\r\n            case 36:\r\n              setHistory((history) => history + 1);\r\n              break;\r\n            case 27:\r\n              setHorror((horror) => horror + 1);\r\n              break;\r\n            case 10402:\r\n              setMusic((music) => music + 1);\r\n              break;\r\n            case 9648:\r\n              setMystery((mystery) => mystery + 1);\r\n              break;\r\n            case 10749:\r\n              setRomance((romance) => romance + 1);\r\n              break;\r\n            case 878:\r\n              setSF((sf) => sf + 1);\r\n              break;\r\n            case 10770:\r\n              setTV((tv) => tv + 1);\r\n              break;\r\n            case 53:\r\n              setThriller((thriller) => thriller + 1);\r\n              break;\r\n            case 10752:\r\n              setWar((war) => war + 1);\r\n              break;\r\n            case 37:\r\n              setWestern((western) => western + 1);\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        });\r\n      } else {\r\n        alert(\"실패했습니다\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const fetchUsers = function () {\r\n    axios.get(\"/api/users/management\").then((response) => {\r\n      if (response.data.success) {        \r\n        setUser(response.data.users);\r\n      } else {\r\n        console.log(\"불러오기 실패\");\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {    \r\n    fetchGenres();\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const userGender = user.map((item) => item.gender);\r\n  let male = 0,\r\n    female = 0;\r\n  userGender.forEach((element) => {\r\n    if (element === \"male\") {\r\n      male++;\r\n    } else {\r\n      female++;\r\n    }\r\n  });\r\n\r\n  const expDataUserGender = {\r\n    labels: [\"남자\", \"여자\"],\r\n    datasets: [\r\n      {\r\n        labels: [\"남자\", \"여자\"],\r\n        data: [male, female],        \r\n        borderWidth: 3,\r\n        hoverBorderWidth: 4,\r\n        backgroundColor: [\r\n          \"rgba(202, 228, 252)\",\r\n          \"rgba(244, 176, 208)\",\r\n          \"rgba(255, 198, 0, 1)\",\r\n        ],\r\n        fill: true,\r\n      },\r\n    ],\r\n  };\r\n  const styles = {\r\n    fontFamily: \"sans-serif\",\r\n    textAlign: \"center\",\r\n    width: \"60%\",\r\n    height: \"100%\",\r\n    marginTop: \"70px\",\r\n    float: \"right\",\r\n  };\r\n  const data = {\r\n    labels: [\r\n      \"액션\",\r\n      \"모험\",\r\n      \"애니\",\r\n      \"코미디\",\r\n      \"범죄\",\r\n      \"다큐\",\r\n      \"드라마\",\r\n      \"가족\",\r\n      \"판타지\",\r\n      \"역사\",\r\n      \"공포\",\r\n      \"음악\",\r\n      \"미스터리\",\r\n      \"로맨스\",\r\n      \"SF\",\r\n      \"TV\",\r\n      \"스릴러\",\r\n      \"전쟁\",\r\n      \"서부\",\r\n    ],\r\n    \r\n    datasets: [\r\n      {\r\n        label: \"My First dataset\",\r\n        fill: false,\r\n        lineTension: 0.1,        \r\n        backgroundColor: \"#4A8C84\",        \r\n        borderColor: \"#4A8C84\",\r\n        borderCapStyle: \"butt\",\r\n        borderDash: [],\r\n        borderDashOffset: 0.0,\r\n        borderJoinStyle: \"miter\",\r\n        pointBorderColor: \"rgba(75,192,192,1)\",\r\n        pointBackgroundColor: \"#fff\",\r\n        pointBorderWidth: 1,\r\n        pointHoverRadius: 5,\r\n        pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\r\n        pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n        pointHoverBorderWidth: 2,\r\n        pointRadius: 1,\r\n        pointHitRadius: 10,\r\n        data: [\r\n          action,\r\n          adventure,\r\n          ani,\r\n          comedy,\r\n          crime,\r\n          docu,\r\n          drama,\r\n          family,\r\n          fantasy,\r\n          history,\r\n          horror,\r\n          music,\r\n          mystery,\r\n          romance,\r\n          sf,\r\n          tv,\r\n          thriller,\r\n          war,\r\n          western,\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n\r\n  const lineOptions = {\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n          gridLines: {\r\n            display: false,\r\n          },\r\n        },\r\n      ],\r\n      yAxes: [\r\n        {\r\n          gridLines: {\r\n            display: false,\r\n          },\r\n          ticks: {\r\n            beginAtZero: true,\r\n            userCallback(value) {\r\n              value = value.toString();\r\n              value = value.split(/(?=(?:...)*$)/);\r\n              value = value.join(\".\");\r\n              return `Rp.${value}`;\r\n            },\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    legend: {\r\n      display: false,\r\n    },\r\n    tooltips: {\r\n      enabled: false,\r\n    },\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100%\",        \r\n        justifyContent: \"center\",\r\n        flexDirection: \"column\",        \r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          width: \"100%\",\r\n          float: \"bottom\",          \r\n        }}\r\n      >\r\n        {/* 유저 count */}\r\n        <Grid container spacing={4}>\r\n          <Grid item lg={3} sm={6} xl={3} xs={12}>\r\n            <TotalUsers />\r\n          </Grid>\r\n\r\n        {/* 예매 count */}\r\n          <Grid item lg={3} sm={6} xl={3} xs={12}>\r\n            <TotleReservation />\r\n          </Grid>\r\n\r\n        {/* 매점상품 count */}\r\n          <Grid item lg={3} sm={6} xl={3} xs={12}>\r\n            <TotalProduct />\r\n          </Grid>\r\n\r\n        {/* 금일 매출 count */}\r\n          <Grid item lg={3} sm={6} xl={3} xs={12}>\r\n            <TotalSales />\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n      <div style={{ display: \"flex\" }}>\r\n        <div\r\n          style={{            \r\n            width: \"40%\",            \r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              marginTop: \"15%\",\r\n              marginLeft: \"0%\",              \r\n              padding: \"1%\",\r\n              width: \"100%\",\r\n              height:\"100%\",\r\n            }}\r\n          >\r\n            <Doughnut\r\n              style={{\r\n                marginTop:\"100px\",\r\n              }}\r\n              options={{\r\n                legend: {\r\n                  display: true,\r\n                  position: \"bottom\",\r\n                  marginTop:\"50%\",                  \r\n                },\r\n              }}\r\n              data={expDataUserGender}\r\n              height={200}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div style={styles}>\r\n          <Bar data={data} options={lineOptions} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DashBoard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\nimport \"@fullcalendar/daygrid/main.css\";\r\nimport styled from \"styled-components\";\r\n\r\n//calendar css\r\nexport const StyleWrapper = styled.div`\r\n  .fc td {\r\n    color:black;\r\n  }\r\n`\r\n\r\nfunction ReservationsCalendar() {\r\n  const [Reservation, setReservation] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"/api/reservation/getList\")\r\n      .then((response) => {\r\n        if (response.data.success) {\r\n          setReservation(response.data.doc);\r\n        } else {\r\n          console.log(\"실패\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const events = Reservation.map((item) => {\r\n\r\n    let selectday = item.selectDay[0];\r\n\r\n    //달력에 날짜 format : `${selectday.year}-${selectday.month}-${selectday.day}` => ex. 2020-08-06\r\n    // {year:2020, day:6, month:8} 이런식으로 캘린더에 넘어옴\r\n    // 6 -> 06, 8->08 식으로 바꿔주는 방법 m1, m2\r\n    // ** parseInt 못씀-> \"06\" string을 parseInt로 해주면 다시 6 으로 바뀜..\r\n    if(selectday.day < 10) {\r\n      selectday.day = '0'+selectday.day\r\n    }\r\n    if(selectday.month < 10) {\r\n      selectday.month = '0'+selectday.month\r\n    }\r\n    let reservationdate = `${selectday.year}-${selectday.month}-${selectday.day}`\r\n\r\n    return (\r\n      {\r\n        title: item.title,\r\n        date: reservationdate,\r\n      }\r\n    )\r\n  });\r\n\r\n  return (\r\n    <StyleWrapper>\r\n\r\n      <FullCalendar\r\n        defaultView=\"dayGridMonth\"\r\n        header={{\r\n          left: \"prev,next today\",\r\n          center: \"title\",\r\n          right: \"dayGridMonth,timeGridWeek,timeGridDay,listWeek\",\r\n        }}\r\n        style={{ color: \"black\" }}\r\n        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n        events={events}\r\n      />\r\n    </StyleWrapper>\r\n  );\r\n}\r\n\r\nexport default ReservationsCalendar;","import React, { useState, useEffect } from \"react\";\r\nimport { Table, PageHeader, Tag } from \"antd\";\r\nimport axios from \"axios\";\r\nconst { Column } = Table;\r\n\r\nfunction ReservationList() {\r\n  const [Reservation, setReservation] = useState([]);\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"/api/reservation/getList\")\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          setReservation(response.data.doc);\r\n        } else {\r\n          alert(\"실패\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  return (\r\n    <PageHeader\r\n      title=\"Reservation List\"\r\n      className=\"site-page-header\"\r\n      tags={<Tag color=\"blue\">예매</Tag>}\r\n      avatar={{\r\n        src: \"https://avatars1.githubusercontent.com/u/8186664?s=460&v=4\",\r\n      }}\r\n    >\r\n      <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <br />\r\n\r\n          <Table dataSource={Reservation}>\r\n            <Column title=\"영화번호\" dataIndex=\"id\" key=\"id\" />\r\n            <Column title=\"제목\" dataIndex=\"title\" key=\"title\" />\r\n            <Column\r\n              title=\"예매날짜\"\r\n              dataIndex=\"selectDay\"\r\n              key=\"selectDay\"\r\n              render={selectDay => (\r\n                <>\r\n                  {selectDay.map((item, index) => (\r\n                    <Tag key={index}>\r\n                      {item.year}.{item.month}.{item.day}\r\n                    </Tag>\r\n                  ))}\r\n                </>\r\n              )}\r\n            />\r\n            <Column\r\n              title=\"시작시간\"\r\n              dataIndex=\"time\"\r\n              key=\"time\"\r\n              render={time => (\r\n                <>\r\n                  {time.map((item, index) => (\r\n                    <Tag key={index}>{item.time}</Tag>\r\n                  ))}\r\n                </>\r\n              )}\r\n            />\r\n            <Column title=\"인원\" dataIndex=\"continent\" key=\"continent\" />\r\n            <Column title=\"상영관\" dataIndex=\"theater\" key=\"theater\" />\r\n            <Column\r\n              title=\"좌석\"\r\n              dataIndex=\"seat\"\r\n              key=\"seat\"\r\n              render={(\r\n                Seat //Seat: 좌석 배열\r\n              ) =>\r\n                Seat.map((seat, index) => {\r\n                  if (index < Seat.length - 1) {\r\n                    return seat + \", \";\r\n                  } else {\r\n                    return seat;\r\n                  }\r\n                })\r\n              }\r\n            />\r\n            <Column title=\"가격\" dataIndex=\"price\" key=\"price\" />\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    </PageHeader>\r\n  );\r\n}\r\n\r\nexport default ReservationList;\r\n","import React, { useState } from \"react\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport { LOCAL_SERVER } from \"../Components/Config\";\r\nfunction FileUpload(props) {\r\n  const [Images, setImages] = useState([]);\r\n\r\n  const dropHandler = (files) => {\r\n    let formData = new FormData();\r\n\r\n    const config = {\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    };\r\n    formData.append(\"file\", files[0]);\r\n\r\n    axios.post(\"/api/product/image\", formData, config).then((response) => {\r\n      if (response.data.success) {\r\n        setImages([...Images, response.data.filePath]);\r\n        props.refreshFunction([...Images, response.data.filePath]);\r\n      } else {\r\n        alert(\"파일을 저장하는데 실패했습니다.\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const deleteHandler = (image) => {\r\n    const currentIndex = Images.indexOf(image);\r\n\r\n    let newImages = [...Images];\r\n    newImages.splice(currentIndex, 1);\r\n\r\n    setImages(newImages);\r\n    props.refreshFunction(newImages);\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n      <Dropzone onDrop={dropHandler}>\r\n        {({ getRootProps, getInputProps }) => (\r\n          <section>\r\n            <div\r\n              style={{\r\n                width: 300,\r\n                height: 240,\r\n                border: \"1px solid lightgray\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n              {...getRootProps()}\r\n            >\r\n              <input {...getInputProps()} />\r\n              <PlusOutlined type=\"plus\" style={{ fontSize: \"3rem\" }} />\r\n            </div>\r\n          </section>\r\n        )}\r\n      </Dropzone>\r\n\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          width: \"350px\",\r\n          height: \"240px\",\r\n          overflowX: \"scroll\",\r\n        }}\r\n      >\r\n        {Images.map((image, index) => (\r\n          <div onClick={() => deleteHandler(image)} key={index}>\r\n            <img\r\n              style={{ minWidth: \"300px\", width: \"300px\", height: \"240px\" }}\r\n              src={`${LOCAL_SERVER}${image}`}\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FileUpload;\r\n","import React, { useState } from \"react\";\r\nimport { Typography, Button, Form, Input } from \"antd\";\r\nimport FileUpload from \"../../../utils/FileUpload\";\r\nimport Axios from \"axios\";\r\n\r\nconst { Title } = Typography;\r\nconst { TextArea } = Input;\r\n\r\nconst Continents = [\r\n  { key: 1, value: \"팝콘\" },\r\n  { key: 2, value: \"음료\" },\r\n  { key: 3, value: \"스낵\" },\r\n];\r\n\r\nfunction UploadProductPage(props) {\r\n  const userFrom = localStorage.getItem(\"userId\");\r\n  const [TitleValue, setTitleValue] = useState(\"\");\r\n  const [DescriptionValue, setDescriptionValue] = useState(\"\");\r\n  const [PriceValue, setPriceValue] = useState(0);\r\n  const [ContinentValue, setContinentValue] = useState(1);\r\n\r\n  const [Images, setImages] = useState([]);\r\n\r\n  const onTitleChange = (event) => {\r\n    setTitleValue(event.currentTarget.value);\r\n  };\r\n\r\n  const onDescriptionChange = (event) => {\r\n    setDescriptionValue(event.currentTarget.value);\r\n  };\r\n\r\n  const onPriceChange = (event) => {\r\n    setPriceValue(event.currentTarget.value);\r\n  };\r\n\r\n  const onContinentsSelectChange = (event) => {\r\n    setContinentValue(event.currentTarget.value);\r\n  };\r\n\r\n  const updateImages = (newImages) => {\r\n    setImages(newImages);\r\n  };\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (\r\n      !TitleValue ||\r\n      !DescriptionValue ||\r\n      !PriceValue ||\r\n      !ContinentValue ||\r\n      !Images\r\n    ) {\r\n      return alert(\"fill all the fields first!\");\r\n    }\r\n\r\n    const body = {\r\n      writer: userFrom,\r\n      title: TitleValue,\r\n      description: DescriptionValue,\r\n      price: PriceValue,\r\n      images: Images,\r\n      continents: ContinentValue,\r\n    };\r\n\r\n    Axios.post(\"/api/product\", body).then((response) => {\r\n      if (response.data.success) {\r\n        alert(\"상품등록 완료\");\r\n        props.history.push(\"/\");\r\n      } else {\r\n        alert(\"상품등록 실패\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"700px\", margin: \"2rem auto\" }}>\r\n      <div style={{ textAlign: \"center\", marginBottom: \"2rem\" }}>\r\n        <Title level={2}> 매점 상품 등록</Title>\r\n      </div>\r\n\r\n      <Form onSubmit={onSubmit}>\r\n        {/* DropZone */}\r\n        <FileUpload refreshFunction={updateImages} />\r\n        <br />\r\n        <br />\r\n        <label style={{ color: \"black\" }}>상품명</label>\r\n        <Input onChange={onTitleChange} value={TitleValue} />\r\n        <br />\r\n        <br />\r\n        <label style={{ color: \"black\" }}>설명</label>\r\n        <TextArea onChange={onDescriptionChange} value={DescriptionValue} />\r\n        <br />\r\n        <br />\r\n        <label style={{ color: \"black\" }}>가격($)</label>\r\n        <Input onChange={onPriceChange} value={PriceValue} type=\"number\" />\r\n        <br />\r\n        <br />\r\n        <select onChange={onContinentsSelectChange} value={ContinentValue}>\r\n          {Continents.map((item) => (\r\n            <option key={item.key} value={item.key}>\r\n              {item.value}{\" \"}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <br />\r\n        <br />\r\n\r\n        <Button onClick={onSubmit}><span style={{ color: \"black\" }}>\r\n          등록\r\n        </span>\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UploadProductPage;","import React, { useState, useEffect } from \"react\";\r\nimport { Table, PageHeader, Tag } from \"antd\";\r\nimport Axios from \"axios\";\r\nconst { Column } = Table;\r\n\r\nfunction ProductList() {\r\n  const [History, setHistory] = useState([]);\r\n\r\n  const newDoc = [];\r\n  let i = 0;\r\n  useEffect(() => {\r\n    Axios.get(\"/api/users/history\").then(response => {\r\n      if (response.data.success) {\r\n        response.data.doc.forEach(() => {\r\n          newDoc.push(response.data.doc[i]);\r\n          i++;\r\n        });\r\n        const flatlist = newDoc.flat();\r\n        setHistory(flatlist);\r\n      } else {\r\n        alert(\"정보를 가져오는데 실패했습니다.\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <PageHeader\r\n      title=\"ProductPurchase List\"\r\n      className=\"site-page-header\"\r\n      tags={<Tag color=\"blue\">내역</Tag>}\r\n      avatar={{\r\n        src: \"https://avatars1.githubusercontent.com/u/8186664?s=460&v=4\",\r\n      }}\r\n    >\r\n      <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <br />\r\n          <Table key dataSource={History}>\r\n            <Column\r\n              title=\"결제ID\"\r\n              dataIndex=\"data\"\r\n              key=\"data\"\r\n              render={data => (\r\n                <>\r\n                  {data.map((data, index) => (\r\n                    <div key={index}>{data.uid}</div>\r\n                  ))}\r\n                </>\r\n              )}\r\n            />\r\n            <Column\r\n              title=\"상품명\"\r\n              dataIndex=\"product\"\r\n              key=\"product\"\r\n              render={product => (\r\n                <>\r\n                  {product.map((data, index) => (\r\n                    <div key={index}>{data.name}</div>\r\n                  ))}\r\n                </>\r\n              )}\r\n            />\r\n            <Column\r\n              title=\"가격\"\r\n              dataIndex=\"product\"\r\n              key=\"product\"\r\n              render={product => (\r\n                <>\r\n                  {product.map((data, index) => (\r\n                    <div key={index}>{data.price}원</div>\r\n                  ))}\r\n                </>\r\n              )}\r\n            />\r\n            <Column\r\n              title=\"수량\"\r\n              dataIndex=\"product\"\r\n              key=\"product\"\r\n              render={product => (\r\n                <>\r\n                  {product.map((data, index) => (\r\n                    <div key={index}>{data.quantity}EA</div>\r\n                  ))}\r\n                </>\r\n              )}\r\n            />\r\n\r\n            <Column\r\n              title=\"구매자\"\r\n              dataIndex=\"user\"\r\n              key=\"user\"\r\n              render={product => (\r\n                <>\r\n                  {product.map((data, index) => (\r\n                    <div key={index}>{data.name}</div>\r\n                  ))}\r\n                </>\r\n              )}\r\n            />\r\n\r\n            <Column\r\n              title=\"구매자(Email)\"\r\n              dataIndex=\"user\"\r\n              key=\"user\"\r\n              render={product => (\r\n                <>\r\n                  {product.map((data,index) => (\r\n                    <div key={index}>{data.email}</div>\r\n                  ))}\r\n                </>\r\n              )}\r\n            />\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    </PageHeader>\r\n  );\r\n}\r\n\r\nexport default ProductList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, PageHeader, Tag, Space, Button } from \"antd\";\r\nimport axios from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { removeCartItem } from \"../../../_actions/user_action\";\r\nconst { Column } = Table;\r\n\r\nfunction Product() {\r\n  const [Product, setProduct] = useState([]);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    getProduct();\r\n  }, []);\r\n\r\n  const getProduct = () => {\r\n    axios.get(\"/api/product/management\").then((response) => {\r\n      if (response.data.success) {\r\n        setProduct(response.data.products);\r\n      } else {\r\n        console.log(\"불러오기 실패\");\r\n      }\r\n    });\r\n  };\r\n\r\n  //매점 리스트 삭제\r\n  const onProductDeleteHandler = (_id) => {\r\n    const variables = {\r\n      _id,\r\n    };\r\n\r\n    axios.post(\"/api/product/removeFromProduct\", variables).then((response) => {\r\n      if (response.data.success) {\r\n        alert(\"상품 삭제 성공\");\r\n        getProduct();\r\n      } else {\r\n        alert(\"리스트에서 지우는데 실패했습니다.\");\r\n      }\r\n    });\r\n    dispatch(removeCartItem(_id));\r\n  };\r\n  return (\r\n    <PageHeader\r\n      title=\"Product List\"\r\n      className=\"site-page-header\"\r\n      subTitle=\"상품 관리\"\r\n      tags={<Tag color=\"blue\">상품 목록</Tag>}\r\n      avatar={{\r\n        src: \"https://avatars1.githubusercontent.com/u/8186664?s=460&v=4\",\r\n      }}\r\n    >\r\n      <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <br />\r\n          <Table dataSource={Product}>\r\n            <Column title=\"ID\" dataIndex=\"_id\" key=\"id\" />\r\n            <Column title=\"상품명\" dataIndex=\"title\" key=\"name\" />\r\n            <Column title=\"sold\" dataIndex=\"sold\" key=\"sold\" />\r\n            <Column title=\"가격\" dataIndex=\"price\" key=\"price\" />\r\n            <Column\r\n              title=\"상품삭제\"\r\n              key=\"action\"\r\n              dataIndex=\"_id\"\r\n              render={(dataIndex) => (\r\n                <Space size=\"middle\">\r\n                  <Button\r\n                    ghost\r\n                    type=\"primary\"\r\n                    danger\r\n                    style={{ border: \"1.5px solid\" }}\r\n                    onClick={() => onProductDeleteHandler(dataIndex)}\r\n                  >\r\n                    <span style={{ color: \"red\" }}>삭제</span>\r\n                  </Button>\r\n                </Space>\r\n              )}\r\n            />\r\n          </Table>\r\n        </div>\r\n      </div>\r\n    </PageHeader>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React, { useState } from \"react\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { Layout, Menu } from \"antd\";\r\nimport { Icon } from \"@ant-design/compatible\";\r\nimport { ContainerOutlined } from \"@ant-design/icons\";\r\nimport UserList from \"./TotalUser/UserList\";\r\nimport DashBoard from \"./DashBoard/DashBoard\";\r\nimport ReservationsCalendar from \"./TotalReservation/ReservationsCalendar\";\r\nimport ReservationList from \"./TotalReservation/ReservationList\";\r\nimport UploadProduct from \"./UploadProduct/UploadProduct\";\r\nimport ProductList from \"./ProductList/ProductList\";\r\nimport Product from \"./ProductList/Product\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nfunction AdminContainer() {\r\n  const { Header, Content, Footer, Sider } = Layout;\r\n  const SubMenu = Menu.SubMenu;\r\n\r\n  const [Collapsed, setCollapsed] = useState(false);\r\n\r\n  const onCollapse = (collapsed) => {\r\n    setCollapsed({ collapsed });\r\n  };\r\n  \r\n  const toggle = () => {\r\n    Collapsed ? setCollapsed(false) : setCollapsed(true)\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <Layout style={{ minHeight: \"100vh\" }}>\r\n        <Sider collapsed={Collapsed} onCollapse={onCollapse}>\r\n          <div className=\"logo\" />\r\n          <Menu theme=\"dark\" defaultSelectedKeys={[\"1\"]} mode=\"inline\">\r\n            <Menu.Item key=\"1\">\r\n              <Icon type=\"user\" />\r\n              <span>Admin</span>\r\n              <Link to=\"/admin\" />\r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\">\r\n              <Icon type=\"user\" />\r\n              <span>사용자 관리</span>\r\n              <Link to=\"/UserList\" />\r\n            </Menu.Item>\r\n            <SubMenu key=\"3\" icon={<ContainerOutlined />} title=\"예매관리\">\r\n              <Menu.Item key=\"4\">\r\n                <span>\r\n                  <Icon type=\"pie-chart\" />\r\n                  예매내역\r\n                </span>\r\n                <Link to=\"/reservationList\" />\r\n              </Menu.Item>\r\n              <Menu.Item key=\"5\">\r\n                <span>\r\n                  <Icon type=\"pie-chart\" />\r\n                  일정\r\n                </span>\r\n                <Link to=\"/reservationsCalendar\" />\r\n              </Menu.Item>\r\n            </SubMenu>\r\n            <SubMenu key=\"6\" icon={<ContainerOutlined />} title=\"상품관리\">\r\n              <Menu.Item key=\"7\">\r\n                <span>\r\n                  <Icon type=\"pie-chart\" />\r\n                  결제내역\r\n                </span>\r\n                <Link to=\"/productList\" />\r\n              </Menu.Item>\r\n              <Menu.Item key=\"8\">\r\n                <span>\r\n                  <Icon type=\"pie-chart\" />\r\n                  상품 등록\r\n                </span>\r\n                <Link to=\"/UploadProduct\" />\r\n              </Menu.Item>\r\n              <Menu.Item key=\"9\">\r\n                <span>\r\n                  <Icon type=\"pie-chart\" />\r\n                  상품 목록\r\n                </span>\r\n                <Link to=\"/productManage\" />\r\n              </Menu.Item>\r\n            </SubMenu>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout>\r\n          <Header style={{ background: \"#fff\", padding: 0, paddingLeft: 16 }}>\r\n            <Icon\r\n              className=\"trigger\"\r\n              type={Collapsed ? \"menu-unfold\" : \"menu-fold\"}\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={toggle}\r\n            />\r\n          </Header>\r\n\r\n          <Content\r\n            style={{\r\n              margin: \"24px 16px\",\r\n              padding: 24,\r\n              background: \"#fff\",\r\n              minHeight: 280,\r\n            }}\r\n          >\r\n            <Route exact path=\"/admin\" component={DashBoard} />\r\n            <Route exact path=\"/userList\" component={UserList} />\r\n            <Route\r\n              path=\"/reservationsCalendar\"\r\n              component={ReservationsCalendar}\r\n            />\r\n            <Route path=\"/reservationList\" component={ReservationList} />\r\n            <Route path=\"/UploadProduct\" component={UploadProduct} />\r\n            <Route path=\"/productList\" component={ProductList} />\r\n            <Route path=\"/productManage\" component={Product} />\r\n          </Content>\r\n          <Footer style={{ textAlign: \"center\" }}>\r\n            Movie App ©2020 Created by TEAM BONG JUN HO\r\n          </Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default AdminContainer;\r\n","import AdminContainer from \"./AdminContainer\";\r\n\r\nexport default AdminContainer;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Rate} from \"antd\"\r\nimport { IMAGE_BASE_URL } from \"../../../Components/Config\";\r\n\r\nconst Chart = styled.div`\r\n  float: bottom;\r\n  width: 90%;\r\n  height: 100%;\r\n  border-radius: 5px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SectionTitle = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 400;\r\n  margin-top: 15px;\r\n  margin-bottom: 15px;\r\n  color: #f7f7f7;\r\n  position: relative;\r\n`;\r\n\r\nconst SectionGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, 160px);\r\n  grid-gap: 10px;\r\n`;\r\n\r\nconst PosterContainer = styled.div`\r\n  font-size: 12px;\r\n  text-align: center;\r\n  width: 100%;\r\n  margin-right: 1%;\r\n`;\r\n\r\nconst PosterImage = styled.div`\r\n  background-image: url(${props => props.bgUrl});\r\n  width: 130px;\r\n  height: 180px;\r\n  background-size: cover;\r\n  transition: all 0.1s linear 0s;\r\n  position: relative;\r\n  margin: 0 auto;\r\n  border: 1px solid black;\r\n`;\r\n\r\nconst PosterTitle = styled.div`\r\n  font-size: 15px;\r\n  color: #2e2e2e;\r\n  margin: 0 auto;\r\n  margin-top: 5px;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst RatingWapper = styled.div`\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst PosterWrapper = styled.div`\r\n  background-color: #c9c9c9;\r\n  border: 1px solid #585858;\r\n  width: 155px;\r\n  height: 100%;\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst Nothing = styled.div`\r\n  font-size: 20px;\r\n  color: black;\r\n  width: 100%;\r\n  height: 100%;\r\n  text-align: center;\r\n  display: table;\r\n`;\r\n\r\nconst RecentRating = ({ recent, user }) => {\r\n  return (\r\n    <Chart>\r\n      <SectionTitle>\r\n        {user.userData && user.userData.name}님의 최근 별점 목록\r\n      </SectionTitle>\r\n      {recent.length === 0 ? (\r\n        <Nothing>\r\n          <span\r\n            style={{\r\n              color: \"#f7f7f7\",\r\n              display: \"table-cell\",\r\n              verticalAlign: \"middle\",\r\n            }}\r\n          >\r\n            최근 목록 없음\r\n          </span>\r\n        </Nothing>\r\n      ) : (\r\n        recent &&\r\n        recent.length > 0 && (\r\n          <SectionGrid>\r\n            {recent.map((item, index) => (\r\n              <PosterContainer key={index}>\r\n                <PosterWrapper>\r\n                  <PosterImage\r\n                    bgUrl={`${IMAGE_BASE_URL}original${item.imageUrl}`}\r\n                  />\r\n                  <PosterTitle>\r\n                    {item.title.length > 11\r\n                      ? `${item.title.substring(0, 11)}...`\r\n                      : item.title}\r\n                  </PosterTitle>\r\n                  <RatingWapper>\r\n                    {/* <MyScoreRating number={item.score}/> */}\r\n                    <Rate value={item.score} disabled style={{color:\"#2e2e2e\"}}/>\r\n                  </RatingWapper>\r\n                </PosterWrapper>\r\n              </PosterContainer>\r\n            ))}\r\n          </SectionGrid>\r\n        )\r\n      )}\r\n    </Chart>\r\n  );\r\n};\r\n\r\nexport default RecentRating;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Doughnut } from \"react-chartjs-2\";\r\n\r\nconst Container = styled.div`\r\n  float: bottom;\r\n  width: 90%;\r\n  border-radius: 5px;\r\n  margin: 0 auto;\r\n  margin-top: 18px;\r\n`;\r\n\r\nconst SectionTitle = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 400;\r\n  margin-top: 15px;\r\n  margin-bottom: 15px;\r\n  color: #f7f7f7;\r\n  position: relative;\r\n`;\r\nconst Nothing = styled.div`\r\n  font-size: 20px;\r\n  color: black;\r\n  width: 100%;\r\n  height: 100%;\r\n  text-align: center;\r\n  display: table;\r\n`;\r\nconst ChartWrapper = styled.div`\r\n  margin-bottom:10px;\r\n`;\r\nconst GenrePreference = ({ user, topGenre, result }) => {\r\n  const expData = {\r\n    labels: topGenre.map((item) => item.name),\r\n    datasets: [\r\n      {\r\n        labels: topGenre.map((item) => item.name),\r\n        data: topGenre.map((item) => item.count),\r\n        borderWidth: 3,\r\n        backgroundColor: [\r\n          \"rgba(62, 96, 111)\",\r\n          \"rgba(25, 52, 65)\",\r\n          \"rgba(145, 170, 157)\",\r\n        ],\r\n        fill: true,\r\n        borderColor:\"#d5d5d5\"\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <SectionTitle>\r\n        {user.userData && user.userData.name}님의 선호 장르\r\n      </SectionTitle>\r\n\r\n      {result.length === 0 ? (\r\n        <Nothing>\r\n          <span\r\n            style={{\r\n              color: \"#f7f7f7\",\r\n              display: \"table-cell\",\r\n              verticalAlign: \"middle\",\r\n            }}\r\n          >\r\n            분석 결과 없음\r\n          </span>\r\n        </Nothing>\r\n      ) : (\r\n        <ChartWrapper>\r\n\r\n        <Doughnut\r\n          options={{\r\n            legend: {\r\n              display: true,\r\n              position: \"bottom\",\r\n              labels: {\r\n                fontColor: 'white',\r\n                fontSize: 17,\r\n                padding: 15\r\n             }\r\n            },\r\n          }}\r\n          data={expData}\r\n          height={100}\r\n          />\r\n          </ChartWrapper>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GenrePreference;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector } from 'react-redux';\r\nimport RecentRating from './RecentRating';\r\nimport GenrePreference from './GenrePreference';\r\nimport { moviesApi } from '../../../api';\r\n\r\nconst Result = () => {\r\n    const user = useSelector(state => state.user);\r\n    const [recent, setRecent] = useState([]);\r\n    const [result, setResult] = useState([]);\r\n    const [genre, setGenre] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.post(\"/api/myscore/recent\", {\r\n            userFrom: localStorage.getItem(\"userId\")\r\n        }).then(response => {\r\n            if (response.data.success) {\r\n                setResult(response.data.obj)\r\n                let arr = response.data.obj.reverse()\r\n                setRecent(arr.slice(0, 5))\r\n            } else {\r\n                alert(\"fail\");\r\n            }\r\n        })\r\n        genreApi();\r\n    }, []);\r\n\r\n    async function genreApi() {\r\n        const {\r\n            data: {\r\n                genres\r\n            }\r\n        } = await moviesApi.genre();\r\n        setGenre(genres);\r\n    }\r\n\r\n    //선호 장르 순서 정렬\r\n    const arrOfGenres = genre.map((g) => { //count 변수 추가한 장르 배열\r\n        return { id: g.id, name: g.name, count: 0 };\r\n    })\r\n\r\n    const arrOfMyRating = result.map((r) => { //내가 평가한 영화 장르 배열\r\n        return r.genres;\r\n    })\r\n\r\n    arrOfMyRating.forEach((item) => { //현재 내가 평가한 영화 장르별로 counting\r\n        arrOfGenres.forEach((genre) => {\r\n            if (item === genre.id) {\r\n                genre.count++\r\n            }\r\n        })\r\n    })\r\n\r\n    //영화 counting 순서대로 나열\r\n    arrOfGenres.sort(function (a, b) {\r\n        return b.count - a.count;\r\n    })\r\n    const topGenre = arrOfGenres.slice(0, 3)\r\n\r\n    return (\r\n        <>\r\n            <RecentRating recent={recent} user={user}/>\r\n            <GenrePreference user={user} topGenre={topGenre} result={result} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Result;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Popup from 'reactjs-popup';\r\nimport Result from './Result/Result'\r\n\r\nconst Container = styled.div`\r\n  :not(:last-child) {\r\n    margin-bottom: 60px;\r\n  }\r\n  margin: 0 auto;\r\n  width: 88%;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-size: 30px;\r\n  font-weight: 600;\r\n  padding: 0px 0px 10px;\r\n  position: relative;\r\n`;\r\n\r\nconst Grid = styled.div`\r\n  margin-top: 30px;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, 270px);\r\n  grid-gap: 60px;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst PopUpButton = styled.button`\r\n  color: #9c88ff;\r\n  border: 3px solid #9c88ff;\r\n  border-radius: 5px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  background-color: #151515;\r\n  margin-left: 20px;\r\n  padding: 6px;\r\n  box-shadow: 0 1.5rem 2rem rgba(156, 136, 255, 0.2);\r\n`;\r\n\r\nconst MyScoreSection = ({ title, children }) => (\r\n  <Container>\r\n    <Title>{title}</Title>\r\n    <Popup trigger={<PopUpButton>RESULT</PopUpButton>}\r\n      modal\r\n      closeOnDocumentClick\r\n      contentStyle={{backgroundColor: \"#5D5D5D\",minWidth:\"950px\", }}>\r\n      {close => <Result close={close}/>}\r\n    </Popup>\r\n    <Grid>{children}</Grid>\r\n  </Container>\r\n);\r\n\r\nMyScoreSection.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.node),\r\n    PropTypes.node,\r\n  ]),\r\n};\r\n\r\nexport default MyScoreSection;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Rate } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport axios from \"axios\";\r\n\r\nconst StarsWrapper = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst Rating = ({ movieId, count, setCount, genres, imageUrl, title }) => {\r\n\r\nconst onClickHandler = (value) => {\r\n    axios.post(\"/api/myscore/giveStarRating\", {\r\n      userFrom: localStorage.getItem(\"userId\"),\r\n      movieId: movieId,\r\n      genres: genres,\r\n      score: value,\r\n      imageUrl: imageUrl,\r\n      title: title,\r\n    }).then(response => {\r\n      if (response.data.success && response.data.exist) {\r\n        setCount(count)\r\n      } else if(response.data.success && !response.data.exist) {\r\n        setCount(count+1)  \r\n      } else {\r\n        alert(\"평가하기를 실패했습니다.\")\r\n      }\r\n    })\r\n  };\r\n\r\n  return (\r\n    <StarsWrapper>\r\n      <Rate onChange={onClickHandler} />\r\n    </StarsWrapper>\r\n  );\r\n\r\n}\r\n\r\n\r\nexport default Rating;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport MyScoreRating from \"./MyScoreRating\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IMAGE_BASE_URL } from \"../../Components/Config\";\r\nconst Container = styled.div`\r\n  font-size: 12px;\r\n  min-height: 350px;\r\n  min-width: 250px;\r\n  align-content: center;\r\n`;\r\nconst Image = styled.div`\r\n  background-image: url(${(props) => props.bgUrl});\r\n  width: 260px;\r\n  height: 390px;\r\n  margin-right: 20px;\r\n  background-size: cover;\r\n  transition: all 0.1s linear 0s;\r\n`;\r\nconst ImageContainer = styled.div`\r\n  margin-bottom: 5px;\r\n  position: relative;\r\n  &:hover {\r\n    ${Image} {\r\n      opacity: 0.3;\r\n    }\r\n  }\r\n  transition: all 300ms cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  transition: all 300ms cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    ::after {\r\n      transform: scaleY(1);\r\n      opacity: 1;\r\n    }\r\n  }\r\n  &::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 0.8rem;\r\n    transform: scaleY(0);\r\n    transform-origin: top;\r\n    opacity: 0;\r\n    background-color: var(--color-primary);\r\n    z-index: -99;\r\n    box-shadow: 0rem 2rem 5rem var(--shadow-color-dark);\r\n    transition: all 100ms cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  }\r\n`;\r\nconst Title = styled.span`\r\n  font-size: 17px;\r\n`;\r\nconst RatingsWrapper = styled.div`\r\n  margin-bottom: 0.5rem;\r\n  text-align: center;\r\n  color: var(--color-primary);\r\n  ${Container}:hover & {\r\n    color: var(--color-primary-lighter);\r\n  }\r\n`;\r\n\r\nconst MyScorePoster = ({\r\n  movieId,\r\n  imageUrl,\r\n  title,\r\n  count,\r\n  setCount,\r\n  genres,\r\n  isMovie=false\r\n}) => (\r\n  <Container>\r\n    <Link to={isMovie ? `/movie/${movieId}` : `/show/${movieId}`}>\r\n    <ImageContainer>\r\n      <Image\r\n        bgUrl={\r\n          imageUrl\r\n            ? `${IMAGE_BASE_URL}w300${imageUrl}`\r\n            : \"https://www.movienewz.com/img/films/poster-holder.jpg\"\r\n        }\r\n      />\r\n    </ImageContainer>\r\n    </Link>\r\n    <RatingsWrapper>\r\n      <Title>{title.length > 11 ? `${title.substring(0, 11)}...` : title}</Title>\r\n    </RatingsWrapper>\r\n    <MyScoreRating\r\n      movieId={movieId}\r\n      count={count}\r\n      genres={genres}\r\n      setCount={setCount}\r\n      imageUrl={imageUrl}\r\n      title={title}\r\n    />\r\n  </Container>\r\n);\r\n\r\nMyScorePoster.propTypes = {\r\n  movieId: PropTypes.number,\r\n  imageUrl: PropTypes.string,\r\n  title: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default MyScorePoster;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { API_URL, API_KEY } from \"../../Components/Config\";\r\nimport Helmet from \"react-helmet\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"../../Components/Loader\";\r\nimport MyScoreSection from \"./MyScoreSection\";\r\nimport MyScorePoster from \"./MyScorePoster\";\r\nimport ProgressBar from \"@ramonak/react-progress-bar\";\r\nimport axios from \"axios\";\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background-color: black;\r\n  border: 1px solid black;\r\n  visibility: hidden;\r\n`;\r\n\r\nconst Progress = styled.div`\r\n  width: 70%;\r\n  height: 100px;\r\n  align-items: center;\r\n  padding-top: 25px;\r\n  margin-left: 15%;\r\n`;\r\n\r\nconst Select = styled.span`\r\n  width: 100%;\r\n  height: 50px;\r\n  margin-left: 50%;\r\n  text-align: center;\r\n  font-size: 40px;\r\n  font-weight: 500;\r\n`;\r\n\r\nfunction MyScore() {\r\n  const buttonRef = useRef(null);\r\n  const [Movies, setMovies] = useState([]);\r\n  const [Loading, setLoading] = useState(true);\r\n  const [CurrentPage, setCurrentPage] = useState(parseInt(Math.random() * 100));\r\n  const [count, setCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    //1. 처음 api 불러오기\r\n    const endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=ko-KR&page=${CurrentPage}&region=KR`;\r\n    fetchMovies(endpoint);\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n\r\n    axios\r\n      .post(\"/api/myscore/myCount\", {\r\n        userFrom: localStorage.getItem(\"userId\"),\r\n      })\r\n      .then((response) => {\r\n        if (response.data.success) {\r\n          setCount(response.data.obj.length);\r\n        } else {\r\n          alert(\"fail\");\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const fetchMovies = (endpoint) => {\r\n    //2. 영화불러오는 func\r\n    fetch(endpoint)\r\n      .then((result) => result.json())\r\n      .then((result) => {\r\n        let temp = result.results;\r\n        let newResult = temp.filter((item) => item.adult === false);\r\n        setMovies([...Movies, ...newResult]);\r\n        setCurrentPage(result.page);\r\n      }, setLoading(false))\r\n      .catch((error) => console.error(\"Error:\", error));\r\n  };\r\n\r\n  const loadMoreItems = () => {\r\n    let endpoint = \"\";\r\n    setLoading(true);\r\n    if (CurrentPage < 101) {\r\n      endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=${\r\n        CurrentPage + 1\r\n      }`;\r\n    } else {\r\n      endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=0`;\r\n    }\r\n    fetchMovies(endpoint);\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    //scroll처리\r\n    const windowHeight =\r\n      \"innerHeight\" in window\r\n        ? window.innerHeight\r\n        : document.documentElement.offsetHeight;\r\n    const body = document.body;\r\n    const html = document.documentElement;\r\n    const docHeight = Math.max(\r\n      body.scrollHeight,\r\n      body.offsetHeight,\r\n      html.clientHeight,\r\n      html.scrollHeight,\r\n      html.offsetHeight\r\n    );\r\n\r\n    const windowBottom = windowHeight + window.pageYOffset;\r\n    if (windowBottom > docHeight - 1) {\r\n      if (buttonRef.current === null) {\r\n        return 0;\r\n      } else {\r\n        buttonRef.current.click();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Score | Nomflix</title>\r\n      </Helmet>\r\n      {Loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Container>\r\n          <Select>{count}</Select>\r\n          <Progress>\r\n            <ProgressBar\r\n              completed={count}\r\n              borderRadius={\"50px\"}\r\n              bgcolor={\"rgba(156, 136, 255)\"}\r\n              labelColor={\"transparent\"}\r\n            />\r\n          </Progress>\r\n          {Movies && Movies.length > 0 && (\r\n            <MyScoreSection title=\"My Score\">\r\n              {Movies.map((movie, index) => (\r\n                <MyScorePoster\r\n                  key={index}\r\n                  movieId={movie.id}\r\n                  genres={movie.genre_ids[0]}\r\n                  imageUrl={movie.poster_path}\r\n                  title={movie.title}\r\n                  count={count}\r\n                  setCount={setCount}\r\n                  isMovie={true}\r\n                />\r\n              ))}\r\n            </MyScoreSection>\r\n          )}\r\n\r\n          {Loading && <div>Loading...</div>}\r\n          <br />\r\n          <Button ref={buttonRef} className=\"loadMore\" onClick={loadMoreItems}>\r\n            Load More\r\n          </Button>\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyScore;\r\n","import MyScore from \"./MyScore\";\r\n\r\n\r\nexport default MyScore;","import React, { useState, useEffect } from \"react\";\r\nimport { Typography, Form, Input } from \"antd\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport Axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { LOCAL_SERVER } from \"../../Components/Config\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Helmet } from \"react-helmet\";\r\nconst { Title } = Typography;\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 6,\r\n  },\r\n  wrapperCol: {\r\n    span: 14,\r\n  },\r\n};\r\nfunction UpdateProfile(props) {\r\n  const [updatePasswordConfirm, setUpdatePasswordConfirm] = useState(\"\");\r\n  const [updatePassword, setUpdatePassword] = useState(\"\");\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [FilePath, setFilePath] = useState(\"\");\r\n  const [currentEmail, setCurrentEmail] = useState(\"\");\r\n  const [currentName, setCurrentName] = useState(\"\");\r\n  const [currentImage, setCurrentImage] = useState(\"\");\r\n  const [UpdateName, setUpdateName] = useState(\"\");\r\n  useEffect(() => {\r\n    Axios.post(\"/api/users/getUserInfo\", {\r\n      userId: localStorage.getItem(\"userId\"),\r\n    }).then(response => {\r\n      if (response.data.success) {\r\n        setCurrentEmail(response.data.user[0].email);\r\n        setCurrentName(response.data.user[0].name);\r\n        setCurrentImage(response.data.user[0].image);\r\n      } else {\r\n        alert(\"user 정보를 갖고오는데 실패했습니다.\");\r\n      }\r\n    });\r\n  }, []);\r\n  const onDrop = files => {\r\n    let formData = new FormData();\r\n    const config = {\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    };\r\n    formData.append(\"file\", files[0]);\r\n    Axios.post(\"/api/image/uploadfiles\", formData, config).then(response => {\r\n      if (response.data.success) {\r\n        setFilePath(response.data.filePath);\r\n      } else {\r\n        alert(\"failed to save the video in server\");\r\n      }\r\n    });\r\n  };\r\n  const handleChangeCurrentName = event => {\r\n    setUpdateName(event.currentTarget.value);\r\n  };\r\n  const handleChangeCurrentPassword = event => {\r\n    setCurrentPassword(event.currentTarget.value)\r\n  };\r\n  const handleChangeUpdatePassword = event => {\r\n    setUpdatePassword(event.currentTarget.value);\r\n  };\r\n  const handleChangeUpdatePasswordConfirm = event => {\r\n    setUpdatePasswordConfirm(event.currentTarget.value);\r\n  };\r\n  const onSubmit = event => {\r\n    if (currentEmail.includes(\"(google)\") || currentEmail.includes(\"(kakao)\")) {\r\n      alert(\"소셜 계정입니다!\");\r\n    }\r\n    if(currentPassword === \"\"){\r\n      alert(\"현재 비밀번호를 입력하세요\")\r\n    }\r\n    event.preventDefault(); //페이지 refresh 방지\r\n    let variable = {\r\n      id: window.localStorage.getItem(\"userId\"),\r\n      password: currentPassword,\r\n      newName: UpdateName !== \"\" ? UpdateName : currentName,\r\n      newPassword: updatePassword !== \"\" ? updatePassword : currentPassword,\r\n      newImage: FilePath !== \"\" ? FilePath : currentImage,\r\n    };\r\n    if (updatePassword === updatePasswordConfirm) {\r\n      Axios.post(\"/api/users/updateProfile\", variable).then(response => {\r\n        if (response.data.success) {\r\n          alert(\"변경되었습니다.\");\r\n          props.history.push(\"/\");\r\n        } else {\r\n        }\r\n      });\r\n    } else {\r\n      alert(\"비밀번호가 일치하지 않습니다!\");\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n    <Helmet>\r\n        <title>MyPage | Nomflix</title>\r\n      </Helmet>\r\n      <div>\r\n        <Form\r\n          {...formItemLayout}\r\n          style={{\r\n            border: \"1px solid white\",\r\n            margin: \"2rem auto\",\r\n            textAlign: \"center\",\r\n            width: \"50%\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"20px\",\r\n          }}\r\n        >\r\n          <Title style={{ color: \"black\" }}>회원정보 수정</Title>\r\n          <h3 style={{ color: \"black\" }}>\r\n            회원님의 소정한 정보를 안전하게 관리하세요.\r\n          </h3>\r\n          <Dropzone onDrop={onDrop} multiple={false} maxSize={800000000}>\r\n            {({ getRootProps, getInputProps }) => (\r\n              <div\r\n                style={{\r\n                  width: \"6rem\",\r\n                  height: \"6rem\",\r\n                  border: \"1px solid black\",\r\n                  borderRadius: \"20px\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  position: \"relative\",\r\n                  top: \"5px\",\r\n                  left: \"5px\",\r\n                  margin: \"0 auto\",\r\n                }}\r\n                {...getRootProps()}\r\n              >\r\n                <input {...getInputProps()} />\r\n                <img\r\n                  style={{\r\n                    display: \"flex\",\r\n                    borderRadius: \"30%\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                  src={\r\n                    FilePath\r\n                      ? `${LOCAL_SERVER}${FilePath}`\r\n                      : currentImage\r\n                      ? `${LOCAL_SERVER}${currentImage}`\r\n                      : `${LOCAL_SERVER}uploads/default.png`\r\n                  }\r\n                  alt=\"haha\"\r\n                  width=\"110px\"\r\n                  height=\"110px\"\r\n                />\r\n              </div>\r\n            )}\r\n          </Dropzone>\r\n          <br />\r\n          <Form.Item\r\n            style={{ color: \"white\" }}\r\n            label=\"이메일\"\r\n            hasFeedback\r\n            validateStatus=\"success\"\r\n          >\r\n            <Input value={currentEmail} disabled />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{ color: \"white\" }}\r\n            label=\"이름\"\r\n            hasFeedback\r\n            validateStatus=\"success\"\r\n          >\r\n            <Input\r\n              placeholder={currentName}\r\n              value={UpdateName}\r\n              onChange={handleChangeCurrentName}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{ color: \"white\" }}\r\n            label=\"현 비밀번호\"\r\n            hasFeedback\r\n            validateStatus=\"success\"\r\n          >\r\n            <Input\r\n              placeholder=\"현재 비밀번호 입력\"\r\n              value={currentPassword}\r\n              onChange={handleChangeCurrentPassword}\r\n              type=\"password\"\r\n              id=\"currentPassword\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{ color: \"white\" }}\r\n            label=\"새 비밀번호\"\r\n            hasFeedback\r\n            validateStatus=\"success\"\r\n          >\r\n            <Input\r\n              placeholder=\"새 비밀번호 입력\"\r\n              value={updatePassword}\r\n              onChange={handleChangeUpdatePassword}\r\n              type=\"password\"\r\n              id=\"newPassword\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            style={{ color: \"white\" }}\r\n            label=\"새 비밀번호 재입력\"\r\n            hasFeedback\r\n            validateStatus=\"success\"\r\n          >\r\n            <Input\r\n              placeholder=\"새 비밀번호 재입력\"\r\n              type=\"password\"\r\n              value={updatePasswordConfirm}\r\n              onChange={handleChangeUpdatePasswordConfirm}\r\n              id=\"newPasswordConfirm\"\r\n            />\r\n          </Form.Item>\r\n          <br />\r\n          <br />\r\n          <Button\r\n            style={{\r\n              backgroundColor: \"mediumslateblue\",\r\n              borderRadius: \"5px\",\r\n            }}\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            onClick={onSubmit}\r\n          >\r\n            Update Profile\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default withRouter(UpdateProfile);","import UpdateProfile from \"./UpdateProfile\";\r\n\r\nexport default UpdateProfile;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { withStyles } from '@material-ui/core';\r\nimport { Paper } from '@material-ui/core';\r\n\r\n// Component styles\r\nconst styles = () => {\r\n  return {\r\n    root: {\r\n      borderRadius: '4px',\r\n      maxWidth: '100%',\r\n      border: 0,\r\n      boxShadow: '0 10px 40px 0 rgba(16, 36, 94, 0.2)'\r\n    },\r\n    squared: {\r\n      borderRadius: 0\r\n    },\r\n    outlined: {\r\n      border: 0\r\n    }\r\n  };\r\n};\r\n\r\nconst CustomPaper = props => {\r\n  const { classes, className, outlined, squared, children, ...rest } = props;\r\n\r\n  const rootClassName = classNames(\r\n    {\r\n      [classes.root]: true,\r\n      [classes.squared]: squared,\r\n      [classes.outlined]: outlined\r\n    },\r\n    className\r\n  );\r\n\r\n  return (\r\n    <Paper {...rest} className={rootClassName}>\r\n      {children}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nCustomPaper.propTypes = {\r\n  children: PropTypes.node,\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired,\r\n  elevation: PropTypes.number,\r\n  outlined: PropTypes.bool,\r\n  squared: PropTypes.bool\r\n};\r\n\r\nCustomPaper.defaultProps = {\r\n  squared: false,\r\n  outlined: true,\r\n  elevation: 0\r\n};\r\n\r\nexport default withStyles(styles)(CustomPaper);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { withStyles } from '@material-ui/core';\r\nimport Paper from './Paper';\r\n// Component styles\r\nconst styles = () => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n  }\r\n});\r\n\r\nconst Portlet = props => {\r\n  const { classes, className, children, ...rest } = props;\r\n  const rootClassName = classNames(classes.root, className);\r\n\r\n  return (\r\n    <Paper\r\n      {...rest}\r\n      className={rootClassName}\r\n      elevation={0}\r\n      outlined\r\n      squared={false}>\r\n      {children}\r\n    </Paper>\r\n  );\r\n};\r\nPortlet.propTypes = {\r\n  children: PropTypes.node,\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Portlet);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\n// Component styles\r\nconst styles = theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(3),\r\n    paddingRight: theme.spacing(3),\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    flexGrow: 1,\r\n    overflow: 'auto'\r\n  },\r\n  noPadding: {\r\n    padding: 0\r\n  }\r\n});\r\n\r\nconst PortletContent = props => {\r\n  const { classes, className, children, noPadding, ...rest } = props;\r\n\r\n  const rootClassName = classNames(\r\n    {\r\n      [classes.root]: true,\r\n      [classes.noPadding]: noPadding\r\n    },\r\n    className\r\n  );\r\n\r\n  return (\r\n    <div {...rest} className={rootClassName}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nPortletContent.propTypes = {\r\n  children: PropTypes.node,\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired,\r\n  noPadding: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(PortletContent);\r\n","export default theme => ({\r\n    root: {},\r\n    tableRow: {\r\n      height: '64px',\r\n    },\r\n    tableCell: {\r\n      whiteSpace: 'nowrap',\r\n      color:'white'\r\n    },\r\n    tableCellInner: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      backgroundColor: theme.palette.primary.main,\r\n      display: 'inline-flex',\r\n      fontSize: '14px',\r\n      fontWeight: 500,\r\n      height: '36px',\r\n      width: '36px'\r\n    },\r\n    nameText: {\r\n      display: 'inline-block',\r\n      marginLeft: theme.spacing(2),\r\n      fontWeight: 500,\r\n      cursor: 'pointer'\r\n    }\r\n  });\r\n  ","import React, { Component } from \"react\";\r\nimport classNames from \"classnames\";\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TablePagination,\r\n} from \"@material-ui/core\";\r\nimport Portlet from \"./Portlet\";\r\nimport PortletContent from \"./PortletContent\";\r\nimport styles from \"./styles\";\r\n\r\nclass UserMovie extends Component {\r\n  state = {\r\n    rowsPerPage: 10,\r\n    page: 0,\r\n  };\r\n\r\n  static defaultProps = {\r\n    movies: [],\r\n  };\r\n\r\n  handleChangePage = (event, page) => {\r\n    this.setState({ page });\r\n  };\r\n\r\n  handleChangeRowsPerPage = event => {\r\n    this.setState({ rowsPerPage: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { classes, className, movies, removeItem } = this.props;\r\n    const { rowsPerPage, page } = this.state;\r\n    const rootClassName = classNames(classes.root, className);\r\n    return (\r\n      <Portlet className={rootClassName} style={{ backgroundColor: \"#2D2D2D\" }}>\r\n        <PortletContent noPadding>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Movie\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Theater\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Seats\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Date\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Start At\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Ticket Price\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Total\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  환불\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {movies\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map(movie => (\r\n                  <TableRow className={classes.tableRow} hover key={movie._id}>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {movie.title}\r\n                    </TableCell>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {movie.theater}관\r\n                    </TableCell>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {movie.seat ? movie.seat\r\n                      .sort()\r\n                      .map((seat, index) => {\r\n                    if (index < movie.seat.length - 1) {\r\n                      return seat + \", \";\r\n                    } else {\r\n                      return seat;\r\n                    }\r\n                  }) : \"not found\"}\r\n                    </TableCell>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {movie.selectDay[0].day}/{movie.selectDay[0].month}/\r\n                      {movie.selectDay[0].year}\r\n                    </TableCell>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {movie.time[0].time}\r\n                    </TableCell>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {movie.price}\r\n                    </TableCell>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {movie.continent}\r\n                    </TableCell>\r\n                    <TableCell\r\n                      className={classes.tableCell}\r\n                      style={{ color: \"#2d2d2d\" }}\r\n                    >\r\n                      <button onClick={() => removeItem(movie._id)}>\r\n                        환불\r\n                      </button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n            </TableBody>\r\n          </Table>\r\n          <TablePagination\r\n            style={{ color: \"white\" }}\r\n            backIconButtonProps={{\r\n              \"aria-label\": \"Previous Page\",\r\n            }}\r\n            component=\"div\"\r\n            count={movies.length}\r\n            nextIconButtonProps={{\r\n              \"aria-label\": \"Next Page\",\r\n            }}\r\n            onChangePage={this.handleChangePage}\r\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n            page={page}\r\n            rowsPerPage={rowsPerPage}\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n          />\r\n        </PortletContent>\r\n      </Portlet>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(UserMovie);\r\n","import React, { Component } from \"react\";\r\nimport classNames from \"classnames\";\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport {Button} from \"antd\";\r\n\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TablePagination,\r\n} from \"@material-ui/core\";\r\nimport Portlet from \"../../MyMovie/Sections/Portlet\";\r\nimport PortletContent from \"../../MyMovie/Sections/PortletContent\";\r\nimport styles from \"../../MyMovie/Sections/styles\";\r\nimport { LOCAL_SERVER } from \"../../../Components/Config\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\n\r\nclass CartPage extends Component {\r\n  state = {\r\n    rowsPerPage: 10,\r\n    page: 0,\r\n  };\r\n\r\n  static defaultProps = {\r\n    products: [],\r\n  };\r\n\r\n  handleChangePage = page => {\r\n    this.setState({ page });\r\n  };\r\n\r\n  handleChangeRowsPerPage = event => {\r\n    this.setState({ rowsPerPage: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { classes, className, products, removeItem } = this.props;\r\n    const { rowsPerPage, page } = this.state;\r\n    const rootClassName = classNames(classes.root, className);\r\n\r\n    const renderCartImage = images => {\r\n      if (images.length > 0) {\r\n        let image = images[0];\r\n        return `${LOCAL_SERVER}${image}`;\r\n      }\r\n    };\r\n\r\n    return (\r\n      <>\r\n      <Helmet>\r\n      <title>Cart | Nomflix</title>\r\n    </Helmet>\r\n      <Portlet className={rootClassName} style={{ backgroundColor: \"#2D2D2D\" }}>\r\n        <PortletContent noPadding>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Product Image\r\n                </TableCell>\r\n\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Product Name\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Product Quantity\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  Product Price\r\n                </TableCell>\r\n                <TableCell align=\"left\" style={{ color: \"white\" }}>\r\n                  환불\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {products\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map(product => (\r\n                  <TableRow\r\n                    className={classes.tableRow}\r\n                    hover\r\n                    key={product._id}\r\n                  >\r\n                    <TableCell className={classes.tableCell}>\r\n                      {/* 이미지 */}\r\n                      <img\r\n                        style={{ width: \"70px\" }}\r\n                        alt=\"product\"\r\n                        src={renderCartImage(product.images)}\r\n                      />\r\n                    </TableCell>\r\n\r\n                    <TableCell className={classes.tableCell}>\r\n                      {/* 타이틀 */}\r\n                      {product.title}\r\n                    </TableCell>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {/* 갯수 */}\r\n                      {product.quantity} EA\r\n                    </TableCell>\r\n                    <TableCell className={classes.tableCell}>\r\n                      {/* 가격 */}\r\n                      {product.price}원\r\n                    </TableCell>\r\n\r\n                    <TableCell\r\n                      className={classes.tableCell}\r\n                      style={{ color: \"#2d2d2d\" }}\r\n                    >\r\n                      <Button \r\n                      type=\"primary\"\r\n\r\n                      style={{ backgroundColor:\"#7b68ee\", border:\"#7b68ee\" }}\r\n                      onClick={() => removeItem(product._id)}>\r\n                        삭제\r\n                      </Button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n            </TableBody>\r\n          </Table>\r\n          <TablePagination\r\n            style={{ color: \"white\" }}\r\n            backIconButtonProps={{\r\n              \"aria-label\": \"Previous Page\",\r\n            }}\r\n            component=\"div\"\r\n            count={products.length}\r\n            nextIconButtonProps={{\r\n              \"aria-label\": \"Next Page\",\r\n            }}\r\n            onChangePage={this.handleChangePage}\r\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n            page={page}\r\n            rowsPerPage={rowsPerPage}\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n          />\r\n        </PortletContent>\r\n      </Portlet>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(CartPage);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  getMovieItems,\r\n  removeMovieItem,\r\n  getCartItems,\r\n  removeCartItem,\r\n  onSuccessBuy,\r\n} from \"../../_actions/user_action\";\r\nimport UserMovie from \"./Sections/UserMovie\";\r\nimport { Empty, Result } from \"antd\";\r\nimport CartPage from \"../Product/CartPage/CartPage\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Button1 = styled.button`\r\n  color: #9c88ff;\r\n  border: 3px solid #9c88ff;\r\n  border-radius: 5px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  background-color: #151515;\r\n  margin-left: 20px;\r\n  padding: 5px;\r\n  box-shadow: 0 1.5rem 2rem rgba(156, 136, 255, 0.2);\r\n`;\r\n\r\nfunction MyMovie(props) {\r\n  const dispatch = useDispatch();\r\n  const [ShowTotalMovie, setShowTotalMovie] = useState(true);\r\n  const [ShowTotalProduct, setShowTotalProduct] = useState(true);\r\n  const [Total, setTotal] = useState(0);\r\n  const [ShowSuccess, setShowSuccess] = useState(false);\r\n  useEffect(() => {\r\n    let movieObjIds = [];\r\n    let cartItems = [];\r\n    //리덕스 User state안에 movie안에 결재내역이 있는지 확인\r\n    if (props.user.userData && props.user.userData.movie) {\r\n      if (props.user.userData.movie.length > 0) {\r\n        props.user.userData.movie.forEach(item => {\r\n          movieObjIds.push(item._id);\r\n        });\r\n        dispatch(getMovieItems(movieObjIds, props.user.userData.movie));\r\n      }\r\n    }\r\n\r\n    //redux User state안에 Cart 안에 상품이 들어 있는지 확인\r\n    if (props.user.userData && props.user.userData.cart) {\r\n      if (props.user.userData.cart.length > 0) {\r\n        props.user.userData.cart.forEach(item => {\r\n          cartItems.push(item.id);\r\n        });\r\n        dispatch(getCartItems(cartItems, props.user.userData.cart)).then(\r\n          response => {\r\n            calculateTotal(response.payload);\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }, [props.user.userData, dispatch]);\r\n\r\n  let calculateTotal = cartDetail => {\r\n    let total = 0;\r\n    cartDetail.forEach(item => {\r\n      total += parseInt(item.price, 10) * item.quantity;\r\n    });\r\n\r\n    setTotal(total);\r\n  };\r\n\r\n  const removeFromMovie = movieObjId => {\r\n    dispatch(removeMovieItem(movieObjId)).then(response => {\r\n      if (response.payload.movieInfo.length <= 0) {\r\n        setShowTotalMovie(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  let removeFromCart = productId => {\r\n    dispatch(removeCartItem(productId)).then(response => {\r\n      if (response.payload.productInfo.length <= 0) {\r\n        setShowTotalProduct(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const transactionSuccess = data => {\r\n    dispatch(\r\n      onSuccessBuy({\r\n        paymentData: data,\r\n        cartDetail: props.user.cartDetail,\r\n      })\r\n    ).then(response => {\r\n      if (response.payload.success) {\r\n        setShowTotalProduct(false);\r\n        setShowSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const onKaKaoPay = () => {\r\n    var IMP = window.IMP; // 생략가능\r\n    IMP.init(\"imp10561880\");\r\n    // 'iamport' 대신 부여받은 \"가맹점 식별코드\"를 사용\r\n\r\n    IMP.request_pay(\r\n      {\r\n        pg: \"inicis\", // version 1.1.0부터 지원.\r\n        pay_method: \"card\",\r\n        merchant_uid: \"merchant_\" + new Date().getTime(),\r\n        name: props.user.cartDetail[0].title + \" 외\",\r\n        amount: Total,\r\n        buyer_email: props.user.userData.email,\r\n        buyer_name: props.user.userData.name,\r\n        buyer_tel: \"010-1234-5678\",\r\n        buyer_addr: \"서울특별시 강남구 삼성동\",\r\n        buyer_postcode: \"123-456\",\r\n        m_redirect_url: \"https://www.yourdomain.com/payments/complete\",\r\n      },\r\n      function (rsp) {\r\n        if (rsp.success) {\r\n          var id = {\r\n            uid: rsp.imp_uid,\r\n          };\r\n          var msg = \"결제가 완료되었습니다.\";\r\n          msg += \"고유ID : \" + rsp.imp_uid;\r\n          msg += \"상점 거래ID : \" + rsp.merchant_uid;\r\n          msg += \"결제 금액 : \" + rsp.paid_amount;\r\n          transactionSuccess(id);\r\n        } else {\r\n          msg = \"결제에 실패하였습니다.\";\r\n          msg += \"에러내용 : \" + rsp.error_msg;\r\n        }\r\n        alert(msg);\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: \"85%\", margin: \"4rem auto\" }}>\r\n      <h1 style={{ color: \"white\", fontSize: \"30px\" }}>My Product</h1>\r\n      <br />\r\n      <div>\r\n        <CartPage\r\n          products={props.user.cartDetail && props.user.cartDetail}\r\n          removeItem={removeFromCart}\r\n        />\r\n        {ShowTotalProduct ? (\r\n          <div\r\n            style={{\r\n              marginTop: \"1rem\",\r\n              fontSize: \"35px\",\r\n              color: \"white\",\r\n              textAlign: \"right\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <h4 style={{ color: \"#f7f7f7\" }}>\r\n              총 금액:\r\n              <span style={{ color: \"#f7f7f7\" }}>{Total}</span>\r\n              <b>원</b>\r\n            </h4>\r\n          </div>\r\n        ) : ShowSuccess ? (\r\n          <Result status=\"success\" title=\"Success!\" />\r\n        ) : (\r\n          <>\r\n            <br />\r\n            <Empty description={false} />\r\n          </>\r\n        )}\r\n        <div style={{ textAlign: \"right\", paddingTop: \"2%\" }}>\r\n          {ShowTotalProduct && (\r\n            <Button1 variant=\"contained\" color=\"primary\" onClick={onKaKaoPay}>\r\n              주문하기\r\n            </Button1>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <hr style={{ color: \"white\", border: \"thin solid white\" }} />\r\n      <br />\r\n      <br />\r\n      <hr />\r\n      <h1 style={{ color: \"white\", fontSize: \"30px\" }}>My Movie</h1>\r\n      <br />\r\n      <div>\r\n        <UserMovie\r\n          movies={props.user.movieDetail && props.user.movieDetail}\r\n          removeItem={removeFromMovie}\r\n        />\r\n        {ShowTotalMovie ? <br /> : <Empty description={false} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyMovie;\r\n","import MyMovie from \"./MyMovie\";\r\n\r\nexport default MyMovie;\r\n","import React from \"react\";\r\nimport { Carousel } from \"antd\";\r\nimport { LOCAL_SERVER } from \"../Components/Config\";\r\nfunction ImageSlider(props) {\r\n  return (\r\n    <div>\r\n      <Carousel autoplay>\r\n        {props.images.map((image, index) => (\r\n          <div key={index} style={{}}>\r\n            <img\r\n              style={{ width: \"100%\", maxHeight: \"110px\" }}\r\n              src={`${LOCAL_SERVER}${image}`}\r\n              alt=\"productImage\"\r\n            />\r\n          </div>\r\n        ))}\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageSlider;\r\n","import React, { useState } from \"react\";\r\nimport { Input } from \"antd\";\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SearchFeature(props) {\r\n  const [SearchTerm, setSearchTerm] = useState(\"\");\r\n  const searchHandler = (event) => {\r\n    setSearchTerm(event.currentTarget.value);\r\n    props.refreshFunction(event.currentTarget.value);\r\n  };\r\n  return (\r\n    <div>\r\n      <Search\r\n        placeholder=\"input search text\"\r\n        onChange={searchHandler}\r\n        style={{ width: 200, marginTop:\"10px\", }}\r\n        value={SearchTerm}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchFeature;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Col, Card, Row } from \"antd\";\r\nimport Meta from \"antd/lib/card/Meta\";\r\nimport ImageSlider from \"../../utils/ImageSlider\";\r\nimport SearchFeature from \"./Section/SearchFeature\";\r\nimport styled from \"styled-components\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst Button1 = styled.button`\r\n  color: #9c88ff;\r\n  border: 3px solid #9c88ff;\r\n  border-radius: 5px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  background-color: #151515;\r\n  margin-left: 20px;\r\n  padding: 5px;\r\n  box-shadow: 0 1.5rem 2rem rgba(156, 136, 255, 0.2);\r\n`;\r\n\r\nfunction Product() {\r\n  const [Products, setProducts] = useState([]);\r\n  const [Skip, setSkip] = useState(0);\r\n  const [PostSize, setPostSize] = useState(0);\r\n  const [SearchTerm, setSearchTerm] = useState(\"\");\r\n  const[Limit, setLimit] = useState(8);\r\n  \r\n  useEffect(() => {\r\n    let body = {\r\n      skip: Skip,\r\n      limit: Limit,\r\n    };\r\n\r\n    getProducts(body);\r\n  }, []);\r\n\r\n  const getProducts = (body) => {\r\n    axios.post(\"/api/product/products\", body).then((response) => {\r\n      if (response.data.success) {\r\n        if (body.loadMore) {\r\n          setProducts([...Products, ...response.data.productInfo]);\r\n        } else {\r\n          setProducts(response.data.productInfo);\r\n        }\r\n        setPostSize(response.data.postSize);\r\n      } else {\r\n        alert(\"상품들을 가져오는데 실패 했습니다.\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMoreHandler = () => {\r\n    let skip = Skip + Limit;\r\n\r\n    let body = {\r\n      skip: skip,\r\n      limit: Limit,\r\n      loadMore: true,\r\n    };\r\n\r\n    getProducts(body);\r\n    setSkip(skip);\r\n  };\r\n\r\n  const renderCards = Products.map((product, index) => {\r\n    return (\r\n      <Col lg={6} md={7} xs={24} key={index}>\r\n        <Card\r\n          style={{\r\n            width: \"70%\",\r\n            height: \"80%\",\r\n            border: \"6px solid #9c88ff\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"5px\",\r\n            marginBottom: \"50px\",\r\n          }}\r\n          hoverable={true}\r\n          cover={\r\n            <a href={`/product/${product._id}`}>\r\n              <ImageSlider images={product.images} />\r\n            </a>\r\n          }\r\n        >\r\n          <Meta\r\n            title={product.title}\r\n            description={`${product.price}원`}\r\n            style={{\r\n              position: \"releative\",\r\n              textAlign: \"center\",\r\n              fontSize: \"18px\",\r\n            }}\r\n          />\r\n        </Card>\r\n      </Col>\r\n    );\r\n  });\r\n\r\n  const updateSearchTerm = (newSearchTerm) => {\r\n    let body = {\r\n      skip: 0,\r\n      limit: Limit,\r\n      searchTerm: newSearchTerm,\r\n    };\r\n    setSkip(0);\r\n    setSearchTerm(newSearchTerm);\r\n    getProducts(body);\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <Helmet>\r\n      <title>Product | Nomflix</title>\r\n    </Helmet>\r\n    <div style={{ width: \"75%\", margin: \"3rem auto\" }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n        <span\r\n          style={{\r\n            color: \"white\",\r\n            fontSize: \"3rem\",\r\n            fontWeight: \"600\",\r\n            width: \"50%\",\r\n            marginLeft: \"10px\",\r\n          }}\r\n        >\r\n          Store\r\n        </span>\r\n        <div\r\n          style={{\r\n            justifyContent: \"flex-end\",\r\n            textAlign: \"right\",\r\n            width: \"50%\",\r\n          }}\r\n        >\r\n          <SearchFeature refreshFunction={updateSearchTerm} />\r\n        </div>\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <Row gutter={(16, 16)}>{renderCards}</Row>\r\n      <br />  \r\n      {PostSize >= Limit && (\r\n        <div\r\n          style={{ display: \"flex\", justifyContent: \"center\", color: \"black\" }}\r\n        >\r\n          <Button1\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={loadMoreHandler}\r\n          >\r\n            더보기\r\n          </Button1>\r\n        </div>\r\n      )}\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import Product from \"./Product\";\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ImageGallery from \"react-image-gallery\";\r\nimport { LOCAL_SERVER } from \"../../../Components/Config\";\r\n\r\nfunction ProductImage(props) {\r\n  const [Images, setImages] = useState([]);\r\n  useEffect(() => {\r\n    if (props.detail.images && props.detail.images.length > 0) {\r\n      let images = [];\r\n\r\n      props.detail.images.forEach(item => {\r\n        images.push({\r\n          original: `${LOCAL_SERVER}${item}`,\r\n          thumbnail: `${LOCAL_SERVER}${item}`,\r\n        });\r\n      });\r\n      setImages(images);\r\n    }\r\n  }, [props.detail]);\r\n\r\n  return (\r\n    <div>\r\n      <ImageGallery items={Images} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductImage;\r\n","import React from \"react\";\r\nimport { Descriptions } from \"antd\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from \"../../../_actions/user_action\";\r\n\r\nfunction ProductInfo(props) {\r\n  const dispatch = useDispatch();\r\n\r\n  const clickHandler = () => {\r\n    //카트에 넣으면 필요한 정보를 넣어준다.\r\n    dispatch(addToCart(props.detail._id));\r\n    alert(\"장바구니에 상품이 담겼습니다.\")\r\n  };\r\n  return (\r\n    <div style={{ height:\"50%\", marginLeft:\"5%\", marginTop:\"10%\"}}>\r\n      <table style={{ borderCollapse: \"collapse\", width:\"100%\", height:\"100%\", borderTop:\"1px solid white\" }}>\r\n            <tbody>\r\n              <tr style={{}}>\r\n                <th style={{ color: \"#f7f7f7\", fontSize:\"20px\", width:\"50%\", verticalAlign:\"middle\",borderBottom:\"1px solid white\" }}>가격</th>\r\n                <td style={{ verticalAlign:\"middle\", fontSize:\"20px\", textAlign:\"center\",borderBottom:\"1px solid white\" }}>\r\n                {props.detail.price}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <th style={{ color: \"#f7f7f7\", fontSize:\"20px\", width:\"50%\", verticalAlign:\"middle\",borderBottom:\"1px solid white\" }}>Sold</th>\r\n                <td style={{ verticalAlign:\"middle\", fontSize:\"20px\", textAlign:\"center\",borderBottom:\"1px solid white\" }}>{props.detail.sold}</td>\r\n              </tr>\r\n              <tr>\r\n                <th style={{ color: \"#f7f7f7\", fontSize:\"20px\", width:\"50%\", verticalAlign:\"middle\",borderBottom:\"1px solid white\" }}>View</th>\r\n                <td style={{ verticalAlign:\"middle\", fontSize:\"20px\", textAlign:\"center\",borderBottom:\"1px solid white\" }}>{props.detail.views}</td>\r\n              </tr>\r\n              <tr>\r\n                <th style={{ color: \"#f7f7f7\", fontSize:\"20px\", width:\"50%\", verticalAlign:\"middle\",borderBottom:\"1px solid white\" }}>Description</th>\r\n                <td style={{ verticalAlign:\"middle\", fontSize:\"20px\", textAlign:\"center\",borderBottom:\"1px solid white\" }}>\r\n                {props.detail.description}\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n      <br />\r\n      <br />\r\n      <br />\r\n\r\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={clickHandler}>\r\n          Add to Cart\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductInfo;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ProductImage from \"./Section/ProductImage\";\r\nimport ProductInfo from \"./Section/ProductInfo\";\r\nimport { Row, Col } from \"antd\";\r\nfunction DetailProductPage(props) {\r\n  //상품ID 가져오기\r\n  const productId = props.match.params.productId;\r\n  const [Product, setProduct] = useState({});\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/product/products_by_id?id=${productId}&type=single`)\r\n      .then((response) => {\r\n        setProduct(response.data[0]);\r\n      })\r\n      .catch((err) => alert(err));\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{ width: \"60%\", padding: \"5rem 4rem\", margin:\"0 auto\", height:\"50%\" }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n        }}\r\n      >\r\n        <h1 style={{ color: \"#f7f7f7\", fontSize: \"50px\", fontWeight:\"400\" }}>{Product.title}</h1>\r\n      </div>\r\n        <hr style={{borderColor:\"white\"}}></hr>\r\n      <Row gutter={[16, 16]}>\r\n        <Col lg={12} sm={24}>\r\n          <ProductImage detail={Product}/>\r\n        </Col>\r\n\r\n        <Col lg={12} sm={24}>\r\n          <ProductInfo detail={Product} />\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetailProductPage;\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport Home from \"Routes/Home\";\r\nimport Search from \"Routes/Search\";\r\nimport Header from \"Components/Header\";\r\nimport Detail from \"Routes/Detail\";\r\nimport Login from \"../Routes/Login\";\r\nimport SignUp from \"../Routes/SignUp\";\r\nimport Logout from \"../Routes/Logout\";\r\nimport Auth from \"../hoc/auth\";\r\nimport Favorite from \"../Routes/Favorite\";\r\nimport Admin from \"../Routes/Admin\";\r\nimport MyScore from \"../Routes/MyScore\";\r\nimport UpdateProfile from \"../Routes/UpdateProfile\";\r\nimport MyMovie from \"../Routes/MyMovie\";\r\nimport Product from \"../Routes/Product\";\r\nimport DetailProductPage from \"../Routes/DetailProductPage/DetailProductPage\";\r\n//hoc 불러오기\r\nexport default () => (\r\n  <Router>\r\n    <>\r\n      <Header />\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Auth(Home, true)} />\r\n        <Route path=\"/search\" component={Auth(Search, true)} />\r\n        <Route path=\"/movie/:id\" component={Auth(Detail, true)} exact />\r\n        <Route path=\"/sign-in\" component={Auth(Login, false)} />\r\n        <Route path=\"/sign-up\" component={Auth(SignUp, false)} />\r\n        <Route path=\"/logout\" component={Auth(Logout, true)} />\r\n        <Route path=\"/favorite\" component={Auth(Favorite, true)} />\r\n        <Route path=\"/admin\" component={Auth(Admin, true, true)} exact/>\r\n        <Route path=\"/product\" component={Auth(Product, true)} exact />\r\n        <Route\r\n          path=\"/product/:productId\"\r\n          component={Auth(DetailProductPage, true)}\r\n          exact\r\n        />\r\n        <Route path=\"/myscore\" component={Auth(MyScore, true)} />\r\n        <Route\r\n          path=\"/mypage/update\"\r\n          exact\r\n          component={Auth(UpdateProfile, true)}\r\n        />\r\n        <Route path=\"/mymovie\" component={Auth(MyMovie, true)} />\r\n        <Redirect from=\"*\" to=\"/\" />\r\n      </Switch>\r\n    </>\r\n  </Router>\r\n);\r\n\r\n// <Redirect from=\"*\" to=\"/\"/> : 위의 페이지 외에 어느페이지든 \"/\"로 가게해라 Router는 오직 one child\r\n// element만 가질 수 있기 때문에 <>로 감싼다. Switch는 한 번에 오직 하나의 Route만 Render하게 해줘\r\n// /movie/12 /show/12 exact : 정확히 해당 path여야 한다는 걸 알려준다.\r\n","import { createGlobalStyle } from \"styled-components\";\r\nimport reset from \"styled-reset\";\r\n\r\nconst globalStyles = createGlobalStyle`\r\n    ${reset};\r\n    a{\r\n        text-decoration:none;\r\n        color: #e5e5e5;\r\n    }\r\n    *{\r\n        color: inherit;\r\n        box-sizing:border-box;\r\n    }\r\n    body{\r\n        font-family: \"Netflix Sans Icon\";\r\n        font-size:14px;\r\n        background-color:black;\r\n        color:#e5e5e5;\r\n        padding-top:50px;\r\n        /* @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@700&family=Oswald:wght@400;600&display=swap'); */\r\n    }\r\n    \r\n`;\r\nexport default globalStyles;\r\n","import React, { Component } from \"react\";\r\nimport Router from \"Components/Router\";\r\nimport GlobalStyles from \"Components/GlobalStyles\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {\" \"}\r\n        <Router /> <GlobalStyles />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport user from './user_reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    user \r\n})\r\n\r\nexport default rootReducer;\r\n","import {\r\n  LOGIN_USER,\r\n  REGISTER_USER,\r\n  AUTH_USER,\r\n  ADD_TO_MOVIE,\r\n  //   LOGOUT_USER,\r\n  GET_MOVIE_ITEMS,\r\n  REMOVE_MOVIE_ITEM,\r\n  ADD_TO_CART,\r\n  GET_CART_ITEMS,\r\n  REMOVE_CART_ITEM,\r\n  ON_SUCCESS_BUY,\r\n} from \"../_actions/types\";\r\n\r\nexport default function (state = {}, action) {\r\n  switch (action.type) {\r\n    case LOGIN_USER:\r\n      return { ...state, loginSuccess: action.payload };\r\n    case REGISTER_USER:\r\n      return { ...state, register: action.payload };\r\n    case AUTH_USER:\r\n      return { ...state, userData: action.payload };\r\n    // case LOGOUT_USER:\r\n    //   return { ...state };\r\n    case ADD_TO_MOVIE:\r\n      return {\r\n        ...state,\r\n        userData: {\r\n          ...state.userData,\r\n          movie: action.payload,\r\n        },\r\n      };\r\n    case GET_MOVIE_ITEMS:\r\n      return { ...state, movieDetail: action.payload };\r\n    case REMOVE_MOVIE_ITEM:\r\n      return {\r\n        ...state,\r\n        movieDetail: action.payload.movieInfo,\r\n        userData: {\r\n          ...state.userData,\r\n          movie: action.payload.movie,\r\n        },\r\n      };\r\n    case ADD_TO_CART:\r\n      return {\r\n        ...state,\r\n        userData: {\r\n          ...state.userData,\r\n          cart: action.payload,\r\n        },\r\n      };\r\n    case GET_CART_ITEMS:\r\n      return { ...state, cartDetail: action.payload };\r\n    case REMOVE_CART_ITEM:\r\n      return {\r\n        ...state,\r\n        cartDetail: action.payload.productInfo,\r\n        userData: {\r\n          ...state.userData,\r\n          cart: action.payload.cart,\r\n        },\r\n      };\r\n    case ON_SUCCESS_BUY:\r\n      return {\r\n        ...state,\r\n        cartDetail: action.payload.cartDetail,\r\n        userData: {\r\n          ...state.userData,\r\n          cart: action.payload.cart,\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// userData : action.payload에 아래 코드들이 들어간다.\r\n// res.status(200).json({\r\n//     _id: req.user._id,\r\n//     isAdmin: req.user.role === 0 ? false : true,\r\n//     isAuth: true,\r\n//     email: req.user.email,\r\n//     name: req.user.name,\r\n//     lastname: req.user.lastname,\r\n//     role: req.user.role,\r\n//     image: req.user.image\r\n//   })","const theme = {\r\n  colors: {\r\n    main: '#37474f',\r\n    dark: '#263238',\r\n    light: '#546e7a',\r\n    lighter: '#b0bec5',\r\n    text: '#fafafa',\r\n    link: '#444444',\r\n  },\r\n  size: {\r\n    smallest: '25em', //275px\r\n    smaller: '31.25em', //500px\r\n    small: '37.5em', //600px\r\n    medium: '56.25em', //900px\r\n    large: '80em', //1300px\r\n    larger: '90em', //1300px\r\n    largest: '97em', //1500px\r\n  },\r\n  mediaQueries: {\r\n    smallest: `only screen and (max-width: 25em)`,\r\n    smaller: 'only screen and (max-width: 31.25em)',\r\n    small: 'only screen and (max-width: 37.5em)',\r\n    medium: 'only screen and (max-width: 56.25em)',\r\n    large: 'only screen and (max-width: 80em)',\r\n    larger: 'only screen and (max-width: 90em)',\r\n    largest: 'only screen and (max-width: 97em)',\r\n  },\r\n};\r\n\r\nexport default theme;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"Components/App\"; //.env에서 기본적으로 src폴더를 보게 해준다.\r\nimport \"./api\";\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.css\";\r\nimport { Provider } from \"react-redux\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport promiseMiddleware from \"redux-promise\";\r\nimport ReduxThunk from \"redux-thunk\";\r\nimport Reducer from \"./_reducers\";\r\nimport theme from \"./utils/theme\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport './index.css';\r\n\r\nconst createStoreWithMiddleware = applyMiddleware(\r\n  promiseMiddleware,\r\n  ReduxThunk\r\n)(createStore);\r\n\r\nReactDOM.render(\r\n  <Provider\r\n    store={createStoreWithMiddleware(\r\n      Reducer,\r\n      window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n        window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    )}\r\n  >\r\n    <ThemeProvider theme={theme}>\r\n      <App />\r\n    </ThemeProvider>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}